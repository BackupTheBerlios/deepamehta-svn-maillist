<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [deepamehta-svn] r220 - in trunk: . .settings ant ant/contrib	ant/lib develop develop/src/de/deepamehta	develop/src/de/deepamehta/client develop/src/de/deepamehta/service	develop/src/de/deepamehta/service/db	develop/src/de/deepamehta/service/web	develop/src/de/deepamehta/topics	develop/src/de/deepamehta/topics/personalweb install/client	install/config install/db install/db/db-specific	install/db/patches install/examples/dm-browser	install/examples/dm-search install/examples/dm-topicmapviewer	install/examples/dm-web install/examples/knoppixforum	install/examples/kompetenzstern	install/examples/kompetenzstern/src/de/deepamehta/kompetenzstern/topics	install/examples/ldap install/examples/messageboard	install/examples/movies install/examples/movies/config	install/examples/movies/db install/examples/musicforum
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/deepamehta-svn/2007-September/index.html" >
   <LINK REL="made" HREF="mailto:deepamehta-svn%40lists.berlios.de?Subject=Re%3A%20%5Bdeepamehta-svn%5D%20r220%20-%20in%20trunk%3A%20.%20.settings%20ant%20ant/contrib%0A%09ant/lib%20develop%20develop/src/de/deepamehta%0A%09develop/src/de/deepamehta/client%20develop/src/de/deepamehta/service%0A%09develop/src/de/deepamehta/service/db%0A%09develop/src/de/deepamehta/service/web%0A%09develop/src/de/deepamehta/topics%0A%09develop/src/de/deepamehta/topics/personalweb%20install/client%0A%09install/config%20install/db%20install/db/db-specific%0A%09install/db/patches%20install/examples/dm-browser%0A%09install/examples/dm-search%20install/examples/dm-topicmapviewer%0A%09install/examples/dm-web%20install/examples/knoppixforum%0A%09install/examples/kompetenzstern%0A%09install/examples/kompetenzstern/src/de/deepamehta/kompetenzstern/topics%0A%09install/examples/ldap%20install/examples/messageboard%0A%09install/examples/movies%20install/examples/movies/config%0A%09install/examples/movies/db%20install/examples/musicforum&In-Reply-To=%3C200709211502.l8LF2Dpa019799%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000064.html">
   <LINK REL="Next"  HREF="000066.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[deepamehta-svn] r220 - in trunk: . .settings ant ant/contrib	ant/lib develop develop/src/de/deepamehta	develop/src/de/deepamehta/client develop/src/de/deepamehta/service	develop/src/de/deepamehta/service/db	develop/src/de/deepamehta/service/web	develop/src/de/deepamehta/topics	develop/src/de/deepamehta/topics/personalweb install/client	install/config install/db install/db/db-specific	install/db/patches install/examples/dm-browser	install/examples/dm-search install/examples/dm-topicmapviewer	install/examples/dm-web install/examples/knoppixforum	install/examples/kompetenzstern	install/examples/kompetenzstern/src/de/deepamehta/kompetenzstern/topics	install/examples/ldap install/examples/messageboard	install/examples/movies install/examples/movies/config	install/examples/movies/db install/examples/musicforum</H1>
    <B>jri at mail.berlios.de</B> 
    <A HREF="mailto:deepamehta-svn%40lists.berlios.de?Subject=Re%3A%20%5Bdeepamehta-svn%5D%20r220%20-%20in%20trunk%3A%20.%20.settings%20ant%20ant/contrib%0A%09ant/lib%20develop%20develop/src/de/deepamehta%0A%09develop/src/de/deepamehta/client%20develop/src/de/deepamehta/service%0A%09develop/src/de/deepamehta/service/db%0A%09develop/src/de/deepamehta/service/web%0A%09develop/src/de/deepamehta/topics%0A%09develop/src/de/deepamehta/topics/personalweb%20install/client%0A%09install/config%20install/db%20install/db/db-specific%0A%09install/db/patches%20install/examples/dm-browser%0A%09install/examples/dm-search%20install/examples/dm-topicmapviewer%0A%09install/examples/dm-web%20install/examples/knoppixforum%0A%09install/examples/kompetenzstern%0A%09install/examples/kompetenzstern/src/de/deepamehta/kompetenzstern/topics%0A%09install/examples/ldap%20install/examples/messageboard%0A%09install/examples/movies%20install/examples/movies/config%0A%09install/examples/movies/db%20install/examples/musicforum&In-Reply-To=%3C200709211502.l8LF2Dpa019799%40sheep.berlios.de%3E"
       TITLE="[deepamehta-svn] r220 - in trunk: . .settings ant ant/contrib	ant/lib develop develop/src/de/deepamehta	develop/src/de/deepamehta/client develop/src/de/deepamehta/service	develop/src/de/deepamehta/service/db	develop/src/de/deepamehta/service/web	develop/src/de/deepamehta/topics	develop/src/de/deepamehta/topics/personalweb install/client	install/config install/db install/db/db-specific	install/db/patches install/examples/dm-browser	install/examples/dm-search install/examples/dm-topicmapviewer	install/examples/dm-web install/examples/knoppixforum	install/examples/kompetenzstern	install/examples/kompetenzstern/src/de/deepamehta/kompetenzstern/topics	install/examples/ldap install/examples/messageboard	install/examples/movies install/examples/movies/config	install/examples/movies/db install/examples/musicforum">jri at mail.berlios.de
       </A><BR>
    <I>Fri Sep 21 17:02:13 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000064.html">[deepamehta-svn] r219 - in branches/eschnepel: . .settings ant/lib	install/db install/db/db-specific install/db/patches
</A></li>
        <LI>Next message: <A HREF="000066.html">[deepamehta-svn] r221 - in branches/eschnepel: .settings develop/src/de/deepamehta develop/src/de/deepamehta/assocs develop/src/de/deepamehta/client develop/src/de/deepamehta/service develop/src/de/deepamehta/service/db develop/src/de/deepamehta/service/web develop/src/de/deepamehta/topics develop/src/de/deepamehta/topics/helper develop/src/de/deepamehta/topics/personalweb install/examples/artfacts/src/de/deepamehta/artfacts/topics install/examples/dm-browser/src/de/deepamehta/browser install/examples/dm-search/src/de/deepamehta/webfront install/examples/dm-topicmapviewer/src/de/deepamehta/topicmapviewer install/examples/dm-web/src/de/deepamehta/webfrontend install/examples/kompetenzstern/src/de/deepamehta/kompetenzstern install/examples/kompetenzstern/src/de/deepamehta/kompetenzstern/assocs install/examples/kompetenzstern/src/de/deepamehta/kompetenzstern/topics install/examples/ldap/src/de/deepamehta/topics install/examples/messageboard/src/de/deepamehta/messageboard install/exampl! es/messageboard/src/de/deepamehta/messageboard/topics install/examples/movies/src/de/deepamehta/movies/topics
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65">[ date ]</a>
              <a href="thread.html#65">[ thread ]</a>
              <a href="subject.html#65">[ subject ]</a>
              <a href="author.html#65">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: jri
Date: 2007-09-21 17:00:46 +0200 (Fri, 21 Sep 2007)
New Revision: 220

Added:
   trunk/.checkstyle
   trunk/.settings/org.eclipse.core.resources.prefs
   trunk/ant/contrib/
   trunk/ant/contrib/jdepend2dot.xsl
   trunk/ant/lib/antinput.jar
   trunk/ant/lib/checkstyle-all-4.3.jar
   trunk/ant/lib/jdepend-2.9.jar
   trunk/checkstyle_config.xml
   trunk/install/db/db-specific/asksyspass.xml
   trunk/install/db/db-specific/list-db-hsqldb.xml
   trunk/install/db/db-specific/list-db-mysql.xml
Removed:
   trunk/ant/contrib/jdepend2dot.xsl
Modified:
   trunk/
   trunk/.settings/org.eclipse.jdt.core.prefs
   trunk/.settings/org.eclipse.jdt.ui.prefs
   trunk/build-development.xml
   trunk/build.xml
   trunk/config.xml
   trunk/develop/
   trunk/develop/src/de/deepamehta/Configuration.java
   trunk/develop/src/de/deepamehta/ConfigurationConstants.java
   trunk/develop/src/de/deepamehta/DeepaMehtaConstants.java
   trunk/develop/src/de/deepamehta/DeepaMehtaException.java
   trunk/develop/src/de/deepamehta/TopicInitException.java
   trunk/develop/src/de/deepamehta/client/ComboBoxRenderer.java
   trunk/develop/src/de/deepamehta/service/ApplicationService.java
   trunk/develop/src/de/deepamehta/service/ApplicationServiceInstance.java
   trunk/develop/src/de/deepamehta/service/CorporateMemory.java
   trunk/develop/src/de/deepamehta/service/CorporateSQLSource.java
   trunk/develop/src/de/deepamehta/service/DeepaMehta.java
   trunk/develop/src/de/deepamehta/service/RelationalCorporateMemory.java
   trunk/develop/src/de/deepamehta/service/db/DefaultDatabaseProvider.java
   trunk/develop/src/de/deepamehta/service/db/HsqlDatabaseProvider.java
   trunk/develop/src/de/deepamehta/service/web/DeepaMehtaServlet.java
   trunk/develop/src/de/deepamehta/topics/DataConsumerTopic.java
   trunk/develop/src/de/deepamehta/topics/DataSourceTopic.java
   trunk/develop/src/de/deepamehta/topics/ElementContainerTopic.java
   trunk/develop/src/de/deepamehta/topics/personalweb/PersonalWeb.java
   trunk/develop/src/de/deepamehta/topics/personalweb/SynchronizedQueue.java
   trunk/install/client/
   trunk/install/config/
   trunk/install/config/dm.properties
   trunk/install/db/db-specific/createdb-CONNECT.xml
   trunk/install/db/db-specific/createdb-EMPTY.xml
   trunk/install/db/db-specific/createdb-ask.xml
   trunk/install/db/db-specific/createdb-sql92.xml
   trunk/install/db/db-specific/db_tables_derby.sql
   trunk/install/db/db-specific/db_tables_hsqldb.sql
   trunk/install/db/db-specific/db_tables_mysql.sql
   trunk/install/db/db-specific/db_tables_oracle.sql
   trunk/install/db/db-specific/dropdb-ask.xml
   trunk/install/db/db-specific/dropdb-sql92.xml
   trunk/install/db/patches/cm-2.17.sql
   trunk/install/db/whois.sql
   trunk/install/examples/dm-browser/
   trunk/install/examples/dm-search/
   trunk/install/examples/dm-search/build.xml
   trunk/install/examples/dm-topicmapviewer/
   trunk/install/examples/dm-web/
   trunk/install/examples/knoppixforum/
   trunk/install/examples/knoppixforum/build.xml
   trunk/install/examples/kompetenzstern/
   trunk/install/examples/kompetenzstern/src/de/deepamehta/kompetenzstern/topics/KompetenzsternTopic.java
   trunk/install/examples/ldap/
   trunk/install/examples/messageboard/
   trunk/install/examples/movies/
   trunk/install/examples/movies/build.xml
   trunk/install/examples/movies/config/
   trunk/install/examples/movies/config/movies-hsqldb-intern.properties
   trunk/install/examples/movies/config/movies-mysql.properties
   trunk/install/examples/movies/db/dmdb-movies-mysql.sql
   trunk/install/examples/movies/db/dmdb-movies-oracle.sql
   trunk/install/examples/musicforum/
   trunk/install/examples/musicforum/build.xml
   trunk/setup.xml
Log:
Merged from eschnepel branch


Property changes on: trunk
___________________________________________________________________
Name: svn:ignore
   - buildrun.properties
config.properties

   + buildrun.properties
config.properties
dependencies.png
jdepend-report.dot
jdepend-report.xml


Copied: trunk/.checkstyle (from rev 219, branches/eschnepel/.checkstyle)

Copied: trunk/.settings/org.eclipse.core.resources.prefs (from rev 219, branches/eschnepel/.settings/org.eclipse.core.resources.prefs)

Modified: trunk/.settings/org.eclipse.jdt.core.prefs
===================================================================
--- trunk/.settings/org.eclipse.jdt.core.prefs	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/.settings/org.eclipse.jdt.core.prefs	2007-09-21 15:00:46 UTC (rev 220)
@@ -1,5 +1,13 @@
-#Sat Jun 30 11:00:13 CEST 2007
+#Fri Sep 21 15:43:17 CEST 2007
 eclipse.preferences.version=1
+org.eclipse.jdt.core.codeComplete.argumentPrefixes=
+org.eclipse.jdt.core.codeComplete.argumentSuffixes=
+org.eclipse.jdt.core.codeComplete.fieldPrefixes=
+org.eclipse.jdt.core.codeComplete.fieldSuffixes=
+org.eclipse.jdt.core.codeComplete.localPrefixes=
+org.eclipse.jdt.core.codeComplete.localSuffixes=
+org.eclipse.jdt.core.codeComplete.staticFieldPrefixes=
+org.eclipse.jdt.core.codeComplete.staticFieldSuffixes=
 org.eclipse.jdt.core.compiler.codegen.inlineJsrBytecode=disabled
 org.eclipse.jdt.core.compiler.codegen.targetPlatform=1.2
 org.eclipse.jdt.core.compiler.codegen.unusedLocal=preserve
@@ -60,3 +68,252 @@
 org.eclipse.jdt.core.compiler.problem.unusedPrivateMember=warning
 org.eclipse.jdt.core.compiler.problem.varargsArgumentNeedCast=warning
 org.eclipse.jdt.core.compiler.source=1.3
+org.eclipse.jdt.core.compiler.taskCaseSensitive=enabled
+org.eclipse.jdt.core.compiler.taskPriorities=NORMAL,HIGH,NORMAL,NORMAL
+org.eclipse.jdt.core.compiler.taskTags=TODO,FIXME,XXX,\#\#\#
+org.eclipse.jdt.core.formatter.align_type_members_on_columns=false
+org.eclipse.jdt.core.formatter.alignment_for_arguments_in_allocation_expression=16
+org.eclipse.jdt.core.formatter.alignment_for_arguments_in_enum_constant=48
+org.eclipse.jdt.core.formatter.alignment_for_arguments_in_explicit_constructor_call=16
+org.eclipse.jdt.core.formatter.alignment_for_arguments_in_method_invocation=18
+org.eclipse.jdt.core.formatter.alignment_for_arguments_in_qualified_allocation_expression=16
+org.eclipse.jdt.core.formatter.alignment_for_assignment=0
+org.eclipse.jdt.core.formatter.alignment_for_binary_expression=16
+org.eclipse.jdt.core.formatter.alignment_for_compact_if=16
+org.eclipse.jdt.core.formatter.alignment_for_conditional_expression=16
+org.eclipse.jdt.core.formatter.alignment_for_enum_constants=49
+org.eclipse.jdt.core.formatter.alignment_for_expressions_in_array_initializer=16
+org.eclipse.jdt.core.formatter.alignment_for_multiple_fields=16
+org.eclipse.jdt.core.formatter.alignment_for_parameters_in_constructor_declaration=18
+org.eclipse.jdt.core.formatter.alignment_for_parameters_in_method_declaration=16
+org.eclipse.jdt.core.formatter.alignment_for_selector_in_method_invocation=0
+org.eclipse.jdt.core.formatter.alignment_for_superclass_in_type_declaration=16
+org.eclipse.jdt.core.formatter.alignment_for_superinterfaces_in_enum_declaration=48
+org.eclipse.jdt.core.formatter.alignment_for_superinterfaces_in_type_declaration=16
+org.eclipse.jdt.core.formatter.alignment_for_throws_clause_in_constructor_declaration=18
+org.eclipse.jdt.core.formatter.alignment_for_throws_clause_in_method_declaration=16
+org.eclipse.jdt.core.formatter.blank_lines_after_imports=3
+org.eclipse.jdt.core.formatter.blank_lines_after_package=1
+org.eclipse.jdt.core.formatter.blank_lines_before_field=0
+org.eclipse.jdt.core.formatter.blank_lines_before_first_class_body_declaration=0
+org.eclipse.jdt.core.formatter.blank_lines_before_imports=1
+org.eclipse.jdt.core.formatter.blank_lines_before_member_type=1
+org.eclipse.jdt.core.formatter.blank_lines_before_method=1
+org.eclipse.jdt.core.formatter.blank_lines_before_new_chunk=1
+org.eclipse.jdt.core.formatter.blank_lines_before_package=0
+org.eclipse.jdt.core.formatter.blank_lines_between_type_declarations=1
+org.eclipse.jdt.core.formatter.brace_position_for_annotation_type_declaration=end_of_line
+org.eclipse.jdt.core.formatter.brace_position_for_anonymous_type_declaration=end_of_line
+org.eclipse.jdt.core.formatter.brace_position_for_array_initializer=end_of_line
+org.eclipse.jdt.core.formatter.brace_position_for_block=end_of_line
+org.eclipse.jdt.core.formatter.brace_position_for_block_in_case=end_of_line
+org.eclipse.jdt.core.formatter.brace_position_for_constructor_declaration=end_of_line
+org.eclipse.jdt.core.formatter.brace_position_for_enum_constant=end_of_line
+org.eclipse.jdt.core.formatter.brace_position_for_enum_declaration=end_of_line
+org.eclipse.jdt.core.formatter.brace_position_for_method_declaration=end_of_line
+org.eclipse.jdt.core.formatter.brace_position_for_switch=end_of_line
+org.eclipse.jdt.core.formatter.brace_position_for_type_declaration=end_of_line
+org.eclipse.jdt.core.formatter.comment.clear_blank_lines=false
+org.eclipse.jdt.core.formatter.comment.format_comments=false
+org.eclipse.jdt.core.formatter.comment.format_header=false
+org.eclipse.jdt.core.formatter.comment.format_html=false
+org.eclipse.jdt.core.formatter.comment.format_source_code=true
+org.eclipse.jdt.core.formatter.comment.indent_parameter_description=true
+org.eclipse.jdt.core.formatter.comment.indent_root_tags=true
+org.eclipse.jdt.core.formatter.comment.insert_new_line_before_root_tags=insert
+org.eclipse.jdt.core.formatter.comment.insert_new_line_for_parameter=do not insert
+org.eclipse.jdt.core.formatter.comment.line_length=80
+org.eclipse.jdt.core.formatter.compact_else_if=true
+org.eclipse.jdt.core.formatter.continuation_indentation=2
+org.eclipse.jdt.core.formatter.continuation_indentation_for_array_initializer=2
+org.eclipse.jdt.core.formatter.format_guardian_clause_on_one_line=false
+org.eclipse.jdt.core.formatter.indent_body_declarations_compare_to_annotation_declaration_header=true
+org.eclipse.jdt.core.formatter.indent_body_declarations_compare_to_enum_constant_header=true
+org.eclipse.jdt.core.formatter.indent_body_declarations_compare_to_enum_declaration_header=true
+org.eclipse.jdt.core.formatter.indent_body_declarations_compare_to_type_header=true
+org.eclipse.jdt.core.formatter.indent_breaks_compare_to_cases=true
+org.eclipse.jdt.core.formatter.indent_empty_lines=false
+org.eclipse.jdt.core.formatter.indent_statements_compare_to_block=true
+org.eclipse.jdt.core.formatter.indent_statements_compare_to_body=true
+org.eclipse.jdt.core.formatter.indent_switchstatements_compare_to_cases=true
+org.eclipse.jdt.core.formatter.indent_switchstatements_compare_to_switch=false
+org.eclipse.jdt.core.formatter.indentation.size=4
+org.eclipse.jdt.core.formatter.insert_new_line_after_annotation=insert
+org.eclipse.jdt.core.formatter.insert_new_line_after_opening_brace_in_array_initializer=do not insert
+org.eclipse.jdt.core.formatter.insert_new_line_at_end_of_file_if_missing=do not insert
+org.eclipse.jdt.core.formatter.insert_new_line_before_catch_in_try_statement=do not insert
+org.eclipse.jdt.core.formatter.insert_new_line_before_closing_brace_in_array_initializer=do not insert
+org.eclipse.jdt.core.formatter.insert_new_line_before_else_in_if_statement=do not insert
+org.eclipse.jdt.core.formatter.insert_new_line_before_finally_in_try_statement=do not insert
+org.eclipse.jdt.core.formatter.insert_new_line_before_while_in_do_statement=do not insert
+org.eclipse.jdt.core.formatter.insert_new_line_in_empty_annotation_declaration=insert
+org.eclipse.jdt.core.formatter.insert_new_line_in_empty_anonymous_type_declaration=insert
+org.eclipse.jdt.core.formatter.insert_new_line_in_empty_block=insert
+org.eclipse.jdt.core.formatter.insert_new_line_in_empty_enum_constant=insert
+org.eclipse.jdt.core.formatter.insert_new_line_in_empty_enum_declaration=insert
+org.eclipse.jdt.core.formatter.insert_new_line_in_empty_method_body=insert
+org.eclipse.jdt.core.formatter.insert_new_line_in_empty_type_declaration=insert
+org.eclipse.jdt.core.formatter.insert_space_after_and_in_type_parameter=insert
+org.eclipse.jdt.core.formatter.insert_space_after_assignment_operator=insert
+org.eclipse.jdt.core.formatter.insert_space_after_at_in_annotation=do not insert
+org.eclipse.jdt.core.formatter.insert_space_after_at_in_annotation_type_declaration=do not insert
+org.eclipse.jdt.core.formatter.insert_space_after_binary_operator=insert
+org.eclipse.jdt.core.formatter.insert_space_after_closing_angle_bracket_in_type_arguments=insert
+org.eclipse.jdt.core.formatter.insert_space_after_closing_angle_bracket_in_type_parameters=insert
+org.eclipse.jdt.core.formatter.insert_space_after_closing_brace_in_block=insert
+org.eclipse.jdt.core.formatter.insert_space_after_closing_paren_in_cast=insert
+org.eclipse.jdt.core.formatter.insert_space_after_colon_in_assert=insert
+org.eclipse.jdt.core.formatter.insert_space_after_colon_in_case=insert
+org.eclipse.jdt.core.formatter.insert_space_after_colon_in_conditional=insert
+org.eclipse.jdt.core.formatter.insert_space_after_colon_in_for=insert
+org.eclipse.jdt.core.formatter.insert_space_after_colon_in_labeled_statement=insert
+org.eclipse.jdt.core.formatter.insert_space_after_comma_in_allocation_expression=insert
+org.eclipse.jdt.core.formatter.insert_space_after_comma_in_annotation=insert
+org.eclipse.jdt.core.formatter.insert_space_after_comma_in_array_initializer=insert
+org.eclipse.jdt.core.formatter.insert_space_after_comma_in_constructor_declaration_parameters=insert
+org.eclipse.jdt.core.formatter.insert_space_after_comma_in_constructor_declaration_throws=insert
+org.eclipse.jdt.core.formatter.insert_space_after_comma_in_enum_constant_arguments=insert
+org.eclipse.jdt.core.formatter.insert_space_after_comma_in_enum_declarations=insert
+org.eclipse.jdt.core.formatter.insert_space_after_comma_in_explicitconstructorcall_arguments=insert
+org.eclipse.jdt.core.formatter.insert_space_after_comma_in_for_increments=insert
+org.eclipse.jdt.core.formatter.insert_space_after_comma_in_for_inits=insert
+org.eclipse.jdt.core.formatter.insert_space_after_comma_in_method_declaration_parameters=insert
+org.eclipse.jdt.core.formatter.insert_space_after_comma_in_method_declaration_throws=insert
+org.eclipse.jdt.core.formatter.insert_space_after_comma_in_method_invocation_arguments=insert
+org.eclipse.jdt.core.formatter.insert_space_after_comma_in_multiple_field_declarations=insert
+org.eclipse.jdt.core.formatter.insert_space_after_comma_in_multiple_local_declarations=insert
+org.eclipse.jdt.core.formatter.insert_space_after_comma_in_parameterized_type_reference=insert
+org.eclipse.jdt.core.formatter.insert_space_after_comma_in_superinterfaces=insert
+org.eclipse.jdt.core.formatter.insert_space_after_comma_in_type_arguments=insert
+org.eclipse.jdt.core.formatter.insert_space_after_comma_in_type_parameters=insert
+org.eclipse.jdt.core.formatter.insert_space_after_ellipsis=insert
+org.eclipse.jdt.core.formatter.insert_space_after_opening_angle_bracket_in_parameterized_type_reference=do not insert
+org.eclipse.jdt.core.formatter.insert_space_after_opening_angle_bracket_in_type_arguments=do not insert
+org.eclipse.jdt.core.formatter.insert_space_after_opening_angle_bracket_in_type_parameters=do not insert
+org.eclipse.jdt.core.formatter.insert_space_after_opening_brace_in_array_initializer=do not insert
+org.eclipse.jdt.core.formatter.insert_space_after_opening_bracket_in_array_allocation_expression=do not insert
+org.eclipse.jdt.core.formatter.insert_space_after_opening_bracket_in_array_reference=do not insert
+org.eclipse.jdt.core.formatter.insert_space_after_opening_paren_in_annotation=do not insert
+org.eclipse.jdt.core.formatter.insert_space_after_opening_paren_in_cast=do not insert
+org.eclipse.jdt.core.formatter.insert_space_after_opening_paren_in_catch=do not insert
+org.eclipse.jdt.core.formatter.insert_space_after_opening_paren_in_constructor_declaration=do not insert
+org.eclipse.jdt.core.formatter.insert_space_after_opening_paren_in_enum_constant=do not insert
+org.eclipse.jdt.core.formatter.insert_space_after_opening_paren_in_for=do not insert
+org.eclipse.jdt.core.formatter.insert_space_after_opening_paren_in_if=do not insert
+org.eclipse.jdt.core.formatter.insert_space_after_opening_paren_in_method_declaration=do not insert
+org.eclipse.jdt.core.formatter.insert_space_after_opening_paren_in_method_invocation=do not insert
+org.eclipse.jdt.core.formatter.insert_space_after_opening_paren_in_parenthesized_expression=do not insert
+org.eclipse.jdt.core.formatter.insert_space_after_opening_paren_in_switch=do not insert
+org.eclipse.jdt.core.formatter.insert_space_after_opening_paren_in_synchronized=do not insert
+org.eclipse.jdt.core.formatter.insert_space_after_opening_paren_in_while=do not insert
+org.eclipse.jdt.core.formatter.insert_space_after_postfix_operator=do not insert
+org.eclipse.jdt.core.formatter.insert_space_after_prefix_operator=do not insert
+org.eclipse.jdt.core.formatter.insert_space_after_question_in_conditional=insert
+org.eclipse.jdt.core.formatter.insert_space_after_question_in_wildcard=do not insert
+org.eclipse.jdt.core.formatter.insert_space_after_semicolon_in_for=insert
+org.eclipse.jdt.core.formatter.insert_space_after_unary_operator=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_and_in_type_parameter=insert
+org.eclipse.jdt.core.formatter.insert_space_before_assignment_operator=insert
+org.eclipse.jdt.core.formatter.insert_space_before_at_in_annotation_type_declaration=insert
+org.eclipse.jdt.core.formatter.insert_space_before_binary_operator=insert
+org.eclipse.jdt.core.formatter.insert_space_before_closing_angle_bracket_in_parameterized_type_reference=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_closing_angle_bracket_in_type_arguments=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_closing_angle_bracket_in_type_parameters=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_closing_brace_in_array_initializer=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_closing_bracket_in_array_allocation_expression=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_closing_bracket_in_array_reference=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_closing_paren_in_annotation=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_closing_paren_in_cast=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_closing_paren_in_catch=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_closing_paren_in_constructor_declaration=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_closing_paren_in_enum_constant=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_closing_paren_in_for=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_closing_paren_in_if=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_closing_paren_in_method_declaration=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_closing_paren_in_method_invocation=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_closing_paren_in_parenthesized_expression=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_closing_paren_in_switch=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_closing_paren_in_synchronized=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_closing_paren_in_while=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_colon_in_assert=insert
+org.eclipse.jdt.core.formatter.insert_space_before_colon_in_case=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_colon_in_conditional=insert
+org.eclipse.jdt.core.formatter.insert_space_before_colon_in_default=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_colon_in_for=insert
+org.eclipse.jdt.core.formatter.insert_space_before_colon_in_labeled_statement=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_comma_in_allocation_expression=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_comma_in_annotation=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_comma_in_array_initializer=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_comma_in_constructor_declaration_parameters=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_comma_in_constructor_declaration_throws=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_comma_in_enum_constant_arguments=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_comma_in_enum_declarations=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_comma_in_explicitconstructorcall_arguments=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_comma_in_for_increments=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_comma_in_for_inits=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_comma_in_method_declaration_parameters=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_comma_in_method_declaration_throws=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_comma_in_method_invocation_arguments=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_comma_in_multiple_field_declarations=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_comma_in_multiple_local_declarations=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_comma_in_parameterized_type_reference=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_comma_in_superinterfaces=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_comma_in_type_arguments=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_comma_in_type_parameters=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_ellipsis=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_opening_angle_bracket_in_parameterized_type_reference=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_opening_angle_bracket_in_type_arguments=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_opening_angle_bracket_in_type_parameters=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_opening_brace_in_annotation_type_declaration=insert
+org.eclipse.jdt.core.formatter.insert_space_before_opening_brace_in_anonymous_type_declaration=insert
+org.eclipse.jdt.core.formatter.insert_space_before_opening_brace_in_array_initializer=insert
+org.eclipse.jdt.core.formatter.insert_space_before_opening_brace_in_block=insert
+org.eclipse.jdt.core.formatter.insert_space_before_opening_brace_in_constructor_declaration=insert
+org.eclipse.jdt.core.formatter.insert_space_before_opening_brace_in_enum_constant=insert
+org.eclipse.jdt.core.formatter.insert_space_before_opening_brace_in_enum_declaration=insert
+org.eclipse.jdt.core.formatter.insert_space_before_opening_brace_in_method_declaration=insert
+org.eclipse.jdt.core.formatter.insert_space_before_opening_brace_in_switch=insert
+org.eclipse.jdt.core.formatter.insert_space_before_opening_brace_in_type_declaration=insert
+org.eclipse.jdt.core.formatter.insert_space_before_opening_bracket_in_array_allocation_expression=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_opening_bracket_in_array_reference=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_opening_bracket_in_array_type_reference=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_opening_paren_in_annotation=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_opening_paren_in_annotation_type_member_declaration=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_opening_paren_in_catch=insert
+org.eclipse.jdt.core.formatter.insert_space_before_opening_paren_in_constructor_declaration=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_opening_paren_in_enum_constant=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_opening_paren_in_for=insert
+org.eclipse.jdt.core.formatter.insert_space_before_opening_paren_in_if=insert
+org.eclipse.jdt.core.formatter.insert_space_before_opening_paren_in_method_declaration=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_opening_paren_in_method_invocation=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_opening_paren_in_parenthesized_expression=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_opening_paren_in_switch=insert
+org.eclipse.jdt.core.formatter.insert_space_before_opening_paren_in_synchronized=insert
+org.eclipse.jdt.core.formatter.insert_space_before_opening_paren_in_while=insert
+org.eclipse.jdt.core.formatter.insert_space_before_parenthesized_expression_in_return=insert
+org.eclipse.jdt.core.formatter.insert_space_before_postfix_operator=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_prefix_operator=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_question_in_conditional=insert
+org.eclipse.jdt.core.formatter.insert_space_before_question_in_wildcard=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_semicolon=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_semicolon_in_for=do not insert
+org.eclipse.jdt.core.formatter.insert_space_before_unary_operator=do not insert
+org.eclipse.jdt.core.formatter.insert_space_between_brackets_in_array_type_reference=do not insert
+org.eclipse.jdt.core.formatter.insert_space_between_empty_braces_in_array_initializer=do not insert
+org.eclipse.jdt.core.formatter.insert_space_between_empty_brackets_in_array_allocation_expression=do not insert
+org.eclipse.jdt.core.formatter.insert_space_between_empty_parens_in_annotation_type_member_declaration=do not insert
+org.eclipse.jdt.core.formatter.insert_space_between_empty_parens_in_constructor_declaration=do not insert
+org.eclipse.jdt.core.formatter.insert_space_between_empty_parens_in_enum_constant=do not insert
+org.eclipse.jdt.core.formatter.insert_space_between_empty_parens_in_method_declaration=do not insert
+org.eclipse.jdt.core.formatter.insert_space_between_empty_parens_in_method_invocation=do not insert
+org.eclipse.jdt.core.formatter.keep_else_statement_on_same_line=false
+org.eclipse.jdt.core.formatter.keep_empty_array_initializer_on_one_line=false
+org.eclipse.jdt.core.formatter.keep_imple_if_on_one_line=false
+org.eclipse.jdt.core.formatter.keep_then_statement_on_same_line=false
+org.eclipse.jdt.core.formatter.lineSplit=132
+org.eclipse.jdt.core.formatter.number_of_blank_lines_at_beginning_of_method_body=0
+org.eclipse.jdt.core.formatter.number_of_empty_lines_to_preserve=3
+org.eclipse.jdt.core.formatter.put_empty_statement_on_new_line=true
+org.eclipse.jdt.core.formatter.tabulation.char=tab
+org.eclipse.jdt.core.formatter.tabulation.size=4
+org.eclipse.jdt.core.formatter.use_tabs_only_for_leading_indentations=false

Modified: trunk/.settings/org.eclipse.jdt.ui.prefs
===================================================================
--- trunk/.settings/org.eclipse.jdt.ui.prefs	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/.settings/org.eclipse.jdt.ui.prefs	2007-09-21 15:00:46 UTC (rev 220)
@@ -1,3 +1,15 @@
-#Sat Jun 30 10:52:28 CEST 2007
+#Tue Sep 18 19:28:51 CEST 2007
 eclipse.preferences.version=1
+formatter_profile=_DeepaMehta
+formatter_settings_version=10
 internal.default.compliance=default
+org.eclipse.jdt.ui.exception.name=e
+org.eclipse.jdt.ui.gettersetter.use.is=true
+org.eclipse.jdt.ui.ignorelowercasenames=true
+org.eclipse.jdt.ui.importorder=java;javax;org;com;
+org.eclipse.jdt.ui.javadoc=false
+org.eclipse.jdt.ui.keywordthis=false
+org.eclipse.jdt.ui.ondemandthreshold=99
+org.eclipse.jdt.ui.overrideannotation=true
+org.eclipse.jdt.ui.staticondemandthreshold=99
+org.eclipse.jdt.ui.text.custom_code_templates=&lt;?xml version\=&quot;1.0&quot; encoding\=&quot;UTF-8&quot;?&gt;&lt;templates&gt;&lt;template autoinsert\=&quot;true&quot; context\=&quot;gettercomment_context&quot; deleted\=&quot;false&quot; description\=&quot;Comment for getter method&quot; enabled\=&quot;true&quot; id\=&quot;org.eclipse.jdt.ui.text.codetemplates.gettercomment&quot; name\=&quot;gettercomment&quot;&gt;/**\n * @return the ${bare_field_name}\n */&lt;/template&gt;&lt;template autoinsert\=&quot;true&quot; context\=&quot;settercomment_context&quot; deleted\=&quot;false&quot; description\=&quot;Comment for setter method&quot; enabled\=&quot;true&quot; id\=&quot;org.eclipse.jdt.ui.text.codetemplates.settercomment&quot; name\=&quot;settercomment&quot;&gt;/**\n * @param ${param} the ${bare_field_name} to set\n */&lt;/template&gt;&lt;template autoinsert\=&quot;true&quot; context\=&quot;constructorcomment_context&quot; deleted\=&quot;false&quot; description\=&quot;Comment for created constructors&quot; enabled\=&quot;true&quot; id\=&quot;org.eclipse.jdt.ui.text.codetemplates.constructorcomment&quot; name\=&quot;constructorcomment&quot;&gt;/**\n * ${tags}\n */&lt;/template&gt;&lt;template autoinsert\=&quot;true&quot; context\=&quot;filecomment_context&quot; deleted!
 \=&quot;false&quot; description\=&quot;Comment for created Java files&quot; enabled\=&quot;true&quot; id\=&quot;org.eclipse.jdt.ui.text.codetemplates.filecomment&quot; name\=&quot;filecomment&quot;&gt;/**\n * \n */&lt;/template&gt;&lt;template autoinsert\=&quot;false&quot; context\=&quot;typecomment_context&quot; deleted\=&quot;false&quot; description\=&quot;Comment for created types&quot; enabled\=&quot;true&quot; id\=&quot;org.eclipse.jdt.ui.text.codetemplates.typecomment&quot; name\=&quot;typecomment&quot;&gt;/**\n * @author ${user}\n */&lt;/template&gt;&lt;template autoinsert\=&quot;true&quot; context\=&quot;fieldcomment_context&quot; deleted\=&quot;false&quot; description\=&quot;Comment for fields&quot; enabled\=&quot;true&quot; id\=&quot;org.eclipse.jdt.ui.text.codetemplates.fieldcomment&quot; name\=&quot;fieldcomment&quot;&gt;/**\n * \n */&lt;/template&gt;&lt;template autoinsert\=&quot;true&quot; context\=&quot;methodcomment_context&quot; deleted\=&quot;false&quot; description\=&quot;Comment for non-overriding methods&quot; enabled\=&quot;true&quot; id\=&quot;org.eclipse.jdt.ui.text.codetemplates.methodcomment&quot; name\=&quot;methodcomment&quot;&gt;/**\n * ${tags}\n */&lt;/template&gt;&lt;template autoinsert\=&quot;true&quot; context\=&quot;overridecomment_context&quot; deleted\=&quot;false&quot;!
  description\=&quot;Comment for overriding methods&quot; enabled\=&quot;true&quot;!
  id\=&quot;or
g.eclipse.jdt.ui.text.codetemplates.overridecomment&quot; name\=&quot;overridecomment&quot;&gt;/* (non-Javadoc)\n * ${see_to_overridden}\n */&lt;/template&gt;&lt;template autoinsert\=&quot;true&quot; context\=&quot;delegatecomment_context&quot; deleted\=&quot;false&quot; description\=&quot;Comment for delegate methods&quot; enabled\=&quot;true&quot; id\=&quot;org.eclipse.jdt.ui.text.codetemplates.delegatecomment&quot; name\=&quot;delegatecomment&quot;&gt;/**\n * ${tags}\n * ${see_to_target}\n */&lt;/template&gt;&lt;template autoinsert\=&quot;true&quot; context\=&quot;newtype_context&quot; deleted\=&quot;false&quot; description\=&quot;Newly created files&quot; enabled\=&quot;true&quot; id\=&quot;org.eclipse.jdt.ui.text.codetemplates.newtype&quot; name\=&quot;newtype&quot;&gt;${filecomment}\n${package_declaration}\n\n${typecomment}\n${type_declaration}&lt;/template&gt;&lt;template autoinsert\=&quot;true&quot; context\=&quot;classbody_context&quot; deleted\=&quot;false&quot; description\=&quot;Code in new class type bodies&quot; enabled\=&quot;true&quot; id\=&quot;org.eclipse.jdt.ui.text.codetemplates.classbody&quot; name\=&quot;classbody&quot;&gt;\n&lt;/template&gt;&lt;template autoinsert\=&quot;true&quot; context\=&quot;interfacebody_context&quot; deleted\=&quot;false!
 &quot; description\=&quot;Code in new interface type bodies&quot; enabled\=&quot;true&quot; id\=&quot;org.eclipse.jdt.ui.text.codetemplates.interfacebody&quot; name\=&quot;interfacebody&quot;&gt;\n&lt;/template&gt;&lt;template autoinsert\=&quot;true&quot; context\=&quot;enumbody_context&quot; deleted\=&quot;false&quot; description\=&quot;Code in new enum type bodies&quot; enabled\=&quot;true&quot; id\=&quot;org.eclipse.jdt.ui.text.codetemplates.enumbody&quot; name\=&quot;enumbody&quot;&gt;\n&lt;/template&gt;&lt;template autoinsert\=&quot;true&quot; context\=&quot;annotationbody_context&quot; deleted\=&quot;false&quot; description\=&quot;Code in new annotation type bodies&quot; enabled\=&quot;true&quot; id\=&quot;org.eclipse.jdt.ui.text.codetemplates.annotationbody&quot; name\=&quot;annotationbody&quot;&gt;\n&lt;/template&gt;&lt;template autoinsert\=&quot;true&quot; context\=&quot;catchblock_context&quot; deleted\=&quot;false&quot; description\=&quot;Code in new catch blocks&quot; enabled\=&quot;true&quot; id\=&quot;org.eclipse.jdt.ui.text.codetemplates.catchblock&quot; name\=&quot;catchblock&quot;&gt;// ${todo} Auto-generated catch block\n${exception_var}.printStackTrace();&lt;/template&gt;&lt;template autoinsert\=&quot;true&quot; context\=&quot;methodbody_context&quot; deleted\=&quot;false&quot; des!
 cription\=&quot;Code in created method stubs&quot; enabled\=&quot;true&quot; id\=&quot;!
 org.ecli
pse.jdt.ui.text.codetemplates.methodbody&quot; name\=&quot;methodbody&quot;&gt;// ${todo} Auto-generated method stub\n${body_statement}&lt;/template&gt;&lt;template autoinsert\=&quot;true&quot; context\=&quot;constructorbody_context&quot; deleted\=&quot;false&quot; description\=&quot;Code in created constructor stubs&quot; enabled\=&quot;true&quot; id\=&quot;org.eclipse.jdt.ui.text.codetemplates.constructorbody&quot; name\=&quot;constructorbody&quot;&gt;${body_statement}\n// ${todo} Auto-generated constructor stub&lt;/template&gt;&lt;template autoinsert\=&quot;true&quot; context\=&quot;getterbody_context&quot; deleted\=&quot;false&quot; description\=&quot;Code in created getters&quot; enabled\=&quot;true&quot; id\=&quot;org.eclipse.jdt.ui.text.codetemplates.getterbody&quot; name\=&quot;getterbody&quot;&gt;return ${field};&lt;/template&gt;&lt;template autoinsert\=&quot;true&quot; context\=&quot;setterbody_context&quot; deleted\=&quot;false&quot; description\=&quot;Code in created setters&quot; enabled\=&quot;true&quot; id\=&quot;org.eclipse.jdt.ui.text.codetemplates.setterbody&quot; name\=&quot;setterbody&quot;&gt;${field} \= ${param};&lt;/template&gt;&lt;/templates&gt;

Copied: trunk/ant/contrib (from rev 219, branches/eschnepel/ant/contrib)

Deleted: trunk/ant/contrib/jdepend2dot.xsl
===================================================================
--- branches/eschnepel/ant/contrib/jdepend2dot.xsl	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/ant/contrib/jdepend2dot.xsl	2007-09-21 15:00:46 UTC (rev 220)
@@ -1,80 +0,0 @@
-&lt;?xml version=&quot;1.0&quot;?&gt;
-
-&lt;!--
-  
-  Takes the XML output from JDepend and transforms it
-  into the 'dot' language used by Graphviz
-  (<A HREF="http://www.research.att.com/sw/tools/graphviz/">http://www.research.att.com/sw/tools/graphviz/</A>)
-  to generate a project dependency graph.
-
-  The packages show up as rectangles with the package name
-  and the number of classes.  Arrows point to other packages
-  the package depends on.  The rectangle is colored blue, but
-  it turns to darker shades of red the further the package is
-  from the 'main line'. Red arrows indicate cycles.
-
-  Contributed by David Bock.
-  Support for Cycles added by by Enrico Schnepel.
-
---&gt;
-
-&lt;xsl:stylesheet version=&quot;1.0&quot; xmlns:xsl=&quot;<A HREF="http://www.w3.org/1999/XSL/Transform">http://www.w3.org/1999/XSL/Transform</A>&quot;&gt;
-
-&lt;xsl:output method=&quot;text&quot;/&gt;
-&lt;xsl:template match=&quot;JDepend&quot;&gt;
-&lt;Root-Element&gt;
-digraph g {
-        graph [
-	    rankdir = &quot;LR&quot;
-	];
-	node [
-	    fontsize = &quot;12&quot;
-	    fontname = &quot;Courier&quot;
-	    shape = &quot;ellipse&quot;
-	];
-	edge[];
-	&lt;xsl:apply-templates select=&quot;Packages&quot;/&gt;
-}
-&lt;/Root-Element&gt;
-&lt;/xsl:template&gt;
-
-&lt;xsl:template match=&quot;Packages&quot;&gt;
-    &lt;xsl:apply-templates select=&quot;Package&quot; mode=&quot;node&quot;/&gt;
-&lt;/xsl:template&gt;
-
-&lt;xsl:template match=&quot;Package&quot; mode=&quot;node&quot;&gt;
-    &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;&lt;xsl:value-of select=&quot;@name&quot;/&gt; &lt;xsl:text&gt;&quot; [
-        label=&quot;&lt;/xsl:text&gt;&lt;xsl:value-of
-	select=&quot;@name&quot;/&gt;&lt;xsl:text&gt; | Total Classes: &lt;/xsl:text&gt;&lt;xsl:value-of select=&quot;Stats/TotalClasses/.&quot;/&gt;
-	&lt;xsl:text&gt;&quot;
-	shape=&quot;record&quot;
-	color=&quot;.99 &lt;/xsl:text&gt;
-        &lt;xsl:choose&gt;
-            &lt;xsl:when test=&quot;Stats/D&quot;&gt;
-                &lt;xsl:value-of select=&quot;Stats/D/.&quot;/&gt;
-            &lt;/xsl:when&gt;
-            &lt;xsl:otherwise&gt;
-                &lt;xsl:text&gt;0.0&lt;/xsl:text&gt;
-            &lt;/xsl:otherwise&gt;
-        &lt;/xsl:choose&gt;
-        &lt;xsl:text&gt; .9&quot;
-	style=filled
-    ];
-    &lt;/xsl:text&gt;
-    &lt;xsl:apply-templates select=&quot;DependsUpon&quot;/&gt;
-&lt;/xsl:template&gt;
-
-&lt;xsl:template match=&quot;Package&quot; mode=&quot;edge&quot;&gt;
-	&lt;xsl:variable name=&quot;fromName&quot; select=&quot;../../@name&quot;/&gt;
-	&lt;xsl:variable name=&quot;toName&quot; select=&quot;text()&quot;/&gt;
-    &lt;xsl:text&gt;&quot;&lt;/xsl:text&gt;&lt;xsl:value-of select=&quot;$fromName&quot;/&gt; &lt;xsl:text&gt;&quot; -&gt; &quot;&lt;/xsl:text&gt;&lt;xsl:value-of select=&quot;$toName&quot;/&gt;&quot; &lt;xsl:apply-templates select=&quot;//Package[@name=$toName]/DependsUpon/Package[text()=$fromName]&quot; mode=&quot;cycle&quot;/&gt;&lt;xsl:text&gt;
-    &lt;/xsl:text&gt;
-&lt;/xsl:template&gt;
-
-&lt;xsl:template match=&quot;Package&quot; mode=&quot;cycle&quot;&gt;[color=red]&lt;/xsl:template&gt;
-
-&lt;xsl:template match=&quot;DependsUpon&quot;&gt;
-    &lt;xsl:apply-templates select=&quot;Package&quot; mode=&quot;edge&quot;/&gt;
-&lt;/xsl:template&gt;
-
-&lt;/xsl:stylesheet&gt;

Copied: trunk/ant/contrib/jdepend2dot.xsl (from rev 219, branches/eschnepel/ant/contrib/jdepend2dot.xsl)

Copied: trunk/ant/lib/antinput.jar (from rev 219, branches/eschnepel/ant/lib/antinput.jar)

Copied: trunk/ant/lib/checkstyle-all-4.3.jar (from rev 219, branches/eschnepel/ant/lib/checkstyle-all-4.3.jar)

Copied: trunk/ant/lib/jdepend-2.9.jar (from rev 219, branches/eschnepel/ant/lib/jdepend-2.9.jar)

Modified: trunk/build-development.xml
===================================================================
--- trunk/build-development.xml	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/build-development.xml	2007-09-21 15:00:46 UTC (rev 220)
@@ -4,8 +4,8 @@
 		DeepaMehta development build file
 	&lt;/description&gt;
 
-	&lt;import file=&quot;build.xml&quot;/&gt;
-	
+	&lt;import file=&quot;build.xml&quot; /&gt;
+
 	&lt;!-- Build --&gt;
 	&lt;!-- create build directory --&gt;
 	&lt;target name=&quot;init&quot;&gt;
@@ -73,9 +73,36 @@
 			&lt;include name=&quot;de/deepamehta/assocs/**/*.class&quot; /&gt;
 		&lt;/jar&gt;
 	&lt;/target&gt;
+
+	&lt;target name=&quot;jdepend&quot; depends=&quot;build&quot; description=&quot;generates jdepend report&quot;&gt;
+		&lt;jdepend outputfile=&quot;jdepend-report.xml&quot; format=&quot;xml&quot;&gt;
+			&lt;exclude name=&quot;java.*&quot; /&gt;
+			&lt;exclude name=&quot;javax.*&quot; /&gt;
+			&lt;exclude name=&quot;com.*&quot; /&gt;
+			&lt;exclude name=&quot;org.*&quot; /&gt;
+			&lt;classespath location=&quot;${build}&quot; /&gt;
+			&lt;classpath location=&quot;${build}&quot; /&gt;
+		&lt;/jdepend&gt;
+		&lt;xslt in=&quot;jdepend-report.xml&quot; out=&quot;jdepend-report.dot&quot; style=&quot;ant/contrib/jdepend2dot.xsl&quot; /&gt;
+		&lt;exec executable=&quot;dot&quot;&gt;
+			&lt;arg value=&quot;-Tpng&quot; /&gt;
+			&lt;arg value=&quot;-odependencies.png&quot; /&gt;
+			&lt;arg value=&quot;jdepend-report.dot&quot; /&gt;
+		&lt;/exec&gt;
+		&lt;echo&gt;Image file is dependencies.png.&lt;/echo&gt;
+	&lt;/target&gt;
+
+	&lt;target name=&quot;checkstyle&quot;&gt;
+		&lt;checkstyle config=&quot;checkstyle_config.xml&quot;&gt;
+			&lt;fileset dir=&quot;${sources}&quot; includes=&quot;**/*.java&quot; /&gt;
+			&lt;formatter type=&quot;plain&quot; /&gt;
+			&lt;formatter type=&quot;xml&quot; toFile=&quot;checkstyle_errors.xml&quot; /&gt;
+		&lt;/checkstyle&gt;
+	&lt;/target&gt;
+
 	&lt;target name=&quot;build&quot; depends=&quot;-build-self&quot; description=&quot;build jar files&quot;&gt;
 		&lt;ant target=&quot;-call-examples&quot;&gt;
-			&lt;property name=&quot;target&quot; value=&quot;build&quot;/&gt;
+			&lt;property name=&quot;target&quot; value=&quot;build&quot; /&gt;
 		&lt;/ant&gt;
 	&lt;/target&gt;
 
@@ -170,6 +197,10 @@
 
 	&lt;target name=&quot;cleanup&quot; description=&quot;remove build directory&quot;&gt;
 		&lt;delete dir=&quot;${build}&quot; /&gt;
+		&lt;mkdir dir=&quot;${build}&quot; /&gt;
+		&lt;ant target=&quot;-call-examples&quot;&gt;
+			&lt;property name=&quot;target&quot; value=&quot;cleanup&quot; /&gt;
+		&lt;/ant&gt;
 	&lt;/target&gt;
 
 &lt;/project&gt;

Modified: trunk/build.xml
===================================================================
--- trunk/build.xml	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/build.xml	2007-09-21 15:00:46 UTC (rev 220)
@@ -8,11 +8,10 @@
 
 	&lt;import file=&quot;${db-specific}/${db.create-db}&quot; /&gt;
 	&lt;import file=&quot;${db-specific}/${db.drop-db}&quot; /&gt;
-	&lt;target name=&quot;dropdb&quot; depends=&quot;-dropdb&quot;/&gt;
 
-	&lt;import file=&quot;build-development.xml&quot; optional=&quot;true&quot;/&gt;
-	&lt;import file=&quot;setup.xml&quot;/&gt;
-	
+	&lt;import file=&quot;build-development.xml&quot; optional=&quot;true&quot; /&gt;
+	&lt;import file=&quot;setup.xml&quot; /&gt;
+
 	&lt;path id=&quot;dmapps&quot;&gt;
 		&lt;pathelement location=&quot;${examples}/movies/MoviesTopics.jar&quot; /&gt;
 		&lt;!-- configure this --&gt;
@@ -33,34 +32,38 @@
 	&lt;/path&gt;
 
 	&lt;target name=&quot;-default&quot;&gt;
-		&lt;antcall target=&quot;${main-target}&quot;&gt;&lt;/antcall&gt;
+		&lt;for list=&quot;${main-targets}&quot; param=&quot;target&quot; trim=&quot;true&quot;&gt;
+			&lt;sequential&gt;
+				&lt;antcall target=&quot;@{target}&quot;/&gt;
+			&lt;/sequential&gt;
+		&lt;/for&gt;
 	&lt;/target&gt;
 
 	&lt;!-- Install --&gt;
 
 	&lt;target name=&quot;install&quot; description=&quot;initialises the database&quot;&gt;
-		&lt;antcall target=&quot;-createdb&quot; /&gt;
-		&lt;antcall target=&quot;-createtables&quot; /&gt;
-		&lt;antcall target=&quot;-initdb&quot; /&gt;
+		&lt;antcallback target=&quot;-initdb&quot; return=&quot;do.db.abort&quot; /&gt;
 		&lt;!-- example applications --&gt;
 		&lt;antcall target=&quot;-installexamples&quot; /&gt;
 	&lt;/target&gt;
-
-	&lt;!-- Movies --&gt;
-	&lt;target name=&quot;dropmovies&quot; depends=&quot;-testsyspass&quot;&gt;
-		&lt;ant target=&quot;-call-example&quot;&gt;
-			&lt;property name=&quot;example&quot; value=&quot;movies&quot;/&gt;
-			&lt;property name=&quot;target&quot; value=&quot;dropmoviesdb&quot;/&gt;
-		&lt;/ant&gt;
+	&lt;target name=&quot;uninstall&quot; description=&quot;drops all databases&quot;&gt;
+		&lt;antcall target=&quot;-dropdb&quot; /&gt;
+		&lt;!-- example applications --&gt;
+		&lt;antcall target=&quot;-uninstallexamples&quot; /&gt;
 	&lt;/target&gt;
 	&lt;target name=&quot;-installexamples&quot; depends=&quot;-testsyspass&quot;&gt;
 		&lt;ant target=&quot;-call-examples&quot;&gt;
-			&lt;property name=&quot;target&quot; value=&quot;install&quot;/&gt;
+			&lt;property name=&quot;target&quot; value=&quot;install&quot; /&gt;
 		&lt;/ant&gt;
 	&lt;/target&gt;
+	&lt;target name=&quot;-uninstallexamples&quot; depends=&quot;-testsyspass&quot;&gt;
+		&lt;ant target=&quot;-call-examples&quot;&gt;
+			&lt;property name=&quot;target&quot; value=&quot;uninstall&quot; /&gt;
+		&lt;/ant&gt;
+	&lt;/target&gt;
 
 	&lt;!-- Web-related tasks --&gt;
-	&lt;target name=&quot;-installweb-ask&quot; depends=&quot;-config-web-root&quot; unless=&quot;web.deploy.do&quot;/&gt;
+	&lt;target name=&quot;-installweb-ask&quot; depends=&quot;-config-web-root&quot; unless=&quot;web.deploy.do&quot; /&gt;
 	&lt;target name=&quot;-installweb-unless&quot; unless=&quot;do.web.deploy&quot; depends=&quot;-installweb-ask&quot;&gt;
 		&lt;echo&gt;
 =========================
@@ -73,7 +76,7 @@
 	&lt;target name=&quot;-installweb-if&quot; if=&quot;do.web.deploy&quot; depends=&quot;-installweb-ask&quot;&gt;
 		&lt;!-- copy shared libraries --&gt;
 		&lt;antcall target=&quot;-deploylibs&quot; /&gt;
-		&lt;copy todir=&quot;${web.lib.dir}&quot; &gt;
+		&lt;copy todir=&quot;${web.lib.dir}&quot;&gt;
 			&lt;fileset dir=&quot;${dm.base-dir}&quot;&gt;
 				&lt;include name=&quot;${db.libs}&quot; /&gt;
 			&lt;/fileset&gt;
@@ -82,12 +85,12 @@
 		&lt;copy file=&quot;${libpath}/commons-fileupload-1.0.jar&quot; todir=&quot;${web.lib.dir}&quot; /&gt;
 		&lt;!-- deploy web applications --&gt;
 		&lt;ant target=&quot;-call-examples-web&quot;&gt;
-			&lt;property name=&quot;target&quot; value=&quot;deploy&quot;/&gt;
+			&lt;property name=&quot;target&quot; value=&quot;deploy&quot; /&gt;
 		&lt;/ant&gt;
 	&lt;/target&gt;
 	&lt;target name=&quot;-installweb&quot; depends=&quot;-installweb-if,-installweb-unless&quot; /&gt;
 
-	&lt;target name=&quot;deploy&quot; depends=&quot;-build-self,-installweb&quot; description=&quot;Does everything to setup your Tomcat.&quot;/&gt;
+	&lt;target name=&quot;deploy&quot; depends=&quot;-build-self,-installweb&quot; description=&quot;Does everything to setup your Tomcat.&quot; /&gt;
 
 	&lt;target name=&quot;-deploylibs&quot; if=&quot;do.web.deploy&quot;&gt;
 		&lt;copy file=&quot;${server}/DeepaMehtaService.jar&quot; todir=&quot;${web.lib.dir}&quot; /&gt;
@@ -97,7 +100,7 @@
 	&lt;!-- The target createdb has been &quot;outsourced&quot; to ${db.create-db}--&gt;
 	&lt;!-- The target dropdb has been &quot;outsourced&quot; to ${db.drop-db}--&gt;
 
-	&lt;target name=&quot;-createtables&quot;&gt;
+	&lt;target name=&quot;-createtables&quot; unless=&quot;do.db.abort&quot; depends=&quot;-createdb&quot;&gt;
 		&lt;sql driver=&quot;${db.driver}&quot; url=&quot;${db.url}&quot; userid=&quot;${db.user}&quot; password=&quot;${db.password}&quot; classpathref=&quot;javalibs&quot; autocommit=&quot;${db.autocommit}&quot;&gt;
 			&lt;fileset dir=&quot;${db-specific}&quot;&gt;
 				&lt;include name=&quot;${db.tables}&quot; /&gt;
@@ -120,7 +123,7 @@
 		&lt;/sql&gt;
 	&lt;/target&gt;
 
-	&lt;target name=&quot;-initdb&quot;&gt;
+	&lt;target name=&quot;-initdb&quot; unless=&quot;do.db.abort&quot; depends=&quot;-createtables&quot;&gt;
 		&lt;sql driver=&quot;${db.driver}&quot; url=&quot;${db.url}&quot; userid=&quot;${db.user}&quot; password=&quot;${db.password}&quot; classpathref=&quot;javalibs&quot; autocommit=&quot;${db.autocommit}&quot;&gt;
 			&lt;fileset dir=&quot;${db}&quot;&gt;
 				&lt;include name=&quot;cm.sql&quot; /&gt;
@@ -179,7 +182,7 @@
 			&lt;equals arg1=&quot;${do.patch}&quot; arg2=&quot;n&quot; /&gt;
 		&lt;/condition&gt;
 		&lt;fail if=&quot;do.abort&quot; message=&quot;==&gt; Aborted by user -- revisit with 'ant [options] patchdb'&quot; /&gt;
-		&lt;sql driver=&quot;${db.driver}&quot; url=&quot;${db.url}&quot; userid=&quot;${db.user}&quot; password=&quot;${db.password}&quot; classpathref=&quot;javalibs&quot; autocommit=&quot;${db.autocommit}&quot;&gt;
+		&lt;sql driver=&quot;${db.driver}&quot; url=&quot;${db.url}&quot; userid=&quot;${db.user}&quot; password=&quot;${db.password}&quot; classpathref=&quot;javalibs&quot; autocommit=&quot;${db.autocommit}&quot; onerror=&quot;continue&quot;&gt;
 			&lt;fileset dir=&quot;.&quot;&gt;
 				&lt;include name=&quot;${patch}&quot; /&gt;
 			&lt;/fileset&gt;
@@ -246,56 +249,60 @@
 		&lt;/condition&gt;
 	&lt;/target&gt;
 
-    &lt;target name=&quot;-call-examples&quot;&gt;
-    	&lt;antcall target=&quot;-call-examples-noweb&quot;/&gt;
-    	&lt;antcall target=&quot;-call-examples-web&quot;/&gt;
-    &lt;/target&gt;
+	&lt;target name=&quot;-call-examples&quot;&gt;
+		&lt;antcall target=&quot;-call-examples-noweb&quot; /&gt;
+		&lt;antcall target=&quot;-call-examples-web&quot; /&gt;
+	&lt;/target&gt;
 	&lt;target name=&quot;-call-examples-noweb&quot;&gt;
 		&lt;ant target=&quot;-call-example&quot;&gt;
-			&lt;property name=&quot;example&quot; value=&quot;ldap&quot;/&gt;
+			&lt;property name=&quot;example&quot; value=&quot;ldap&quot; /&gt;
 		&lt;/ant&gt;
 		&lt;ant target=&quot;-call-example&quot;&gt;
-			&lt;property name=&quot;example&quot; value=&quot;movies&quot;/&gt;
+			&lt;property name=&quot;example&quot; value=&quot;movies&quot; /&gt;
 		&lt;/ant&gt;
-    &lt;/target&gt;
-	&lt;target name=&quot;-call-examples-web&quot;&gt;
+	&lt;/target&gt;
+	&lt;target name=&quot;-call-examples-web&quot; if=&quot;do.web.deploy&quot;&gt;
 		&lt;ant target=&quot;-call-example&quot;&gt;
-			&lt;property name=&quot;example&quot; value=&quot;dm-browser&quot;/&gt;
+			&lt;property name=&quot;example&quot; value=&quot;dm-browser&quot; /&gt;
 		&lt;/ant&gt;
 		&lt;ant target=&quot;-call-example&quot;&gt;
-			&lt;property name=&quot;example&quot; value=&quot;dm-search&quot;/&gt;
+			&lt;property name=&quot;example&quot; value=&quot;dm-search&quot; /&gt;
 		&lt;/ant&gt;
 		&lt;ant target=&quot;-call-example&quot;&gt;
-			&lt;property name=&quot;example&quot; value=&quot;dm-topicmapviewer&quot;/&gt;
+			&lt;property name=&quot;example&quot; value=&quot;dm-topicmapviewer&quot; /&gt;
 		&lt;/ant&gt;
 		&lt;ant target=&quot;-call-example&quot;&gt;
-			&lt;property name=&quot;example&quot; value=&quot;dm-web&quot;/&gt;
+			&lt;property name=&quot;example&quot; value=&quot;dm-web&quot; /&gt;
 		&lt;/ant&gt;
 		&lt;ant target=&quot;-call-example&quot;&gt;
-			&lt;property name=&quot;example&quot; value=&quot;knoppixforum&quot;/&gt;
+			&lt;property name=&quot;example&quot; value=&quot;knoppixforum&quot; /&gt;
 		&lt;/ant&gt;
 		&lt;ant target=&quot;-call-example&quot;&gt;
-			&lt;property name=&quot;example&quot; value=&quot;kompetenzstern&quot;/&gt;
+			&lt;property name=&quot;example&quot; value=&quot;kompetenzstern&quot; /&gt;
 		&lt;/ant&gt;
 		&lt;ant target=&quot;-call-example&quot;&gt;
-			&lt;property name=&quot;example&quot; value=&quot;messageboard&quot;/&gt;
+			&lt;property name=&quot;example&quot; value=&quot;messageboard&quot; /&gt;
 		&lt;/ant&gt;
 		&lt;ant target=&quot;-call-example&quot;&gt;
-			&lt;property name=&quot;example&quot; value=&quot;musicforum&quot;/&gt;
+			&lt;property name=&quot;example&quot; value=&quot;musicforum&quot; /&gt;
 		&lt;/ant&gt;
-    &lt;/target&gt;
-    &lt;target name=&quot;-call-example&quot;&gt;
-    	&lt;echo&gt;calling target &quot;${target}&quot; in example &quot;${example}&quot;&lt;/echo&gt;
-		&lt;trycatch&gt;
+	&lt;/target&gt;
+
+	&lt;target name=&quot;-call-example&quot; depends=&quot;-config-ask-example&quot; if=&quot;do.example.execute&quot;&gt;
+		&lt;echo&gt;calling target &quot;${target}&quot; in example &quot;${example}&quot;&lt;/echo&gt;
+		&lt;trycatch property=&quot;exceptionProp&quot;&gt;
 			&lt;try&gt;
 				&lt;ant antfile=&quot;build.xml&quot; dir=&quot;${examples}/${example}&quot; target=&quot;${target}&quot; inheritall=&quot;false&quot;&gt;
+					&lt;property name=&quot;do.dmdb.abort&quot; value=&quot;${do.db.abort}&quot; /&gt;
 					&lt;property name=&quot;syspass&quot; value=&quot;${db.syspass}&quot; /&gt;
 					&lt;property name=&quot;withsyspass&quot; value=&quot;${withsyspass}&quot; /&gt;
 				&lt;/ant&gt;
 			&lt;/try&gt;
-			&lt;catch/&gt;
+			&lt;catch&gt;
+				&lt;echo&gt;${exceptionProp}&lt;/echo&gt;
+			&lt;/catch&gt;
 		&lt;/trycatch&gt;
-    	&lt;echo&gt;finished target &quot;${target}&quot; in example &quot;${example}&quot;&lt;/echo&gt;
+		&lt;echo&gt;finished target &quot;${target}&quot; in example &quot;${example}&quot;&lt;/echo&gt;
 	&lt;/target&gt;
 
 &lt;/project&gt;

Copied: trunk/checkstyle_config.xml (from rev 219, branches/eschnepel/checkstyle_config.xml)

Modified: trunk/config.xml
===================================================================
--- trunk/config.xml	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/config.xml	2007-09-21 15:00:46 UTC (rev 220)
@@ -5,7 +5,7 @@
 		&lt;/not&gt;
 	&lt;/condition&gt;
 
-	&lt;property name=&quot;config.properties&quot; value=&quot;${dm.base-dir}/config.properties&quot;/&gt;
+	&lt;property name=&quot;config.properties&quot; value=&quot;${dm.base-dir}/config.properties&quot; /&gt;
 
 	&lt;property file=&quot;${config.properties}&quot; /&gt;
 	&lt;property file=&quot;${dm.base-dir}/build.properties&quot; /&gt;
@@ -13,12 +13,17 @@
 	&lt;property file=&quot;${dm.instance.property-file}&quot; /&gt;
 	&lt;property file=&quot;${dm.instance.build-property-file}&quot; /&gt;
 
-	&lt;property name=&quot;db.type.property-file&quot; value=&quot;${config}/db-${db.type}.properties&quot;/&gt;
+	&lt;property name=&quot;db.type.property-file&quot; value=&quot;${config}/db-${db.type}.properties&quot; /&gt;
 
 	&lt;property file=&quot;${db.type.property-file}&quot; /&gt;
 
-	&lt;property name=&quot;main-target&quot; value=&quot;config&quot;/&gt;
+	&lt;property name=&quot;main-target&quot; value=&quot;config&quot; /&gt;
 
+	&lt;path id=&quot;dblibs&quot;&gt;
+		&lt;fileset dir=&quot;${dm.base-dir}&quot;&gt;
+			&lt;include name=&quot;${db.libs}&quot; /&gt;
+		&lt;/fileset&gt;
+	&lt;/path&gt;
 	&lt;path id=&quot;javalibs&quot;&gt;
 		&lt;fileset dir=&quot;${dm.base-dir}&quot;&gt;
 			&lt;include name=&quot;${db.libs}&quot; /&gt;
@@ -45,18 +50,11 @@
 	&lt;/pathconvert&gt;
 
 	&lt;condition property=&quot;do.web.deploy&quot; value=&quot;true&quot;&gt;
-		&lt;istrue value=&quot;${web.deploy.do}&quot;/&gt;
+		&lt;istrue value=&quot;${web.deploy.do}&quot; /&gt;
 	&lt;/condition&gt;
-	&lt;condition property=&quot;do.config.db.host&quot; value=&quot;true&quot;&gt;
-		&lt;istrue value=&quot;${config.db.host}&quot;/&gt;
-	&lt;/condition&gt;
-	&lt;condition property=&quot;do.config.db.name&quot; value=&quot;true&quot;&gt;
-		&lt;istrue value=&quot;${config.db.name}&quot;/&gt;
-	&lt;/condition&gt;
-	&lt;condition property=&quot;do.config.db.user&quot; value=&quot;true&quot;&gt;
-		&lt;istrue value=&quot;${config.db.user}&quot;/&gt;
-	&lt;/condition&gt;
 
-	&lt;taskdef resource=&quot;net/sf/antcontrib/antcontrib.properties&quot;/&gt;
-	&lt;taskdef name=&quot;for&quot; classname=&quot;net.sf.antcontrib.logic.ForTask&quot;/&gt;
+	&lt;taskdef resource=&quot;org/apache/tools/ant/taskdefs/antinput.properties&quot; /&gt;
+	&lt;taskdef resource=&quot;net/sf/antcontrib/antcontrib.properties&quot; /&gt;
+	&lt;taskdef resource=&quot;checkstyletask.properties&quot; /&gt;
+	&lt;taskdef name=&quot;for&quot; classname=&quot;net.sf.antcontrib.logic.ForTask&quot; /&gt;
 &lt;/project&gt;


Property changes on: trunk/develop
___________________________________________________________________
Name: svn:ignore
   + build


Modified: trunk/develop/src/de/deepamehta/Configuration.java
===================================================================
--- trunk/develop/src/de/deepamehta/Configuration.java	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/develop/src/de/deepamehta/Configuration.java	2007-09-21 15:00:46 UTC (rev 220)
@@ -30,10 +30,12 @@
 			if (null != name) {
 				setProperty(ConfigurationConstants.Instance.DM_INSTANCE, name);
 			} else {
+				loadProperties(getProperty(ConfigurationConstants.Instance.DM_CONFIG_PROPERTY_FILE));
 				name = getProperty(ConfigurationConstants.Instance.DM_INSTANCE);
 			}
 			resolveReferences();
 			loadProperties(getProperty(ConfigurationConstants.Instance.DM_INSTANCE_PROPERTY_FILE));
+			loadProperties(getProperty(ConfigurationConstants.Instance.DM_INSTANCE_CONFIG_PROPERTY_FILE));
 			resolveReferences();
 		} catch (FileNotFoundException e) {
 			e.printStackTrace();
@@ -50,11 +52,11 @@
 		c.resolveReferences();
 		try {
 			c.loadProperties(c.getProperty(ConfigurationConstants.Database.DB_TYPE_PROPERTY_FILE));
+			c.resolveReferences();
 		} catch (Exception e) {
 			System.out.println(&quot;&gt;&gt;&gt; Unable to resolve config file for database specific settings.&quot;);
 			System.out.println(&quot;&gt;&gt;&gt; You may have luck when only accessing global setting...&quot;);
 		}
-		c.resolveReferences();
 		return c;
 	}
 
@@ -64,6 +66,7 @@
 
 	private void loadProperties(String configFile) throws IOException,
 			FileNotFoundException {
+		System.out.println(&quot;Loading Configuration properties &quot;+configFile);
 		Properties p = new Properties();
 		p.load(new FileInputStream(configFile));
 		putAll(p);

Modified: trunk/develop/src/de/deepamehta/ConfigurationConstants.java
===================================================================
--- trunk/develop/src/de/deepamehta/ConfigurationConstants.java	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/develop/src/de/deepamehta/ConfigurationConstants.java	2007-09-21 15:00:46 UTC (rev 220)
@@ -6,11 +6,15 @@
 
 		public final static String DM_INSTANCE_PROPERTY_FILE = &quot;dm.instance.property-file&quot;;
 
+		public final static String DM_INSTANCE_CONFIG_PROPERTY_FILE = &quot;dm.instance.config-property-file&quot;;
+
 		public final static String DM_HOST = &quot;dm.host&quot;;
 
 		public final static String DM_PORT = &quot;dm.port&quot;;
 
 		public final static String DM_COPRORATE_MEMORY_CLASS = &quot;dm.comporate-memory.class&quot;;
+
+		public static final String DM_CONFIG_PROPERTY_FILE = &quot;dm.config.property-file&quot;;
 	}
 
 	public final class Database {

Modified: trunk/develop/src/de/deepamehta/DeepaMehtaConstants.java
===================================================================
--- trunk/develop/src/de/deepamehta/DeepaMehtaConstants.java	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/develop/src/de/deepamehta/DeepaMehtaConstants.java	2007-09-21 15:00:46 UTC (rev 220)
@@ -257,15 +257,15 @@
 		{&quot;Create Topic Type ...&quot;, &quot;Topictyp erzeugen ...&quot;},
 		{&quot;Create Association Type ...&quot;, &quot;Assoziationstyp erzeugen ...&quot;},
 		{&quot;Create \\1&quot;, &quot;\\1 erzeugen&quot;},
-		{&quot;Delete&quot;, &quot;L&#239;&#191;&#189;schen&quot;},
-		{&quot;Delete&quot;, &quot;L&#239;&#191;&#189;schen&quot;},
+		{&quot;Delete&quot;, &quot;L&#195;&#182;schen&quot;},
+		{&quot;Delete&quot;, &quot;L&#195;&#182;schen&quot;},
 		{&quot;Remove&quot;, &quot;Entfernen&quot;},
 		{&quot;Remove&quot;, &quot;Entfernen&quot;},
 		{&quot;Hide&quot;, &quot;Ausblenden&quot;},
 		{&quot;Hide&quot;, &quot;Ausblenden&quot;},
 		{&quot;Hide all&quot;, &quot;Alle ausblenden&quot;},
-		{&quot;Close&quot;, &quot;Schlie&#239;&#191;&#189;en&quot;},
-		{&quot;Publish to&quot;, &quot;Freigeben f&#239;&#191;&#189;r&quot;},
+		{&quot;Close&quot;, &quot;Schlie&#195;&#159;en&quot;},
+		{&quot;Publish to&quot;, &quot;Freigeben f&#195;&#188;r&quot;},
 		{&quot;Import Topic Map ...&quot;, &quot;Topic Map importieren ...&quot;},
 		{&quot;Export&quot;, &quot;Exportieren&quot;},
 		{&quot;Export Format&quot;, &quot;Export-Format&quot;},
@@ -281,7 +281,7 @@
 		{&quot;Set \\1&quot;, &quot;\\1 setzen&quot;},
 		{&quot;Edit \\1&quot;, &quot;\\1 bearbeiten&quot;},
 		{&quot;Show \\1&quot;, &quot;\\1 anzeigen&quot;},
-		{&quot;Choose \\1&quot;, &quot;\\1 ausw&#239;&#191;&#189;hlen&quot;},
+		{&quot;Choose \\1&quot;, &quot;\\1 ausw&#195;&#164;hlen&quot;},
 		{&quot;Assign \\1&quot;, &quot;\\1 zuordnen&quot;},
 		{&quot;Create \\1&quot;, &quot;\\1 erzeugen&quot;},
 		{&quot;What is a \&quot;\\1\&quot;?&quot;, &quot;Hilfe zu \&quot;\\1\&quot;&quot;},
@@ -298,7 +298,7 @@
 		{&quot;Use&quot;, &quot;Inhalt&quot;},
 		{&quot;Build&quot;, &quot;Struktur&quot;},
 		{&quot;Messages&quot;, &quot;Mitteilungen&quot;},
-		{&quot;Choose ...&quot;, &quot;Ausw&#239;&#191;&#189;hlen ...&quot;},
+		{&quot;Choose ...&quot;, &quot;Ausw&#195;&#164;hlen ...&quot;},
 		// --- &quot;Workspace&quot; commands ---
 		{&quot;Join&quot;, &quot;Beitreten&quot;},
 		{&quot;Leave&quot;, &quot;Austreten&quot;},
@@ -306,7 +306,7 @@
 		{&quot;Assign Association Type&quot;, &quot;Assoziationstyp zuordnen&quot;},
 		// --- &quot;User&quot; commands ---
 		{&quot;Set Standard Workspace&quot;, &quot;Standard Workspace setzen&quot;},
-		{&quot;Choose ...&quot;, &quot;Ausw&#239;&#191;&#189;hlen ...&quot;},
+		{&quot;Choose ...&quot;, &quot;Ausw&#195;&#164;hlen ...&quot;},
 	};
 
 	static final int ITEM_NEW_TOPIC    = 0;

Modified: trunk/develop/src/de/deepamehta/DeepaMehtaException.java
===================================================================
--- trunk/develop/src/de/deepamehta/DeepaMehtaException.java	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/develop/src/de/deepamehta/DeepaMehtaException.java	2007-09-21 15:00:46 UTC (rev 220)
@@ -15,6 +15,6 @@
     }
 
 	public DeepaMehtaException(String string, Exception e) {
-		super(string,e);
+		super(string, e);
 	}
 }

Modified: trunk/develop/src/de/deepamehta/TopicInitException.java
===================================================================
--- trunk/develop/src/de/deepamehta/TopicInitException.java	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/develop/src/de/deepamehta/TopicInitException.java	2007-09-21 15:00:46 UTC (rev 220)
@@ -13,4 +13,8 @@
     public TopicInitException(String s) {
 		super(s);
     }
+
+	public TopicInitException(String string, Exception e) {
+	    super(string, e);
+    }
 }

Modified: trunk/develop/src/de/deepamehta/client/ComboBoxRenderer.java
===================================================================
--- trunk/develop/src/de/deepamehta/client/ComboBoxRenderer.java	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/develop/src/de/deepamehta/client/ComboBoxRenderer.java	2007-09-21 15:00:46 UTC (rev 220)
@@ -3,20 +3,20 @@
 import javax.swing.*;
 import java.awt.*;
 
+
+
 class ComboBoxRenderer extends JLabel implements ListCellRenderer {
 
 	ComboBoxRenderer() {
-		setOpaque(true); // otherwise the background isn't painted
+		setOpaque(true);	// otherwise the background isn't painted
 	}
 
-	public Component getListCellRendererComponent(JList list, Object value,
-			int index, boolean isSelected, boolean cellHasFocus) {
+	public Component getListCellRendererComponent(JList list, Object value, int index,
+										boolean isSelected, boolean cellHasFocus) {
 		ComboBoxItem item = (ComboBoxItem) value;
-		/*
-		 * ### System.out.println(&quot;&gt;&gt;&gt; menu item \&quot;&quot; + icon.getDescription() +
-		 * &quot;\&quot; is &quot; + &quot;rendered, selected: &quot; + isSelected + &quot;, background: &quot; +
-		 * (isSelected ? list.getSelectionBackground() : list.getBackground()));
-		 */
+		/* ### System.out.println(&quot;&gt;&gt;&gt; menu item \&quot;&quot; + icon.getDescription() + &quot;\&quot; is &quot; +
+			&quot;rendered, selected: &quot; + isSelected + &quot;, background: &quot; + (isSelected ? list.getSelectionBackground() :
+			list.getBackground())); */
 		if (item == null) {
 			setText(&quot;null ?!?!&quot;);
 			setIcon(null);
@@ -24,8 +24,7 @@
 			setText(item.text);
 			setIcon(item.icon);
 		}
-		setBackground(isSelected ? list.getSelectionBackground() : list
-				.getBackground());
+		setBackground(isSelected ? list.getSelectionBackground() : list.getBackground());
 		return this;
 	}
 }

Modified: trunk/develop/src/de/deepamehta/service/ApplicationService.java
===================================================================
--- trunk/develop/src/de/deepamehta/service/ApplicationService.java	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/develop/src/de/deepamehta/service/ApplicationService.java	2007-09-21 15:00:46 UTC (rev 220)
@@ -153,22 +153,8 @@
 		System.out.println(&quot;&gt;    active installation: \&quot;&quot; + installation.getName() + &quot;\&quot;&quot;);
 	}
 
-	private class StatisticsThread extends TimerTask{
 	
-		// ******************************************************
-		// *** Implementation of interface java.util.TimerTask ***
-		// ******************************************************
 	
-	
-		/**
-		 * The body of the statistics thread.
-		 */
-		public void run() {
-			System.out.println(DeepaMehtaUtils.getDate() + &quot; &quot; + DeepaMehtaUtils.getTime() + &quot; statistics: &quot; +
-				cm.getTopicCount() + &quot; topics, &quot; + cm.getAssociationCount() + &quot; associations&quot;);
-		}
-	}
-
 	// ***************
 	// *** Methods ***
 	// ***************
@@ -197,8 +183,6 @@
 		System.out.println(&quot;&gt;    service name: \&quot;&quot; + instance.name + &quot;\&quot;&quot;);
 		System.out.println(&quot;&gt; Corporate Memory&quot;);
 		System.out.println(&quot;&gt;    implementation: \&quot;&quot; + instance.cmClass + &quot;\&quot;&quot;);
-//		System.out.println(&quot;&gt;    URL: \&quot;&quot; + instance.dbURL + &quot;\&quot;&quot;);
-//		System.out.println(&quot;&gt;    driver: \&quot;&quot; + instance.dbDriverClass + &quot;\&quot;&quot;);
 		// establish access to corporate memory
 		CorporateMemory cm = instance.createCorporateMemory();	// throws DME
 		// create application service
@@ -1907,10 +1891,11 @@
 
 	// ---
 
-	/**
+	/* ### 
+	/ **
 	 * @see		#createTopic
-	 */
-	/* ### void tiggerAddedToTopicmap(String topicmapID, BaseTopic topic, CorporateDirectives directives) {
+	 * /
+	void tiggerAddedToTopicmap(String topicmapID, BaseTopic topic, CorporateDirectives directives) {
 		try {
 			// --- trigger addedToTopicmap() hook ---
 			LiveTopic topicmap = getLiveTopic(topicmapID, 1);	// ### version 1
@@ -3586,7 +3571,7 @@
 			out.write(buffer, 0, num);
 		}
 		in.close();
-		String html = new String(out.toCharArray());		// hibyte=0 ### deprecated, compare to DeepaMehtaUtils.readFile()
+		String html = new String(out.toCharArray());
 		System.out.println(&quot;  &gt; \&quot;&quot; + url + &quot;\&quot; -- (&quot; + html.length() + &quot; bytes read)&quot;);
 		//
 		return html;
@@ -3746,6 +3731,8 @@
 					// the path have an extension -- it is considered as a directory
 					// if the extension is unknown ### list possibly incomplete
 					String extension = file.substring(pos2);
+
+					// TODO ### use static hashset for comparism
 					if (!extension.equalsIgnoreCase(&quot;.html&quot;) &amp;&amp;
 						!extension.equalsIgnoreCase(&quot;.htm&quot;) &amp;&amp;
 						!extension.equalsIgnoreCase(&quot;.phtml&quot;) &amp;&amp;
@@ -4816,10 +4803,11 @@
 		}
 	}
 
-	/**
+	/* ### 
+	/ **
 	 * @see		#personalizeView
-	 */
-	/* ### private void personalizeAssociations(String topicmapID, int topicmapVersion, String viewMode, Enumeration assocs,
+	 * /
+	private void personalizeAssociations(String topicmapID, int topicmapVersion, String viewMode, Enumeration assocs,
 																					boolean performExistenceCheck) {
 		while (assocs.hasMoreElements()) {
 			PresentableAssociation assoc = (PresentableAssociation) assocs.nextElement();
@@ -5225,4 +5213,23 @@
 	public String getConfigurationProperty(String property){
 		return applicationServiceInstance.getConfigurationProperty(property);
 	}
+
+
+
+	// ******************************************************
+	// *** Implementation of interface java.util.TimerTask ***
+	// ******************************************************
+
+
+
+	private class StatisticsThread extends TimerTask{
+
+		/**
+		 * The body of the statistics thread.
+		 */
+		public void run() {
+			System.out.println(DeepaMehtaUtils.getDate() + &quot; &quot; + DeepaMehtaUtils.getTime() + &quot; statistics: &quot; +
+				cm.getTopicCount() + &quot; topics, &quot; + cm.getAssociationCount() + &quot; associations&quot;);
+		}
+	}
 }

Modified: trunk/develop/src/de/deepamehta/service/ApplicationServiceInstance.java
===================================================================
--- trunk/develop/src/de/deepamehta/service/ApplicationServiceInstance.java	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/develop/src/de/deepamehta/service/ApplicationServiceInstance.java	2007-09-21 15:00:46 UTC (rev 220)
@@ -69,7 +69,7 @@
 			}
 		} catch (NumberFormatException e) {
 			throw new DeepaMehtaException(&quot;Service \&quot;&quot; + name + &quot;\&quot; has &quot; +
-				&quot;invalid port \&quot;&quot; + port + &quot;\&quot;&quot;);
+				&quot;invalid port \&quot;&quot; + port + &quot;\&quot;&quot;, e);
 		}
 	}
 
@@ -91,7 +91,7 @@
 	 */
 	public static ApplicationServiceInstance lookup(String[] args) throws DeepaMehtaException {
 		if (args.length == 0) {
-			return lookup((String)null);
+			return lookup((String) null);
 		} else if (args.length == 1) {
 			return lookup(args[0]);
 		} else {
@@ -162,14 +162,13 @@
             }
 		} catch (SQLException e) {	// ### not tested
 			String hint = e.getMessage().indexOf(&quot;Bad Handshake&quot;) != -1 ?
-				&quot; -- Probably the driver is too old&quot;:&quot;&quot;;
-			//	(dbDriverClass.equals(&quot;org.gjt.mm.mysql.Driver&quot;) ?
-				//&quot;.\n*** Get a new driver from www.gjt.org/download/. &quot; +
-				//&quot;Look for \&quot;MM MySQL - JDBC Compliant Driver For MySQL\&quot;.&quot; : &quot;&quot;) : &quot;&quot;;
-			throw new DeepaMehtaException(errText + &quot; (&quot; + e + &quot;)&quot; + hint);
+				&quot; -- Probably the driver is too old&quot; : &quot;&quot;;
+			throw new DeepaMehtaException(errText + &quot; (&quot; + e + &quot;)&quot; + hint, e);
 		} catch (ClassNotFoundException e) {
 			throw new DeepaMehtaException(errText + &quot;: &quot; + &quot;the driver class can't be found (&quot; +
-                e.getMessage() + &quot;)&quot;);
+                e.getMessage() + &quot;)&quot;, e);
+		} catch (DeepaMehtaException e) {
+			throw e;
 		} catch (Throwable e) {
 			throw new DeepaMehtaException(errText + &quot; (&quot; + e + &quot;)&quot;);
 		}

Modified: trunk/develop/src/de/deepamehta/service/CorporateMemory.java
===================================================================
--- trunk/develop/src/de/deepamehta/service/CorporateMemory.java	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/develop/src/de/deepamehta/service/CorporateMemory.java	2007-09-21 15:00:46 UTC (rev 220)
@@ -19,7 +19,6 @@
  */
 public interface CorporateMemory {
 
-	void release();
 
 
 	// -------------------------
@@ -292,4 +291,5 @@
 
 	int getModelVersion();
 	int getContentVersion();
+	void release();
 }

Modified: trunk/develop/src/de/deepamehta/service/CorporateSQLSource.java
===================================================================
--- trunk/develop/src/de/deepamehta/service/CorporateSQLSource.java	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/develop/src/de/deepamehta/service/CorporateSQLSource.java	2007-09-21 15:00:46 UTC (rev 220)
@@ -45,7 +45,6 @@
 
 
 	/**
-	 * @param libs 
 	 * @see		de.deepamehta.topics.DataSourceTopic#openCorporateDatasource
 	 */
 	public CorporateSQLSource(String url, String dbtype) throws Exception {
@@ -160,7 +159,7 @@
 	public int getElementCount(String type) throws SQLException {
 		String query = &quot;SELECT COUNT(*) AS Cnt FROM &quot; + type;
 		//
-		// System.out.println(&quot;&gt; 1 CorporateSQLSource.getElementCount(): \&quot;&quot; + query + &quot;\&quot;&quot;);
+		// ### System.out.println(&quot;&gt; CorporateSQLSource.getElementCount(): \&quot;&quot; + query + &quot;\&quot;&quot;);
 		Statement stmt = provider.getStatement();
 		ResultSet result = stmt.executeQuery(query);
 		int count = queryCount(result);
@@ -172,7 +171,7 @@
 	public int getElementCount(String elementType, Hashtable attributes, boolean caseSensitiv) throws Exception {
 		String queryStr = buildQuery(elementType, attributes, caseSensitiv, &quot;*&quot;, true);		// ### onlyCount=true
 		//
-		// System.out.println(&quot;&gt; 2 CorporateSQLSource.getElementCount(): \&quot;&quot; + queryStr + &quot;\&quot;&quot;);
+		// ### System.out.println(&quot;&gt; CorporateSQLSource.getElementCount(): \&quot;&quot; + queryStr + &quot;\&quot;&quot;);
 		Statement stmt = provider.getStatement();
 		ResultSet result = stmt.executeQuery(queryStr);
 		int count = queryCount(result);
@@ -184,7 +183,7 @@
 	public int getElementCount(String elementType, String id, String relatedElementType, String helperElementType) throws Exception {
 		String queryStr = buildQuery(elementType, id, relatedElementType, helperElementType, true);		// ### onlyCount=true
 		//
-		// System.out.println(&quot;&gt; 3 CorporateSQLSource.getElementCount(): \&quot;&quot; + queryStr + &quot;\&quot;&quot;);
+		// ### System.out.println(&quot;&gt; CorporateSQLSource.getElementCount(): \&quot;&quot; + queryStr + &quot;\&quot;&quot;);
 		Statement stmt = provider.getStatement();
 		ResultSet result = stmt.executeQuery(queryStr);
 		int count = queryCount(result);

Modified: trunk/develop/src/de/deepamehta/service/DeepaMehta.java
===================================================================
--- trunk/develop/src/de/deepamehta/service/DeepaMehta.java	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/develop/src/de/deepamehta/service/DeepaMehta.java	2007-09-21 15:00:46 UTC (rev 220)
@@ -47,7 +47,7 @@
 
 
 	private PresentationService ps;
-	//private ApplicationService as;
+	// ### private ApplicationService as;
 
 	private static final String commInfo = &quot;direct method calls (embedded service)&quot;;
 	private static final String errText = &quot;DeepaMehta can't run&quot;;

Modified: trunk/develop/src/de/deepamehta/service/RelationalCorporateMemory.java
===================================================================
--- trunk/develop/src/de/deepamehta/service/RelationalCorporateMemory.java	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/develop/src/de/deepamehta/service/RelationalCorporateMemory.java	2007-09-21 15:00:46 UTC (rev 220)
@@ -79,6 +79,8 @@
 		System.out.println(&quot;&gt;    DBMS hint: \&quot;&quot; + dbmsHint.getName() + &quot;\&quot;&quot;);
 	}
 
+	
+	
 	// *************************************************************************
 	// *** Implementation of Interface de.deepamehta.service.CorporateMemory ***
 	// *************************************************************************
@@ -272,10 +274,11 @@
 		return getRelatedTopics(topicID, assocType, null, null, null, relTopicPos, null, null, null, null, null, false, false);
 	}
 
-	/**
+	/* ###
+	/ **
 	 * @return	vector of {@link de.deepamehta.BaseTopic}
-	 */
-	/* ### public Vector getRelatedTopics(String topicID, String assocType, String relTopicType) {
+	 * /
+	public Vector getRelatedTopics(String topicID, String assocType, String relTopicType) {
 		return queryBaseTopics(&quot;SELECT Topic.* FROM Topic, Association WHERE &quot; +
 			&quot;(Association.TopicID1='&quot; + topicID + &quot;' AND Association.TopicID2 = Topic.ID OR &quot; +
 			&quot;Association.TopicID2='&quot; + topicID + &quot;' AND Association.TopicID1 = Topic.ID) AND &quot; +
@@ -1369,6 +1372,7 @@
 	// --- End of Interface de.deepamehta.service.CorporateMemory ---
 	// --------------------------------------------------------------
 
+	
 
 	// -----------------------
 	// --- Private Methods ---
@@ -1431,12 +1435,13 @@
 		return result;
 	}
 
-	/**
+	/* ###
+	/ **
 	 * @see		#createPresentableTopic
 	 *
 	 * @return	null if geometry not exists
-	 */
-	/* ### private Point queryGeometry(String query) {
+	 * /
+	private Point queryGeometry(String query) {
 		Point p = null;
 		try {
 			Statement stmt = createStatement();

Modified: trunk/develop/src/de/deepamehta/service/db/DefaultDatabaseProvider.java
===================================================================
--- trunk/develop/src/de/deepamehta/service/db/DefaultDatabaseProvider.java	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/develop/src/de/deepamehta/service/db/DefaultDatabaseProvider.java	2007-09-21 15:00:46 UTC (rev 220)
@@ -216,37 +216,7 @@
 	}
 
 	public void logStatement(String arg0) {
-		return;
-		/* ### dblog.println(arg0);
-		// do not use the AutoFreeConnectionStatement
-		try {
-			Connection connection = getConnection();
-			try {
-				Statement statement = connection.createStatement();
-				ResultSet rs = statement.executeQuery(&quot;EXPLAIN PLAN FOR &quot;
-						+ arg0);
-				ResultSetMetaData md = rs.getMetaData();
-				int cc = md.getColumnCount();
-				for (int i = 1; i &lt;= cc; i++) {
-					dblog.print(md.getColumnName(i) + &quot;;&quot;);
-				}
-				dblog.println();
-				while (rs.next()) {
-					for (int i = 1; i &lt;= cc; i++) {
-						dblog.print(rs.getString(i) + &quot;;&quot;);
-					}
-					dblog.println();
-				}
-				dblog.println();
-				statement.close();
-			} catch (SQLException e) {
-				e.printStackTrace();
-			} finally {
-				freeConnection(connection);
-			}
-		} catch (SQLException e) {
-			e.printStackTrace();
-		} */
+		dblog.println(arg0);
 	}
 
 }

Modified: trunk/develop/src/de/deepamehta/service/db/HsqlDatabaseProvider.java
===================================================================
--- trunk/develop/src/de/deepamehta/service/db/HsqlDatabaseProvider.java	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/develop/src/de/deepamehta/service/db/HsqlDatabaseProvider.java	2007-09-21 15:00:46 UTC (rev 220)
@@ -1,6 +1,8 @@
 package de.deepamehta.service.db;
 
 import java.sql.Connection;
+import java.sql.ResultSet;
+import java.sql.ResultSetMetaData;
 import java.sql.SQLException;
 import java.sql.Statement;
 import java.util.Properties;
@@ -74,4 +76,38 @@
 		super.checkPointNeeded();
 		doNextCheckPoint=true;
 	}
+
+	public void logStatement(String stmt) {
+		super.logStatement(stmt);
+		// do not use the AutoFreeConnectionStatement
+		// as it would result in an endless loop
+		try {
+			Connection connection = getConnection();
+			try {
+				Statement statement = connection.createStatement();
+				ResultSet rs = statement.executeQuery(&quot;EXPLAIN PLAN FOR &quot;
+						+ stmt);
+				ResultSetMetaData md = rs.getMetaData();
+				int cc = md.getColumnCount();
+				for (int i = 1; i &lt;= cc; i++) {
+					dblog.print(md.getColumnName(i) + &quot;;&quot;);
+				}
+				dblog.println();
+				while (rs.next()) {
+					for (int i = 1; i &lt;= cc; i++) {
+						dblog.print(rs.getString(i) + &quot;;&quot;);
+					}
+					dblog.println();
+				}
+				dblog.println();
+				statement.close();
+			} catch (SQLException e) {
+				e.printStackTrace();
+			} finally {
+				freeConnection(connection);
+			}
+		} catch (SQLException e) {
+			e.printStackTrace();
+		}
+	}
 }

Modified: trunk/develop/src/de/deepamehta/service/web/DeepaMehtaServlet.java
===================================================================
--- trunk/develop/src/de/deepamehta/service/web/DeepaMehtaServlet.java	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/develop/src/de/deepamehta/service/web/DeepaMehtaServlet.java	2007-09-21 15:00:46 UTC (rev 220)
@@ -103,7 +103,7 @@
 		String service = sc.getInitParameter(&quot;service&quot;);
 		// Note: the current working directory is the directory from where tomcat was started
 		ApplicationServiceInstance instance = ApplicationServiceInstance.lookup(
-			service, home != null ? home + &quot;/install/client/dm.properties&quot; : &quot;dm.properties&quot;);
+			service, home != null ? home + &quot;/install/config/dm.properties&quot; : &quot;dm.properties&quot;);
 		as = ApplicationService.create(this, instance);		// throws DME ### servlet is not properly inited
 		cm = as.cm;
 		// --- create external connection ---

Modified: trunk/develop/src/de/deepamehta/topics/DataConsumerTopic.java
===================================================================
--- trunk/develop/src/de/deepamehta/topics/DataConsumerTopic.java	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/develop/src/de/deepamehta/topics/DataConsumerTopic.java	2007-09-21 15:00:46 UTC (rev 220)
@@ -190,7 +190,7 @@
 			return topicTypes;
 		} catch (Exception e) {
 			throw new DeepaMehtaException(&quot;*** DataConsumerTopic.revealTopicTypes(): &quot; +
-				&quot;topic types of &quot; + this + &quot; not revealed (&quot; + e + &quot;)&quot;,e);
+				&quot;topic types of &quot; + this + &quot; not revealed (&quot; + e + &quot;)&quot;, e);
 		}
 	}
 
@@ -259,7 +259,7 @@
 			}
 		} catch (Exception e) {
 			throw new DeepaMehtaException(&quot;*** DataConsumerTopic.revealRelatedTopics():&quot; +
-				&quot; related topics of &quot; + this + &quot; not revealed (&quot; + e + &quot;)&quot;,e);
+				&quot; related topics of &quot; + this + &quot; not revealed (&quot; + e + &quot;)&quot;, e);
 		}
 	}
 

Modified: trunk/develop/src/de/deepamehta/topics/DataSourceTopic.java
===================================================================
--- trunk/develop/src/de/deepamehta/topics/DataSourceTopic.java	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/develop/src/de/deepamehta/topics/DataSourceTopic.java	2007-09-21 15:00:46 UTC (rev 220)
@@ -1,7 +1,6 @@
 package de.deepamehta.topics;
 
 import de.deepamehta.BaseTopic;
-import de.deepamehta.ConfigurationConstants;
 import de.deepamehta.DeepaMehtaException;
 import de.deepamehta.TopicInitException;
 import de.deepamehta.service.ApplicationService;
@@ -16,13 +15,14 @@
 import java.io.IOException;
 import java.util.*;
 
+
+
 /**
- * This kernel topic represents a
- * {@link de.deepamehta.service.CorporateDatasource}.
+ * This kernel topic represents a {@link de.deepamehta.service.CorporateDatasource}.
  * &lt;P&gt;
- * A &lt;CODE&gt;DataSourceTopic&lt;/CODE&gt; is associated to its
- * {@link DataConsumerTopic}s by means of an association of type &lt;CODE&gt;at-association&lt;/CODE&gt;
- * (direction is from data consumer to datasource).
+ * A &lt;CODE&gt;DataSourceTopic&lt;/CODE&gt; is associated to its {@link DataConsumerTopic}s by
+ * means of an association of type &lt;CODE&gt;at-association&lt;/CODE&gt; (direction is from
+ * data consumer to datasource).
  * &lt;P&gt;
  * &lt;HR&gt;
  * Last functional change: 8.11.2004 (2.0b3)&lt;BR&gt;
@@ -32,49 +32,57 @@
  */
 public class DataSourceTopic extends LiveTopic implements Runnable {
 
+
+
 	// **************
 	// *** Fields ***
 	// **************
 
+
+
 	// Note: the XML path is relative to servers working directory
 
 	protected String url;
-
 	protected String dbtype;
-
 	protected String elements;
-
 	protected String idleElement;
 
-	protected CorporateDatasource dataSource;
+	protected CorporateDatasource myDataSource;
 
 	/**
 	 * The idle thread.
 	 */
 	Thread idleThread;
 
+
+
 	// *******************
 	// *** Constructor ***
 	// *******************
 
+
+
 	public DataSourceTopic(BaseTopic topic, ApplicationService as) {
 		super(topic, as);
 	}
 
+
+
 	// ******************************************************
 	// *** Implementation of Interface java.lang.Runnable ***
 	// ******************************************************
 
+
+
 	/**
 	 * The body of the idle thread.
 	 */
 	public void run() {
 		while (true) {
 			try {
-				Thread.sleep(5 * 60 * 1000); // interval is 5 min.
-				System.out.println(&quot;&gt; \&quot;&quot; + getName() + &quot;\&quot; statistics (\&quot;&quot;
-						+ idleElement + &quot;\&quot;): &quot;
-						+ dataSource.getElementCount(idleElement));
+				Thread.sleep(5 * 60 * 1000);	// interval is 5 min.
+				System.out.println(&quot;&gt; \&quot;&quot; + getName() + &quot;\&quot; statistics (\&quot;&quot; +
+					idleElement + &quot;\&quot;): &quot; + dataSource.getElementCount(idleElement));
 			} catch (InterruptedException e) {
 				System.out.println(&quot;*** DataSourceTopic.run(): &quot; + e);
 			} catch (Exception e) {
@@ -83,93 +91,84 @@
 		}
 	}
 
+
+
 	// ***************
 	// *** Methods ***
 	// ***************
 
+
+
 	/**
-	 * @see DataConsumerTopic#setDataSource
+	 * @see		DataConsumerTopic#setDataSource
 	 */
 	public String getURL() {
 		return url;
 	}
 
 	/**
-	 * @see DataConsumerTopic#setDataSource
+	 * @see		DataConsumerTopic#setDataSource
 	 */
 	public CorporateDatasource getDataSource() {
-		return dataSource;
+		return myDataSource;
 	}
 
+
+
 	// ----------------------
 	// --- Defining Hooks ---
 	// ----------------------
 
+
+
 	/**
 	 * &lt;TABLE&gt;
-	 * &lt;TR&gt;
-	 * &lt;TD&gt;&lt;B&gt;Called by&lt;/B&gt;&lt;/TD&gt;
-	 * &lt;TD&gt;&lt;CODE&gt;initLevel&lt;/CODE&gt;&lt;/TD&gt;
-	 * &lt;/TR&gt;
-	 * &lt;TR&gt;
-	 * &lt;TD&gt;{@link de.deepamehta.service.ApplicationService#createLiveTopic}&lt;/TD&gt;
-	 * &lt;TD&gt;1&lt;/TD&gt;
-	 * &lt;/TR&gt;
-	 * &lt;TR&gt;
-	 * &lt;TD&gt;{@link de.deepamehta.service.ApplicationService#initTopic}&lt;/TD&gt;
-	 * &lt;TD&gt;variable&lt;/TD&gt;
-	 * &lt;/TR&gt;
-	 * &lt;TR&gt;
-	 * &lt;TD&gt;{@link de.deepamehta.service.ApplicationService#initTypeTopic}&lt;/TD&gt;
-	 * &lt;TD&gt;3&lt;/TD&gt;
-	 * &lt;/TR&gt;
+	 * &lt;TR&gt;&lt;TD&gt;&lt;B&gt;Called by&lt;/B&gt;&lt;/TD&gt;&lt;TD&gt;&lt;CODE&gt;initLevel&lt;/CODE&gt;&lt;/TD&gt;&lt;/TR&gt;
+	 * &lt;TR&gt;&lt;TD&gt;{@link de.deepamehta.service.ApplicationService#createLiveTopic}&lt;/TD&gt;&lt;TD&gt;1&lt;/TD&gt;&lt;/TR&gt;
+	 * &lt;TR&gt;&lt;TD&gt;{@link de.deepamehta.service.ApplicationService#initTopic}&lt;/TD&gt;&lt;TD&gt;variable&lt;/TD&gt;&lt;/TR&gt;
+	 * &lt;TR&gt;&lt;TD&gt;{@link de.deepamehta.service.ApplicationService#initTypeTopic}&lt;/TD&gt;&lt;TD&gt;3&lt;/TD&gt;&lt;/TR&gt;
 	 * &lt;/TABLE&gt;
 	 */
 	public CorporateDirectives init(int initLevel, Session session)
-			throws TopicInitException {
+															throws TopicInitException {
 		CorporateDirectives directives = super.init(initLevel, session);
 		//
 		if (initLevel == INITLEVEL_1) {
 			if (LOG_TOPIC_INIT) {
-				System.out.println(&quot;&gt;&gt;&gt; DataSourceTopic.init(&quot; + initLevel
-						+ &quot;): &quot; + this + &quot; -- open corporate datasource&quot;);
+				System.out.println(&quot;&gt;&gt;&gt; DataSourceTopic.init(&quot; + initLevel + &quot;): &quot; +
+					this + &quot; -- open corporate datasource&quot;);
 			}
-			openCorporateDatasource(); // throws TopicInitException
+			openCorporateDatasource();		// throws TopicInitException
 		}
 		//
 		return directives;
 	}
 
-	public CorporateDirectives propertiesChanged(Hashtable newData,
-			Hashtable oldData, String topicmapID, String viewmode,
-			Session session) throws DeepaMehtaException {
+	public CorporateDirectives propertiesChanged(Hashtable newData, Hashtable oldData,
+				String topicmapID, String viewmode, Session session) throws DeepaMehtaException {
 		try {
-			System.out
-					.println(&quot;&gt;&gt;&gt; DataSourceTopic.propertiesChanged(): connection &quot;
-							+ &quot;parameters changed from &quot;
-							+ oldData
-							+ &quot; to &quot;
-							+ newData + &quot; -- reopen &quot; + &quot;corporate datasource&quot;);
+			System.out.println(&quot;&gt;&gt;&gt; DataSourceTopic.propertiesChanged(): connection &quot; +
+				&quot;parameters changed from &quot; + oldData + &quot; to &quot; + newData + &quot; -- reopen &quot; +
+				&quot;corporate datasource&quot;);
 			//
-			CorporateDirectives directives = super.propertiesChanged(newData,
-					oldData, topicmapID, viewmode, session);
+			CorporateDirectives directives = super.propertiesChanged(newData, oldData,
+				topicmapID, viewmode, session);
 			// --- reopen the corporate datasource ---
-			openCorporateDatasource(); // throws TopicInitException
+			openCorporateDatasource();		// throws TopicInitException
 			// --- inform all associated consumers of this datasource ---
 			Vector consumerTypes = as.dataConsumerTypes(getID());
 			Enumeration e = consumerTypes.elements();
 			BaseTopic consumerType;
 			Enumeration consumers;
-			int topicCount; // reporting only
-			int initCount; // reporting only
+			int topicCount;	// reporting only
+			int initCount;	// reporting only
 			String consumerID;
 			LiveTopic consumer;
 			// loop through all topic types who consumes from this datasource
 			while (e.hasMoreElements()) {
 				consumerType = (BaseTopic) e.nextElement();
 				// get all instances of that type in the current topicmap
-				consumers = cm.getTopicIDs(consumerType.getID(), topicmapID)
-						.elements();
+				consumers = cm.getTopicIDs(consumerType.getID(), topicmapID).elements();
 				//
 				topicCount = 0;
 				initCount = 0;
@@ -184,10 +183,9 @@
 						initCount++;
 					}
 				}
-				directives.add(DIRECTIVE_SHOW_MESSAGE, &quot;Datasource of &quot;
-						+ initCount + &quot;/&quot; + topicCount + &quot; \&quot;&quot;
-						+ consumerType.getName() + &quot;\&quot; topics reinitialized&quot;,
-						new Integer(NOTIFICATION_DEFAULT));
+				directives.add(DIRECTIVE_SHOW_MESSAGE, &quot;Datasource of &quot; +
+					initCount + &quot;/&quot; + topicCount + &quot; \&quot;&quot; + consumerType.getName() +
+					&quot;\&quot; topics reinitialized&quot;, new Integer(NOTIFICATION_DEFAULT));
 			}
 			return directives;
 		} catch (TopicInitException e2) {
@@ -195,13 +193,17 @@
 		}
 	}
 
+
+
 	// **********************
 	// *** Private Method ***
 	// **********************
 
+
+
 	/**
-	 * @see #init
-	 * @see #propertiesChanged
+	 * @see		#init
+	 * @see		#propertiesChanged
 	 */
 	private void openCorporateDatasource() throws TopicInitException {
 		this.url = getProperty(&quot;URL&quot;);
@@ -220,64 +222,59 @@
 		}
 		// ### passing text bad
 		if (url.startsWith(&quot;xml:&quot;)) {
-			this.dataSource = createXMLSource(url, elements, text);
 			// throws TopicInitException
+			this.myDataSource = createXMLSource(url, elements, text);
 		} else if (url.startsWith(&quot;jdbc:&quot;)) {
-			this.dataSource = createSQLSource(url, dbtype, text);
 			// throws TopicInitException
+			this.myDataSource = createSQLSource(url, dbtype, text);
 		} else if (url.startsWith(&quot;ldap:&quot;)) {
-			this.dataSource = createLDAPSource(url, text); 
 			// throws TopicInitException
+			this.myDataSource = createLDAPSource(url, text);
 		} else {
-			throw new TopicInitException(
-					text
-							+ &quot;(URL has unexpected protocol: \&quot;&quot;
-							+ url
-							+ &quot;\&quot;&quot;
-							+ &quot; &gt;&gt;&gt; expected protocols are \&quot;jdbc:\&quot;, \&quot;xml:\&quot; and \&quot;ldap:\&quot;)&quot;);
+			throw new TopicInitException(text + &quot;(URL has unexpected protocol: \&quot;&quot; +
+				url + &quot;\&quot;&quot; + &quot; &gt;&gt;&gt; expected protocols are \&quot;jdbc:\&quot;, \&quot;xml:\&quot; and \&quot;ldap:\&quot;)&quot;);
 		}
 	}
-
+	
 	/** @return a new instance of CorporateXMLSource */
-	private CorporateDatasource createXMLSource(String url, String elements,
-			String errmsg) throws TopicInitException {
+	private CorporateDatasource createXMLSource(String url, String elements, String errmsg)
+																	throws TopicInitException {
 		// Note: the XML path is relative to servers working directory
 		String file = url.substring(4);
 		// --- open XML datasource ---
 		try {
 			return new CorporateXMLSource(file, elements);
 		} catch (SAXException e) {
-			throw new TopicInitException(errmsg + &quot;(Syntax error in \&quot;&quot; + file
-					+ &quot;\&quot;: &quot; + e
-					+ &quot; &gt;&gt;&gt; Make sure attribute values are enclosed in \&quot;\&quot;)&quot;);
+			throw new TopicInitException(errmsg + &quot;(Syntax error in \&quot;&quot; + file +
+				&quot;\&quot;: &quot; + e + &quot; &gt;&gt;&gt; Make sure attribute values are enclosed in \&quot;\&quot;)&quot;, e);
 		} catch (IOException e) {
-			throw new TopicInitException(errmsg + &quot;(&quot; + e + &quot;)&quot;);
+			throw new TopicInitException(errmsg + &quot;(&quot; + e + &quot;)&quot;, e);
 		}
 	}
 
 	/**
-	 * @return a new instance of CorporateSQLSource
+	 * @return	a new instance of CorporateSQLSource
 	 */
-	private CorporateDatasource createSQLSource(String url, String dbtype,
-			String errmsg) throws TopicInitException {
-		// --- open SQL datasource ---
+	private CorporateDatasource createSQLSource(String url, String dbtype, String errmsg)
+														throws TopicInitException {
+		//  --- open SQL datasource ---
 		try {
 			CorporateDatasource source = new CorporateSQLSource(url, dbtype);
 			startIdleThread();
 			return source;
 		} catch (ClassNotFoundException e) {
-			throw new TopicInitException(errmsg + &quot;(class not found: &quot;
-					+ e.getMessage() + &quot;)&quot;);
+			throw new TopicInitException(errmsg + &quot;(class not found: &quot; +
+				e.getMessage() + &quot;)&quot;, e);
 		} catch (Exception e) {
-			throw new TopicInitException(errmsg + &quot;(&quot; + e + &quot;)&quot;);
+			throw new TopicInitException(errmsg + &quot;(&quot; + e + &quot;)&quot;, e);
 		}
 	}
 
 	/**
-	 * @return a new instance of CorporateLDAPSource
+	 * @return	a new instance of CorporateLDAPSource
 	 */
 	private CorporateDatasource createLDAPSource(String url, String errmsg)
-			throws TopicInitException {
+														throws TopicInitException {
 		try {
 			return new CorporateLDAPSource(url);
 		} catch (Throwable e) {
@@ -286,62 +283,53 @@
 	}
 
 	/**
-	 * @see #propertiesChanged
+	 * @see		#propertiesChanged
 	 */
 	private boolean reinitializeDataconsumer(LiveTopic consumer,
-			CorporateDirectives directives, Session session) {
+								CorporateDirectives directives, Session session) {
 		try {
-			if (consumer instanceof DataConsumerTopic
-					|| consumer instanceof ElementContainerTopic) {
+			if (consumer instanceof DataConsumerTopic ||
+				consumer instanceof ElementContainerTopic) {
 				// reinitialize DataConsumerTopic
 				consumer.init(INITLEVEL_2, session);
 				return true;
 			} else {
-				String text = &quot;\&quot;&quot;
-						+ consumer.getName()
-						+ &quot;\&quot; is neither a &quot;
-						+ &quot;DataConsumerTopic nor a ElementContainerTopic, but a &quot;
-						+ consumer.getClass()
-						+ &quot; -- datasource not reinitialized&quot;;
-				System.out
-						.println(&quot;*** DataSourceTopic.reinitializeDataconsumer(): &quot;
-								+ text);
-				directives.add(DIRECTIVE_SHOW_MESSAGE, text, new Integer(
-						NOTIFICATION_WARNING));
+				String text = &quot;\&quot;&quot; + consumer.getName() + &quot;\&quot; is neither a &quot; +
+					&quot;DataConsumerTopic nor a ElementContainerTopic, but a &quot; +
+					consumer.getClass() + &quot; -- datasource not reinitialized&quot;;
+				System.out.println(&quot;*** DataSourceTopic.reinitializeDataconsumer(): &quot; +
+					text);
+				directives.add(DIRECTIVE_SHOW_MESSAGE, text,
+					new Integer(NOTIFICATION_WARNING));
 			}
 		} catch (DeepaMehtaException e) {
-			System.out
-					.println(&quot;*** DataSourceTopic.reinitializeDataconsumer(): &quot;
-							+ e.getMessage()
-							+ &quot; -- datasource of dataconsumer not &quot;
-							+ &quot;properly reinitialized&quot;);
-			directives.add(DIRECTIVE_SHOW_MESSAGE, e.getMessage(), new Integer(
-					NOTIFICATION_ERROR));
+			System.out.println(&quot;*** DataSourceTopic.reinitializeDataconsumer(): &quot; +
+				e.getMessage() + &quot; -- datasource of dataconsumer not &quot; +
+				&quot;properly reinitialized&quot;);
+			directives.add(DIRECTIVE_SHOW_MESSAGE, e.getMessage(),
+				new Integer(NOTIFICATION_ERROR));
 		} catch (TopicInitException e) {
-			System.out
-					.println(&quot;*** DataSourceTopic.reinitializeDataconsumer(): &quot;
-							+ e.getMessage()
-							+ &quot; -- datasource of dataconsumer not &quot;
-							+ &quot;properly reinitialized&quot;);
-			directives.add(DIRECTIVE_SHOW_MESSAGE, e.getMessage(), new Integer(
-					NOTIFICATION_ERROR));
+			System.out.println(&quot;*** DataSourceTopic.reinitializeDataconsumer(): &quot; +
+				e.getMessage() + &quot; -- datasource of dataconsumer not &quot; +
+				&quot;properly reinitialized&quot;);
+			directives.add(DIRECTIVE_SHOW_MESSAGE, e.getMessage(),
+				new Integer(NOTIFICATION_ERROR));
 		}
 		return false;
 	}
 
 	/**
-	 * @see #openCorporateDatasource
+	 * @see		#openCorporateDatasource
 	 */
 	private void startIdleThread() {
 		// error check
 		if (idleElement.equals(&quot;&quot;)) {
-			System.out
-					.println(&quot;*** \&quot;Idle Elementtype\&quot; not set for datasource \&quot;&quot;
-							+ getName() + &quot;\&quot;&quot;);
+			System.out.println(&quot;*** \&quot;Idle Elementtype\&quot; not set for datasource \&quot;&quot; +
+				getName() + &quot;\&quot;&quot;);
 		}
 		//
 		if (idleThread == null) {
-			// ### System.out.print(&quot;&gt; starting idle thread ... &quot;);
+			// ### System.out.print(&quot;&gt;    starting idle thread ... &quot;);
 			//
 			idleThread = new Thread(this);
 			idleThread.start();

Modified: trunk/develop/src/de/deepamehta/topics/ElementContainerTopic.java
===================================================================
--- trunk/develop/src/de/deepamehta/topics/ElementContainerTopic.java	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/develop/src/de/deepamehta/topics/ElementContainerTopic.java	2007-09-21 15:00:46 UTC (rev 220)
@@ -343,7 +343,7 @@
 		} catch (Exception e) {
 			e.printStackTrace();
 			throw new DeepaMehtaException(&quot;*** ElementContainerTopic.revealTopic(): &quot; +
-				&quot;topic \&quot;&quot; + id + &quot;\&quot; not revealed (&quot; + e + &quot;)&quot;,e);
+				&quot;topic \&quot;&quot; + id + &quot;\&quot; not revealed (&quot; + e + &quot;)&quot;, e);
 		}
 	}
 

Modified: trunk/develop/src/de/deepamehta/topics/personalweb/PersonalWeb.java
===================================================================
--- trunk/develop/src/de/deepamehta/topics/personalweb/PersonalWeb.java	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/develop/src/de/deepamehta/topics/personalweb/PersonalWeb.java	2007-09-21 15:00:46 UTC (rev 220)
@@ -392,7 +392,9 @@
 				encoded.append(&quot;%20&quot;);
 			} else if (ch == '?') {
 				encoded.append(&quot;%3F&quot;);
-			} else if (ch == '&#196;') {
+			} else if (ch == '&#195;&#132;') {
+				// ### why ist there a test for &#195;&#132; but none for &#195;&#150;&#195;&#156;&#195;&#164;&#195;&#182;&#195;&#188;&#195;&#159;
+				// should test for any char &gt; 127 and convert to HEX
 				encoded.append(&quot;%C4&quot;);
 			} else {
 				encoded.append(ch);

Modified: trunk/develop/src/de/deepamehta/topics/personalweb/SynchronizedQueue.java
===================================================================
--- trunk/develop/src/de/deepamehta/topics/personalweb/SynchronizedQueue.java	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/develop/src/de/deepamehta/topics/personalweb/SynchronizedQueue.java	2007-09-21 15:00:46 UTC (rev 220)
@@ -1,5 +1,5 @@
 // PersonalWeb
-// by J&#154;rg Richter
+// by J&#195;&#182;rg Richter
 // <A HREF="https://lists.berlios.de/mailman/listinfo/deepamehta-svn">jri at prz.tu-berlin.de</A>
 // 
 // 1.0b1	7.10.96		First release


Property changes on: trunk/install/client
___________________________________________________________________
Name: svn:ignore
   + db
DeepaMehta.jar
DeepaMehtaClient.jar



Property changes on: trunk/install/config
___________________________________________________________________
Name: svn:ignore
   - config-*.properties

   + config-*.properties
config.properties


Modified: trunk/install/config/dm.properties
===================================================================
--- trunk/install/config/dm.properties	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/install/config/dm.properties	2007-09-21 15:00:46 UTC (rev 220)
@@ -9,5 +9,7 @@
 client				=../client
 libpath				=../../libs
 
+dm.config.property-file	=${config}/config.properties
 dm.instance.property-file	=${config}/dm-${dm.instance}.properties
+dm.instance.config-property-file=${config}/config-${dm.instance}.properties
 db.type.property-file		=${config}/db-${db.type}.properties

Copied: trunk/install/db/db-specific/asksyspass.xml (from rev 219, branches/eschnepel/install/db/db-specific/asksyspass.xml)

Modified: trunk/install/db/db-specific/createdb-CONNECT.xml
===================================================================
--- trunk/install/db/db-specific/createdb-CONNECT.xml	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/install/db/db-specific/createdb-CONNECT.xml	2007-09-21 15:00:46 UTC (rev 220)
@@ -1,6 +1,6 @@
 &lt;project name=&quot;DeepaMehta-db-createdb-CONNECT&quot; &gt;
 	&lt;import file=&quot;createdb-ask.xml&quot;/&gt;
-	&lt;target name=&quot;-createdb&quot; depends=&quot;-askcreatedb&quot; unless=&quot;do.abort&quot;&gt;
+	&lt;target name=&quot;-createdb&quot; depends=&quot;-askcreatedb&quot; unless=&quot;do.createdb.abort&quot;&gt;
 		&lt;sql driver=&quot;${db.driver}&quot; url=&quot;${db.sysurl}&quot; userid=&quot;${db.sysuser}&quot; password=&quot;${db.syspass}&quot; classpathref=&quot;javalibs&quot;&gt;
 			&lt;fileset dir=&quot;${db}&quot;&gt;
 				&lt;include name=&quot;EMPTY.sql&quot;/&gt;

Modified: trunk/install/db/db-specific/createdb-EMPTY.xml
===================================================================
--- trunk/install/db/db-specific/createdb-EMPTY.xml	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/install/db/db-specific/createdb-EMPTY.xml	2007-09-21 15:00:46 UTC (rev 220)
@@ -1,6 +1,6 @@
 &lt;project name=&quot;DeepaMehta-db-createdb-EMPTY&quot; &gt;
 	&lt;import file=&quot;createdb-ask.xml&quot;/&gt;
-	&lt;target name=&quot;-createdb&quot; depends=&quot;-askcreatedb&quot; unless=&quot;do.abort&quot;&gt;
+	&lt;target name=&quot;-createdb&quot; depends=&quot;-askcreatedb&quot; unless=&quot;do.createdb.abort&quot;&gt;
 		&lt;echo message=&quot;There is nothing to do to create a db for this type database&quot;/&gt;
 	&lt;/target&gt;
 &lt;/project&gt;

Modified: trunk/install/db/db-specific/createdb-ask.xml
===================================================================
--- trunk/install/db/db-specific/createdb-ask.xml	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/install/db/db-specific/createdb-ask.xml	2007-09-21 15:00:46 UTC (rev 220)
@@ -1,4 +1,4 @@
-&lt;project name=&quot;DeepaMehta-db-createdb-hsqldb&quot;&gt;
+&lt;project name=&quot;DeepaMehta-db-createdb-ask&quot;&gt;
 	&lt;target name=&quot;-askcreatedb&quot;&gt;
 		&lt;echo&gt;
 --- DeepaMehta Installation ---
@@ -14,9 +14,11 @@
     for the creation process:
         -Ddb.sysuser=... -Ddb.syspassword=...
 		&lt;/echo&gt;
-		&lt;input message=&quot;Continue? &quot; validargs=&quot;y,n&quot; addproperty=&quot;do.drop&quot; /&gt;
-		&lt;condition property=&quot;do.abort&quot;&gt;
-			&lt;equals arg1=&quot;${do.drop}&quot; arg2=&quot;n&quot; /&gt;
+		&lt;var name=&quot;input.createdb&quot; unset=&quot;true&quot; /&gt;
+		&lt;input message=&quot;Continue? &quot; validargs=&quot;y,n&quot; addproperty=&quot;input.createdb&quot; defaultvalue=&quot;y&quot; /&gt;
+		&lt;var name=&quot;do.db.abort&quot; unset=&quot;true&quot;/&gt;
+		&lt;condition property=&quot;do.db.abort&quot; value=&quot;true&quot;&gt;
+			&lt;equals arg1=&quot;${input.createdb}&quot; arg2=&quot;n&quot; /&gt;
 		&lt;/condition&gt;
 	&lt;/target&gt;
 &lt;/project&gt;

Modified: trunk/install/db/db-specific/createdb-sql92.xml
===================================================================
--- trunk/install/db/db-specific/createdb-sql92.xml	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/install/db/db-specific/createdb-sql92.xml	2007-09-21 15:00:46 UTC (rev 220)
@@ -1,8 +1,15 @@
 &lt;project name=&quot;DeepaMehta-db-createdb-sql92&quot; &gt;
 	&lt;import file=&quot;createdb-ask.xml&quot;/&gt;
-	&lt;target name=&quot;-createdb&quot; depends=&quot;-askcreatedb&quot; unless=&quot;do.abort&quot;&gt;
+	&lt;import file=&quot;asksyspass.xml&quot;/&gt;
+	&lt;target name=&quot;-createdb&quot; depends=&quot;-askcreatedb,-asksyspass&quot; unless=&quot;do.db.abort&quot;&gt;
+		&lt;path id=&quot;dblibs&quot;&gt;
+			&lt;fileset dir=&quot;${dm.base-dir}&quot;&gt;
+				&lt;include name=&quot;${db.libs}&quot; /&gt;
+			&lt;/fileset&gt;
+		&lt;/path&gt;
+		&lt;var name=&quot;db.syspass&quot; value=&quot;${return.syspass}&quot;/&gt;
 		&lt;echo&gt;Creating Database ${db.name} for user ${db.user} with password ${db.password} ...&lt;/echo&gt;
-		&lt;sql driver=&quot;${db.driver}&quot; url=&quot;${db.sysurl}&quot; userid=&quot;${db.sysuser}&quot; password=&quot;${db.syspass}&quot; classpathref=&quot;javalibs&quot;&gt;
+		&lt;sql driver=&quot;${db.driver}&quot; url=&quot;${db.sysurl}&quot; userid=&quot;${db.sysuser}&quot; password=&quot;${db.syspass}&quot; classpathref=&quot;dblibs&quot;&gt;
 			CREATE DATABASE ${db.name};
 			GRANT ALL PRIVILEGES ON ${db.name}.* TO ${db.user}@localhost IDENTIFIED BY '${db.password}' WITH GRANT OPTION;
 			GRANT ALL PRIVILEGES ON ${db.name}.* TO ${db.user}@&quot;%&quot;       IDENTIFIED BY '${db.password}' WITH GRANT OPTION;

Modified: trunk/install/db/db-specific/db_tables_derby.sql
===================================================================
--- trunk/install/db/db-specific/db_tables_derby.sql	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/install/db/db-specific/db_tables_derby.sql	2007-09-21 15:00:46 UTC (rev 220)
@@ -67,8 +67,8 @@
     PropName VARCHAR(255) NOT NULL,
     PropValue VARCHAR(4096)
 );
-CREATE INDEX IDX_TopicProp ON TopicProp (
-    TopicID, TopicVersion, PropName
+ALTER TABLE TopicProp ADD PRIMARY KEY (
+	TopicID, TopicVersion, PropName
 );
 
 CREATE TABLE AssociationProp (
@@ -77,8 +77,8 @@
     PropName VARCHAR(255) NOT NULL,
     PropValue VARCHAR(4096)
 );
-CREATE INDEX IDX_AssociationProp ON AssociationProp (
-    AssociationID, AssociationVersion, PropName
+ALTER TABLE AssociationProp ADD PRIMARY KEY (
+	AssociationID, AssociationVersion, PropName
 );
 
 CREATE TABLE KeyGenerator (

Modified: trunk/install/db/db-specific/db_tables_hsqldb.sql
===================================================================
--- trunk/install/db/db-specific/db_tables_hsqldb.sql	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/install/db/db-specific/db_tables_hsqldb.sql	2007-09-21 15:00:46 UTC (rev 220)
@@ -69,8 +69,8 @@
     PropName CHAR(255) NOT NULL,
     PropValue VARCHAR_IGNORECASE
 );
-CREATE INDEX IDX_TopicProp ON TopicProp (
-    TopicID, TopicVersion, PropName
+ALTER TABLE TopicProp ADD PRIMARY KEY (
+	TopicID , TopicVersion , PropName
 );
 
 CREATE CACHED TABLE AssociationProp (
@@ -79,8 +79,8 @@
     PropName CHAR(255) NOT NULL,
     PropValue VARCHAR_IGNORECASE
 );
-CREATE INDEX IDX_AssociationProp ON AssociationProp (
-    AssociationID, AssociationVersion, PropName
+ALTER TABLE AssociationProp ADD PRIMARY KEY (
+	AssociationID, AssociationVersion, PropName
 );
 
 CREATE TABLE KeyGenerator (

Modified: trunk/install/db/db-specific/db_tables_mysql.sql
===================================================================
--- trunk/install/db/db-specific/db_tables_mysql.sql	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/install/db/db-specific/db_tables_mysql.sql	2007-09-21 15:00:46 UTC (rev 220)
@@ -51,7 +51,7 @@
     TopicVersion INT NOT NULL,
     PropName CHAR(255) CHARACTER SET utf8 COLLATE utf8_bin NOT NULL,
     PropValue MEDIUMTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
-    INDEX (TopicID, TopicVersion, PropName)
+    PRIMARY KEY (TopicID, TopicVersion, PropName)
 );
 
 CREATE TABLE AssociationProp (
@@ -59,7 +59,7 @@
     AssociationVersion INT NOT NULL,
     PropName CHAR(255) CHARACTER SET utf8 COLLATE utf8_bin NOT NULL,
     PropValue MEDIUMTEXT CHARACTER SET utf8 COLLATE utf8_general_ci,
-    INDEX (AssociationID, AssociationVersion, PropName)
+    PRIMARY KEY (AssociationID, AssociationVersion, PropName)
 );
 
 CREATE TABLE KeyGenerator (

Modified: trunk/install/db/db-specific/db_tables_oracle.sql
===================================================================
--- trunk/install/db/db-specific/db_tables_oracle.sql	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/install/db/db-specific/db_tables_oracle.sql	2007-09-21 15:00:46 UTC (rev 220)
@@ -60,7 +60,9 @@
     propname    VARCHAR2(255) NOT NULL,
     propvalue   VARCHAR2(4000)
 );
-CREATE INDEX i_topicprop ON topicprop (topicid, topicversion, propname);
+ALTER TABLE TopicProp ADD PRIMARY KEY (
+	TopicID, TopicVersion, PropName
+);
 
 -- ----------------------------------------------------------------------------
 
@@ -70,7 +72,9 @@
     propname          VARCHAR2(255) NOT NULL,
     propvalue         VARCHAR2(4000)
 );
-CREATE INDEX i_associationprop ON associationprop (associationid, associationversion, propname);
+ALTER TABLE AssociationProp ADD PRIMARY KEY (
+	AssociationID, AssociationVersion, PropName
+);
     
 -- ----------------------------------------------------------------------------
 

Modified: trunk/install/db/db-specific/dropdb-ask.xml
===================================================================
--- trunk/install/db/db-specific/dropdb-ask.xml	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/install/db/db-specific/dropdb-ask.xml	2007-09-21 15:00:46 UTC (rev 220)
@@ -6,7 +6,8 @@
 or use command line options -Ddb.name=... -Ddb.userid=...
 		&lt;/echo&gt;
 		&lt;input message=&quot;Continue? &quot; validargs=&quot;y,n&quot; addproperty=&quot;do.drop&quot; /&gt;
-		&lt;condition property=&quot;do.abort&quot;&gt;
+		&lt;var name=&quot;do.db.abort&quot; unset=&quot;true&quot;/&gt;
+		&lt;condition property=&quot;do.db.abort&quot; value=&quot;true&quot;&gt;
 			&lt;equals arg1=&quot;${do.drop}&quot; arg2=&quot;n&quot; /&gt;
 		&lt;/condition&gt;
 	&lt;/target&gt;

Modified: trunk/install/db/db-specific/dropdb-sql92.xml
===================================================================
--- trunk/install/db/db-specific/dropdb-sql92.xml	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/install/db/db-specific/dropdb-sql92.xml	2007-09-21 15:00:46 UTC (rev 220)
@@ -1,7 +1,14 @@
 &lt;project name=&quot;DeepaMehta-db-dropdb-sql92&quot; &gt;
 	&lt;import file=&quot;dropdb-ask.xml&quot;/&gt;
-	&lt;target name=&quot;-dropdb&quot; depends=&quot;-askdropdb&quot; unless=&quot;do.abort&quot;&gt;
-		&lt;sql driver=&quot;${db.driver}&quot; url=&quot;${db.sysurl}&quot; userid=&quot;${db.sysuser}&quot; password=&quot;${db.syspass}&quot; classpathref=&quot;javalibs&quot;&gt;
+	&lt;import file=&quot;asksyspass.xml&quot;/&gt;
+	&lt;target name=&quot;-dropdb&quot; depends=&quot;-askdropdb,-asksyspass&quot; unless=&quot;do.db.abort&quot;&gt;
+		&lt;path id=&quot;dblibs&quot;&gt;
+			&lt;fileset dir=&quot;${dm.base-dir}&quot;&gt;
+				&lt;include name=&quot;${db.libs}&quot; /&gt;
+			&lt;/fileset&gt;
+		&lt;/path&gt;
+		&lt;var name=&quot;db.syspass&quot; value=&quot;${return.syspass}&quot;/&gt;
+		&lt;sql driver=&quot;${db.driver}&quot; url=&quot;${db.sysurl}&quot; userid=&quot;${db.sysuser}&quot; password=&quot;${db.syspass}&quot; classpathref=&quot;dblibs&quot;&gt;
 			DROP DATABASE ${db.name};
 			DELETE FROM user where User='${db.user}';
 			DELETE FROM db where Db='${db.name}';

Copied: trunk/install/db/db-specific/list-db-hsqldb.xml (from rev 219, branches/eschnepel/install/db/db-specific/list-db-hsqldb.xml)

Copied: trunk/install/db/db-specific/list-db-mysql.xml (from rev 219, branches/eschnepel/install/db/db-specific/list-db-mysql.xml)

Modified: trunk/install/db/patches/cm-2.17.sql
===================================================================
--- trunk/install/db/patches/cm-2.17.sql	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/install/db/patches/cm-2.17.sql	2007-09-21 15:00:46 UTC (rev 220)
@@ -155,20 +155,60 @@
 DELETE FROM AssociationProp WHERE AssociationID='a-325';
 DELETE FROM ViewAssociation WHERE AssociationID='a-325';
 
--- fixing a Typo in whois.sql
+--- fixing some Typos in whois.sql
 UPDATE Association SET TopicID1='tt-whoistopic' WHERE TopicID1='tt-whoisTopic';
+delete from TopicProp where topicid='tt-whois6';
+INSERT INTO TopicProp VALUES ('tt-whois6', 1, 'Server', 'whois.nic.as');
+INSERT INTO TopicProp VALUES ('tt-whois6', 1, 'Domains', 'as');
+INSERT INTO TopicProp VALUES ('tt-whois18', 1, 'Server', 'whois.nic.fr');
+INSERT INTO TopicProp VALUES ('tt-whois18', 1, 'Domains', 'fr');
 
 
+
+--- *** UPDATE DATA DEFINITION *** ---
+ALTER TABLE				TopicProp
+     CHANGE				PropName PropName CHAR(255) NOT NULL
+     DROP	INDEX		TopicID,
+     ADD	PRIMARY KEY ( TopicID, TopicVersion, PropName )
+;
+ALTER TABLE				AssociationProp
+     CHANGE				PropName PropName CHAR(255) NOT NULL
+     DROP	INDEX		AssociationID,
+     ADD	PRIMARY KEY ( AssociationID, AssociationVersion, PropName )
+;
+
 ---
 --- Update standard installation
 ---
-UPDATE TopicProp SET PropValue='DeepaMehta 2.0b8'         WHERE TopicID='t-deepamehtainstallation' AND PropName='Client Name';
-UPDATE TopicProp SET PropValue='DeepaMehtaServer 2.0b8'   WHERE TopicID='t-deepamehtainstallation' AND PropName='Server Name';
 DELETE FROM TopicProp                                     WHERE TopicID='t-deepamehtainstallation' AND PropName='Corporate Icon';
 INSERT INTO TopicProp VALUES ('t-deepamehtainstallation', 1, 'Customer Icon', 'deepamehta-logo-tiny.png');
 
+--- Version Change
+UPDATE TopicProp SET PropValue='DeepaMehta 2.0b8'         WHERE TopicID='t-deepamehtainstallation' AND PropName='Client Name';
+UPDATE TopicProp SET PropValue='DeepaMehtaServer 2.0b8'   WHERE TopicID='t-deepamehtainstallation' AND PropName='Server Name';
 
+---
+--- Update DB content version
+---
+UPDATE KeyGenerator SET NextKey=17 WHERE Relation='DB-Content Version';
 
---- *** UPDATE DATA DEFINITION *** ---
-ALTER TABLE       TopicProp CHANGE PropName PropName CHAR(255) NOT NULL;
-ALTER TABLE AssociationProp CHANGE PropName PropName CHAR(255) NOT NULL;
+
+
+
+SELECT *
+FROM TopicProp
+JOIN (
+	SELECT TopicID, TopicVersion, PropName
+	FROM TopicProp GROUP BY TopicID, TopicVersion, PropName
+	HAVING COUNT( * ) &gt; 1 ) tp
+USING ( TopicID, TopicVersion, PropName );
+
+SELECT *
+FROM AssociationProp
+JOIN (
+	SELECT AssociationID, AssociationVersion, PropName
+	FROM AssociationProp GROUP BY AssociationID, AssociationVersion, PropName
+	HAVING COUNT( * ) &gt; 1 ) ap
+USING ( AssociationID, AssociationVersion, PropName );
+
+

Modified: trunk/install/db/whois.sql
===================================================================
--- trunk/install/db/whois.sql	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/install/db/whois.sql	2007-09-21 15:00:46 UTC (rev 220)
@@ -115,8 +115,8 @@
 
 INSERT INTO Topic VALUES
  ('tt-whoistopic', 1, 1, 'tt-whois18','Whois Server 18');
-INSERT INTO TopicProp VALUES ('tt-whois6', 1, 'Server', 'whois.nic.fr');
-INSERT INTO TopicProp VALUES ('tt-whois6', 1, 'Domains', 'fr');
+INSERT INTO TopicProp VALUES ('tt-whois18', 1, 'Server', 'whois.nic.fr');
+INSERT INTO TopicProp VALUES ('tt-whois18', 1, 'Domains', 'fr');
 
 INSERT INTO Topic VALUES
  ('tt-whoistopic', 1, 1, 'tt-whois19','Whois Server 19');


Property changes on: trunk/install/examples/dm-browser
___________________________________________________________________
Name: svn:ignore
   - build
dm-browser.war

   + build
dm-browser.war
config.properties



Property changes on: trunk/install/examples/dm-search
___________________________________________________________________
Name: svn:ignore
   - build
dm-search.war

   + build
dm-search.war
config.properties


Modified: trunk/install/examples/dm-search/build.xml
===================================================================
--- trunk/install/examples/dm-search/build.xml	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/install/examples/dm-search/build.xml	2007-09-21 15:00:46 UTC (rev 220)
@@ -51,5 +51,4 @@
 		&lt;delete dir=&quot;${build}&quot;/&gt;
 	&lt;/target&gt;
 
-	&lt;target name=&quot;install&quot;/&gt;
 &lt;/project&gt;


Property changes on: trunk/install/examples/dm-topicmapviewer
___________________________________________________________________
Name: svn:ignore
   - build
dm-topicmapviewer.war

   + build
dm-topicmapviewer.war
config.properties



Property changes on: trunk/install/examples/dm-web
___________________________________________________________________
Name: svn:ignore
   - build
dm-web.war

   + build
dm-web.war
config.properties



Property changes on: trunk/install/examples/knoppixforum
___________________________________________________________________
Name: svn:ignore
   - knoppixforum.war

   + knoppixforum.war
config.properties


Modified: trunk/install/examples/knoppixforum/build.xml
===================================================================
--- trunk/install/examples/knoppixforum/build.xml	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/install/examples/knoppixforum/build.xml	2007-09-21 15:00:46 UTC (rev 220)
@@ -28,4 +28,8 @@
 	&lt;target name=&quot;deploy&quot; if=&quot;do.web.deploy&quot;&gt;
         &lt;copy file=&quot;${war}&quot; todir=&quot;${web.deploy.dir}&quot;/&gt;
 	&lt;/target&gt;
+	
+	&lt;target name=&quot;cleanup&quot;&gt;
+		&lt;delete file=&quot;${war}&quot;/&gt;
+	&lt;/target&gt;
 &lt;/project&gt;


Property changes on: trunk/install/examples/kompetenzstern
___________________________________________________________________
Name: svn:ignore
   - kompetenzstern.jar
kompetenzstern.war
build

   + kompetenzstern.jar
kompetenzstern.war
build
config.properties


Modified: trunk/install/examples/kompetenzstern/src/de/deepamehta/kompetenzstern/topics/KompetenzsternTopic.java
===================================================================
--- trunk/install/examples/kompetenzstern/src/de/deepamehta/kompetenzstern/topics/KompetenzsternTopic.java	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/install/examples/kompetenzstern/src/de/deepamehta/kompetenzstern/topics/KompetenzsternTopic.java	2007-09-21 15:00:46 UTC (rev 220)
@@ -480,7 +480,8 @@
 
 
 
-	/**
+	/* ### 
+	/ **
 	 * Adds a &quot;Reihenfolge festlegen&quot;/&quot;Reihenfolge &#195;&#164;ndern&quot; command to the specified
 	 * (topic) command set.
 	 * &lt;P&gt;
@@ -488,8 +489,8 @@
 	 *
 	 * @see		KriteriumTopic#contextCommands
 	 * @see		BewertungsebeneTopic#contextCommands
-	 */
-	/* ### static void addSetOrderCommand(BaseTopic topic, CorporateCommands commands,
+	 * /
+	static void addSetOrderCommand(BaseTopic topic, CorporateCommands commands,
 								CorporateDirectives directives, ApplicationService as) {
 		try {
 			BaseAssociation assoc = as.getAssociation(topic.getID(),
@@ -575,10 +576,10 @@
 	}
 
 	// ### see KriteriumTopic
-	// ### public String getSubkriteriumTypeID() {
-	// ### return kriteriumTypeID;
-	// ### return TOPICTYPE_BEWERTUNGS_KRITERIUM;
-	// ### }
+	// public String getSubkriteriumTypeID() {
+	//     return kriteriumTypeID;
+	//     return TOPICTYPE_BEWERTUNGS_KRITERIUM;
+	// }
 
 	// ---
 


Property changes on: trunk/install/examples/ldap
___________________________________________________________________
Name: svn:ignore
   - build
LDAPTopics.jar

   + build
LDAPTopics.jar
config.properties



Property changes on: trunk/install/examples/messageboard
___________________________________________________________________
Name: svn:ignore
   - messageboard.jar
messageboard.war
build

   + messageboard.jar
messageboard.war
build
config.properties



Property changes on: trunk/install/examples/movies
___________________________________________________________________
Name: svn:ignore
   - MoviesTopics.jar
build

   + MoviesTopics.jar
build
config.properties


Modified: trunk/install/examples/movies/build.xml
===================================================================
--- trunk/install/examples/movies/build.xml	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/install/examples/movies/build.xml	2007-09-21 15:00:46 UTC (rev 220)
@@ -1,25 +1,64 @@
-&lt;project name=&quot;Movies&quot; default=&quot;jar&quot; basedir=&quot;.&quot;&gt;
+&lt;project name=&quot;Movies&quot; default=&quot;build&quot; basedir=&quot;.&quot;&gt;
 
 	&lt;description&gt;
 		Movies
 	&lt;/description&gt;
 
+	&lt;if&gt;
+		&lt;not&gt;
+			&lt;istrue value=&quot;${do.dmdb.abort}&quot; /&gt;
+		&lt;/not&gt;
+		&lt;then&gt;
+			&lt;var name=&quot;do.dmdb.abort&quot; unset=&quot;true&quot; /&gt;
+		&lt;/then&gt;
+	&lt;/if&gt;
+
 	&lt;property name=&quot;jar&quot; value=&quot;MoviesTopics.jar&quot; /&gt;
 	&lt;property name=&quot;build&quot; location=&quot;build&quot; /&gt;
 	&lt;property name=&quot;dm.base-dir&quot; location=&quot;../../..&quot; /&gt;
 
+	&lt;property file=&quot;config.properties&quot; /&gt;
 	&lt;import file=&quot;${dm.base-dir}/config.xml&quot; /&gt;
-	&lt;property file=&quot;config/movies-${dm.instance}.properties&quot; /&gt;
 
+	&lt;condition property=&quot;movies.dm.instance&quot; value=&quot;${dm.instance}&quot;&gt;
+		&lt;not&gt;
+			&lt;isset property=&quot;movies.dm.instance&quot; /&gt;
+		&lt;/not&gt;
+	&lt;/condition&gt;
+	&lt;property name=&quot;movies.instance.config-property-file&quot; value=&quot;config/config-${movies.dm.instance}.properties&quot; /&gt;
+	&lt;property name=&quot;movies.instance.property-file&quot; value=&quot;config/movies-${movies.dm.instance}.properties&quot; /&gt;
+	&lt;property file=&quot;${movies.instance.config-property-file}&quot; /&gt;
+	&lt;property file=&quot;${movies.instance.property-file}&quot; /&gt;
+	&lt;property file=&quot;${config}/build-${movies.dm.instance}.properties&quot; prefix=&quot;movies&quot; /&gt;
+	&lt;property file=&quot;${config}/db-${movies.db.type}.properties&quot; prefix=&quot;movies&quot; /&gt;
+
+	&lt;condition property=&quot;do.movies.config.db.host&quot; value=&quot;true&quot;&gt;
+		&lt;istrue value=&quot;${movies.config.db.host}&quot; /&gt;
+	&lt;/condition&gt;
+	&lt;condition property=&quot;do.movies.config.db.name&quot; value=&quot;true&quot;&gt;
+		&lt;istrue value=&quot;${movies.config.db.name}&quot; /&gt;
+	&lt;/condition&gt;
+	&lt;condition property=&quot;do.movies.config.db.user&quot; value=&quot;true&quot;&gt;
+		&lt;istrue value=&quot;${movies.config.db.user}&quot; /&gt;
+	&lt;/condition&gt;
+
+	&lt;import file=&quot;${dm.base-dir}/setup.xml&quot; /&gt;
+
+	&lt;path id=&quot;movies.dblibs&quot;&gt;
+		&lt;fileset dir=&quot;${dm.base-dir}&quot;&gt;
+			&lt;include name=&quot;${movies.db.libs}&quot; /&gt;
+		&lt;/fileset&gt;
+	&lt;/path&gt;
+
 	&lt;condition property=&quot;db.syspass&quot; value=&quot;${syspass}&quot;&gt;
 		&lt;istrue value=&quot;${withsyspass}&quot; /&gt;
 	&lt;/condition&gt;
 
-	&lt;target name=&quot;init&quot; description=&quot;create build directory&quot;&gt;
+	&lt;target name=&quot;-init&quot; description=&quot;create build directory&quot;&gt;
 		&lt;mkdir dir=&quot;${build}&quot; /&gt;
 	&lt;/target&gt;
 
-	&lt;target name=&quot;compile&quot; depends=&quot;init&quot;&gt;
+	&lt;target name=&quot;-compile&quot; depends=&quot;-init&quot;&gt;
 		&lt;javac srcdir=&quot;src&quot; destdir=&quot;${build}&quot; debug=&quot;on&quot; listfiles=&quot;yes&quot;&gt;
 			&lt;classpath&gt;
 				&lt;pathelement location=&quot;${server}/DeepaMehtaService.jar&quot; /&gt;
@@ -28,25 +67,32 @@
 		&lt;/javac&gt;
 	&lt;/target&gt;
 
-	&lt;target name=&quot;jar&quot; depends=&quot;compile&quot;&gt;
+	&lt;target name=&quot;-jar&quot; depends=&quot;-compile&quot;&gt;
 		&lt;jar jarfile=&quot;${jar}&quot; basedir=&quot;${build}&quot;&gt;
 			&lt;include name=&quot;de/deepamehta/movies/topics/*.class&quot; /&gt;
 		&lt;/jar&gt;
 	&lt;/target&gt;
 
-	&lt;target name=&quot;build&quot; depends=&quot;jar&quot;/&gt;
-	
+	&lt;target name=&quot;build&quot; depends=&quot;-jar&quot; /&gt;
+
 	&lt;target name=&quot;cleanup&quot; description=&quot;remove build directory&quot;&gt;
 		&lt;delete dir=&quot;${build}&quot; /&gt;
 	&lt;/target&gt;
 
 	&lt;!-- example database &quot;Movies&quot; --&gt;
 
-	&lt;target name=&quot;install&quot; depends=&quot;initdb&quot; &gt;
-		&lt;sql driver=&quot;${db.driver}&quot; url=&quot;${db.url}&quot; userid=&quot;${db.user}&quot; password=&quot;${db.password}&quot; classpathref=&quot;javalibs&quot; autocommit=&quot;${db.autocommit}&quot;&gt;
-			&lt;fileset dir=&quot;${examples}&quot;&gt;
-				&lt;include name=&quot;movies/db/dmdb-movies.sql&quot; /&gt;
-				&lt;include name=&quot;movies/db/dmdb-movies-${dm.instance}.sql&quot; /&gt;
+	&lt;target name=&quot;uninstall&quot; depends=&quot;-dropmoviesdb&quot; /&gt;
+
+	&lt;target name=&quot;install&quot; depends=&quot;-initdb&quot;&gt;
+		&lt;!-- seperate call! --&gt;
+		&lt;ant target=&quot;-initmoviesdb&quot; /&gt;
+	&lt;/target&gt;
+
+	&lt;target name=&quot;-initdb&quot; unless=&quot;do.dmdb.abort&quot;&gt;
+		&lt;sql driver=&quot;${db.driver}&quot; url=&quot;${db.url}&quot; userid=&quot;${db.user}&quot; password=&quot;${db.password}&quot; classpathref=&quot;movies.dblibs&quot; autocommit=&quot;${db.autocommit}&quot;&gt;
+			&lt;fileset dir=&quot;.&quot;&gt;
+				&lt;include name=&quot;db/dmdb-movies.sql&quot; /&gt;
+				&lt;include name=&quot;db/dmdb-movies-${movies.dm.instance}.sql&quot; /&gt;
 			&lt;/fileset&gt;
 			&lt;fileset dir=&quot;${db-specific}&quot;&gt;
 				&lt;include name=&quot;${db.close-session}&quot; /&gt;
@@ -54,17 +100,22 @@
 		&lt;/sql&gt;
 	&lt;/target&gt;
 
-	&lt;target name=&quot;createmoviesdb&quot;&gt;
-		&lt;ant antfile=&quot;${movies.db.create-db}&quot; target=&quot;createdb&quot; inheritrefs=&quot;true&quot;&gt;
-			&lt;property name=&quot;db.sysurl&quot; value=&quot;${movies.db.sysurl}&quot; /&gt;
-			&lt;property name=&quot;db.name&quot; value=&quot;${movies.db.name}&quot; /&gt;
-			&lt;property name=&quot;db.user&quot; value=&quot;${movies.db.user}&quot; /&gt;
-			&lt;property name=&quot;db.password&quot; value=&quot;${movies.db.password}&quot; /&gt;
-		&lt;/ant&gt;
+	&lt;import file=&quot;${db-specific}/${movies.db.create-db}&quot; /&gt;
+
+	&lt;target name=&quot;-createmoviesdb&quot; depends=&quot;-testmoviessyspass&quot;&gt;
+		&lt;var name=&quot;db.libs&quot; value=&quot;${movies.db.libs}&quot; /&gt;
+		&lt;var name=&quot;db.driver&quot; value=&quot;${movies.db.driver}&quot; /&gt;
+		&lt;var name=&quot;db.sysurl&quot; value=&quot;${movies.db.sysurl}&quot; /&gt;
+		&lt;var name=&quot;db.sysuser&quot; value=&quot;${movies.db.sysuser}&quot; /&gt;
+		&lt;var name=&quot;db.name&quot; value=&quot;${movies.db.name}&quot; /&gt;
+		&lt;var name=&quot;db.user&quot; value=&quot;${movies.db.user}&quot; /&gt;
+		&lt;var name=&quot;db.password&quot; value=&quot;${movies.db.password}&quot; /&gt;
+		&lt;var name=&quot;db.close-session&quot; value=&quot;${movies.db.close-session}&quot; /&gt;
+		&lt;antcallback target=&quot;-createdb&quot; inheritrefs=&quot;true&quot; return=&quot;do.db.abort&quot; /&gt;
 	&lt;/target&gt;
 
-	&lt;target name=&quot;createtables&quot; depends=&quot;createmoviesdb&quot;&gt;
-		&lt;sql driver=&quot;${db.driver}&quot; url=&quot;${movies.db.url}&quot; userid=&quot;${movies.db.user}&quot; password=&quot;${movies.db.password}&quot; classpathref=&quot;javalibs&quot;&gt;
+	&lt;target name=&quot;-createmoviestables&quot; depends=&quot;-createmoviesdb&quot; unless=&quot;do.db.abort&quot;&gt;
+		&lt;sql driver=&quot;${movies.db.driver}&quot; url=&quot;${movies.db.url}&quot; userid=&quot;${movies.db.user}&quot; password=&quot;${movies.db.password}&quot; classpathref=&quot;movies.dblibs&quot; autocommit=&quot;${movies.db.autocommit}&quot;&gt;
 			&lt;fileset dir=&quot;.&quot;&gt;
 				&lt;include name=&quot;${movies.db.tables}&quot; /&gt;
 			&lt;/fileset&gt;
@@ -74,8 +125,8 @@
 		&lt;/sql&gt;
 	&lt;/target&gt;
 
-	&lt;target name=&quot;initdb&quot; depends=&quot;createtables&quot;&gt;
-		&lt;sql driver=&quot;${db.driver}&quot; url=&quot;${movies.db.url}&quot; userid=&quot;${movies.db.user}&quot; password=&quot;${movies.db.password}&quot; classpathref=&quot;javalibs&quot;&gt;
+	&lt;target name=&quot;-initmoviesdb&quot; depends=&quot;-createmoviestables&quot; unless=&quot;do.db.abort&quot;&gt;
+		&lt;sql driver=&quot;${movies.db.driver}&quot; url=&quot;${movies.db.url}&quot; userid=&quot;${movies.db.user}&quot; password=&quot;${movies.db.password}&quot; classpathref=&quot;javalibs&quot; autocommit=&quot;${movies.db.autocommit}&quot;&gt;
 			&lt;fileset dir=&quot;.&quot;&gt;
 				&lt;include name=&quot;${movies.db.content}&quot; /&gt;
 			&lt;/fileset&gt;
@@ -85,13 +136,73 @@
 		&lt;/sql&gt;
 	&lt;/target&gt;
 
-	&lt;target name=&quot;dropmoviesdb&quot; &gt;
-		&lt;ant antfile=&quot;${movies.db.drop-db}&quot; target=&quot;dropdb&quot; inheritrefs=&quot;true&quot;&gt;
+	&lt;target name=&quot;-testmoviessyspass&quot;&gt;
+		&lt;var name=&quot;withsyspass&quot; unset=&quot;true&quot; /&gt;
+		&lt;condition property=&quot;withsyspass&quot; value=&quot;true&quot;&gt;
+			&lt;isset property=&quot;movies.db.syspass&quot; /&gt;
+		&lt;/condition&gt;
+	&lt;/target&gt;
+
+	&lt;target name=&quot;-dropmoviesdb&quot; depends=&quot;-testmoviessyspass&quot;&gt;
+		&lt;ant antfile=&quot;${db-specific}/${movies.db.drop-db}&quot; target=&quot;-dropdb&quot; inheritrefs=&quot;true&quot;&gt;
+			&lt;property name=&quot;db.libs&quot; value=&quot;${movies.db.libs}&quot; /&gt;
+			&lt;property name=&quot;db.driver&quot; value=&quot;${movies.db.driver}&quot; /&gt;
 			&lt;property name=&quot;db.sysurl&quot; value=&quot;${movies.db.sysurl}&quot; /&gt;
+			&lt;property name=&quot;db.sysuser&quot; value=&quot;${movies.db.sysuser}&quot; /&gt;
 			&lt;property name=&quot;db.name&quot; value=&quot;${movies.db.name}&quot; /&gt;
 			&lt;property name=&quot;db.user&quot; value=&quot;${movies.db.user}&quot; /&gt;
 			&lt;property name=&quot;db.password&quot; value=&quot;${movies.db.password}&quot; /&gt;
+			&lt;property name=&quot;db.close-session&quot; value=&quot;${movies.db.close-session}&quot; /&gt;
+			&lt;property name=&quot;db.hsqldb.base-path&quot; value=&quot;${movies.db.hsqldb.base-path}&quot; /&gt;
 		&lt;/ant&gt;
 	&lt;/target&gt;
 
+	&lt;target name=&quot;config&quot; depends=&quot;-config-movies-instance&quot;&gt;
+	&lt;/target&gt;
+
+	&lt;target name=&quot;-config-which-movies-instance&quot; depends=&quot;-config-init&quot;&gt;
+		&lt;var name=&quot;path&quot; value=&quot;config&quot; /&gt;
+		&lt;var name=&quot;prefix&quot; value=&quot;movies&quot; /&gt;
+		&lt;var name=&quot;default&quot; value=&quot;${movies.dm.instance}&quot; /&gt;
+		&lt;antcallback target=&quot;-config-which-generic-instance&quot; return=&quot;return.instance&quot; /&gt;
+		&lt;var name=&quot;movies.dm.instance&quot; value=&quot;${return.instance}&quot; /&gt;
+		&lt;propertyfile file=&quot;${config}/config-${dm.instance}.properties&quot;&gt;
+			&lt;entry key=&quot;movies.dm.instance&quot; value=&quot;${movies.dm.instance}&quot; /&gt;
+		&lt;/propertyfile&gt;
+	&lt;/target&gt;
+
+	&lt;target name=&quot;-config-movies-instance-db.name&quot; if=&quot;do.movies.config.db.name&quot;&gt;
+		&lt;input message=&quot;Please enter the name of your database:&quot; addproperty=&quot;new.movies.db.name&quot; defaultvalue=&quot;${movies.db.name}&quot; /&gt;
+		&lt;propertyfile file=&quot;${movies.instance.config-property-file}&quot;&gt;
+			&lt;entry key=&quot;movies.db.name&quot; value=&quot;${new.movies.db.name}&quot; /&gt;
+		&lt;/propertyfile&gt;
+	&lt;/target&gt;
+
+	&lt;target name=&quot;-config-movies-instance-db.user&quot; if=&quot;do.movies.config.db.user&quot;&gt;
+		&lt;echo&gt;It is strongly advised to change the database user and password before creation!&lt;/echo&gt;
+		&lt;input message=&quot;Please enter the user to use:&quot; addproperty=&quot;new.movies.db.user&quot; defaultvalue=&quot;${movies.db.user}&quot; /&gt;
+		&lt;input message=&quot;Please enter the password to use:&quot; addproperty=&quot;new.movies.db.password&quot; defaultvalue=&quot;${movies.db.password}&quot; /&gt;
+		&lt;propertyfile file=&quot;${movies.instance.config-property-file}&quot;&gt;
+			&lt;entry key=&quot;movies.db.user&quot; value=&quot;${new.movies.db.user}&quot; /&gt;
+			&lt;entry key=&quot;movies.db.password&quot; value=&quot;${new.movies.db.password}&quot; /&gt;
+		&lt;/propertyfile&gt;
+	&lt;/target&gt;
+
+	&lt;target name=&quot;-config-movies-instance-db.host&quot; if=&quot;do.movies.config.db.host&quot;&gt;
+		&lt;input message=&quot;Please enter the host of your database:&quot; addproperty=&quot;new.movies.db.host&quot; defaultvalue=&quot;${movies.db.host}&quot; /&gt;
+		&lt;propertyfile file=&quot;${movies.instance.config-property-file}&quot;&gt;
+			&lt;entry key=&quot;movies.db.host&quot; value=&quot;${new.movies.db.host}&quot; /&gt;
+		&lt;/propertyfile&gt;
+	&lt;/target&gt;
+
+	&lt;target name=&quot;-config-movies-instance&quot; depends=&quot;-config-which-movies-instance&quot;&gt;
+		&lt;echo&gt;configuring now the Movies instance &quot;${movies.dm.instance}&quot;...&lt;/echo&gt;
+		&lt;ant target=&quot;-config-movies-instance2&quot; inheritall=&quot;false&quot; /&gt;
+	&lt;/target&gt;
+
+	&lt;target name=&quot;-config-movies-instance2&quot; depends=&quot;-config-movies-instance-db.host,-config-movies-instance-db.name,-config-movies-instance-db.user&quot;&gt;
+		&lt;echo&gt;completed configuring instance &quot;${movies.dm.instance}&quot;&lt;/echo&gt;
+		&lt;echo&gt;Instance-related settings are stored in &quot;${movies.instance.config-property-file}.&lt;/echo&gt;
+	&lt;/target&gt;
+
 &lt;/project&gt;


Property changes on: trunk/install/examples/movies/config
___________________________________________________________________
Name: svn:ignore
   + config-*.properties


Modified: trunk/install/examples/movies/config/movies-hsqldb-intern.properties
===================================================================
--- trunk/install/examples/movies/config/movies-hsqldb-intern.properties	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/install/examples/movies/config/movies-hsqldb-intern.properties	2007-09-21 15:00:46 UTC (rev 220)
@@ -1,14 +1,16 @@
-movies.db.name			=Movies
-movies.db.user			=sa
-movies.db.password		=
+movies.db.name				=Movies
+movies.db.user				=sa
+movies.db.password			=
 
-movies.db.hsqldb.path	=${db.hsqldb.base-path}/${movies.db.name}
-movies.db.url			=jdbc:hsqldb:${movies.db.hsqldb.path}
-movies.db.sysuser		=${movies.db.user}
-movies.db.syspass		=${movies.db.password}
-movies.db.sysurl		=${movies.db.url};create=true
+movies.db.type				=hsqldb
+movies.db.hsqldb.base-path	=${client}/db/${movies.dm.instance}
+movies.db.hsqldb.path		=${movies.db.hsqldb.base-path}/${movies.db.name}
+movies.db.url				=jdbc:hsqldb:${movies.db.hsqldb.path}
+movies.db.sysuser			=${movies.db.user}
+movies.db.syspass			=${movies.db.password}
+movies.db.sysurl			=${movies.db.url};create=true
 
-movies.db.tables		=db/db_tables_hsqldb.sql
-movies.db.content		=db/db_inserts.sql
-movies.db.create-db		=${db-specific}/createdb-EMPTY.xml
-movies.db.drop-db		=${db-specific}/dropdb-hsqldb.xml
+movies.db.tables			=db/db_tables_hsqldb.sql
+movies.db.content			=db/db_inserts.sql
+
+

Modified: trunk/install/examples/movies/config/movies-mysql.properties
===================================================================
--- trunk/install/examples/movies/config/movies-mysql.properties	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/install/examples/movies/config/movies-mysql.properties	2007-09-21 15:00:46 UTC (rev 220)
@@ -2,12 +2,13 @@
 movies.db.user		=movies
 movies.db.password	=movies
 
-movies.db.url		=jdbc:<A HREF="mysql://${db.host">mysql://${db.host</A>}/${movies.db.name}?useUnicode=true
+movies.db.host		=127.0.0.1
+movies.db.type		=mysql
+movies.db.url		=jdbc:<A HREF="mysql://${movies.db.host">mysql://${movies.db.host</A>}/${movies.db.name}?useUnicode=true
 
-movies.db.sysuser	=${db.sysuser}
-movies.db.sysurl	=${db.sysurl}
+movies.db.sysname	=mysql
+movies.db.sysuser	=root
+movies.db.sysurl	=jdbc:<A HREF="mysql://${movies.db.host">mysql://${movies.db.host</A>}/${movies.db.sysname}?useUnicode=true
 
 movies.db.tables	=db/db_tables_mysql.sql
 movies.db.content	=db/db_inserts.sql
-movies.db.create-db	=${db-specific}/createdb-sql92.xml
-movies.db.drop-db	=${db-specific}/dropdb-sql92.xml

Modified: trunk/install/examples/movies/db/dmdb-movies-mysql.sql
===================================================================
--- trunk/install/examples/movies/db/dmdb-movies-mysql.sql	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/install/examples/movies/db/dmdb-movies-mysql.sql	2007-09-21 15:00:46 UTC (rev 220)
@@ -9,7 +9,7 @@
 INSERT INTO Topic VALUES ('tt-datasource', 1, 1, 't-moviesdb', 'Movies (MySQL-DB)');
 INSERT INTO TopicProp VALUES ('t-moviesdb', 1, 'Name', 'Movies (MySQL-DB)');
 INSERT INTO TopicProp VALUES ('t-moviesdb', 1, 'URL', 'jdbc:<A HREF="mysql://127.0.0.1/Movies?user=movies&amp;password=movies&amp;useUnicode=true&amp;characterEncoding=latin1">mysql://127.0.0.1/Movies?user=movies&amp;password=movies&amp;useUnicode=true&amp;characterEncoding=latin1</A>');
-INSERT INTO TopicProp VALUES ('t-moviesdb', 1, 'Driver', 'org.gjt.mm.mysql.Driver');
+INSERT INTO TopicProp VALUES ('t-moviesdb', 1, 'Database Type', 'mysql');
 INSERT INTO TopicProp VALUES ('t-moviesdb', 1, 'Idle Elementtype', 'Movie');
 -- Associate types with datasource
 INSERT INTO Association VALUES ('at-association', 1, 1, 'a-514', '', 'tt-movie', 1, 't-moviesdb', 1);

Modified: trunk/install/examples/movies/db/dmdb-movies-oracle.sql
===================================================================
--- trunk/install/examples/movies/db/dmdb-movies-oracle.sql	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/install/examples/movies/db/dmdb-movies-oracle.sql	2007-09-21 15:00:46 UTC (rev 220)
@@ -9,7 +9,7 @@
 INSERT INTO Topic VALUES ('tt-datasource', 1, 1, 't-moviesdb', 'Movies (MySQL-DB)');
 INSERT INTO TopicProp VALUES ('t-moviesdb', 1, 'Name', 'Movies (MySQL-DB)');
 INSERT INTO TopicProp VALUES ('t-moviesdb', 1, 'URL', 'jdbc:oracle:thin:dm/<A HREF="https://lists.berlios.de/mailman/listinfo/deepamehta-svn">dm at localhost</A>:1521:orcl');
-INSERT INTO TopicProp VALUES ('t-moviesdb', 1, 'Driver', 'oracle.jdbc.driver.OracleDriver');
+INSERT INTO TopicProp VALUES ('t-moviesdb', 1, 'Database Type', 'oracle');
 INSERT INTO TopicProp VALUES ('t-moviesdb', 1, 'Idle Elementtype', 'Movie');
 -- Associate types with datasource
 INSERT INTO Association VALUES ('at-association', 1, 1, 'a-514', '', 'tt-movie', 1, 't-moviesdb', 1);


Property changes on: trunk/install/examples/musicforum
___________________________________________________________________
Name: svn:ignore
   - musicforum.war

   + musicforum.war
config.properties


Modified: trunk/install/examples/musicforum/build.xml
===================================================================
--- trunk/install/examples/musicforum/build.xml	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/install/examples/musicforum/build.xml	2007-09-21 15:00:46 UTC (rev 220)
@@ -11,7 +11,7 @@
 
 	&lt;import file=&quot;${dm.base-dir}/config.xml&quot; /&gt;
 
-	&lt;target name=&quot;war&quot;&gt;
+	&lt;target name=&quot;-war&quot;&gt;
    	    &lt;war warfile=&quot;${war}&quot; webxml=&quot;config/web.xml&quot;&gt;
 		    &lt;classes dir=&quot;../messageboard/build&quot;&gt;
 				&lt;include name=&quot;de/deepamehta/messageboard/*.class&quot; /&gt;
@@ -26,13 +26,15 @@
 		&lt;/war&gt;
 	&lt;/target&gt;
 
-	&lt;target name=&quot;build&quot; depends=&quot;war&quot;/&gt;
+	&lt;target name=&quot;build&quot; depends=&quot;-war&quot;/&gt;
 
 	&lt;target name=&quot;deploy&quot; if=&quot;do.web.deploy&quot;&gt;
         &lt;copy file=&quot;${war}&quot; todir=&quot;${web.deploy.dir}&quot;/&gt;
 	&lt;/target&gt;
 
-	&lt;target name=&quot;install&quot;&gt;
+	&lt;target name=&quot;install&quot; depends=&quot;-initdb&quot;/&gt;
+
+	&lt;target name=&quot;-initdb&quot;&gt;
 		&lt;sql driver=&quot;${db.driver}&quot; url=&quot;${db.url}&quot; userid=&quot;${db.user}&quot; password=&quot;${db.password}&quot; classpathref=&quot;javalibs&quot; autocommit=&quot;${db.autocommit}&quot;&gt;
 			&lt;fileset dir=&quot;${examples}&quot;&gt;
 				&lt;include name=&quot;musicforum/music.sql&quot; /&gt;
@@ -42,4 +44,8 @@
 			&lt;/fileset&gt;
 		&lt;/sql&gt;
 	&lt;/target&gt;
+
+	&lt;target name=&quot;cleanup&quot;&gt;
+		&lt;delete file=&quot;${war}&quot;/&gt;
+	&lt;/target&gt;
 &lt;/project&gt;

Modified: trunk/setup.xml
===================================================================
--- trunk/setup.xml	2007-09-21 14:25:22 UTC (rev 219)
+++ trunk/setup.xml	2007-09-21 15:00:46 UTC (rev 220)
@@ -4,11 +4,23 @@
 		DeepaMehta setup build file
 	&lt;/description&gt;
 
+	&lt;condition property=&quot;do.config.db.host&quot; value=&quot;true&quot;&gt;
+		&lt;istrue value=&quot;${config.db.host}&quot; /&gt;
+	&lt;/condition&gt;
+	&lt;condition property=&quot;do.config.db.name&quot; value=&quot;true&quot;&gt;
+		&lt;istrue value=&quot;${config.db.name}&quot; /&gt;
+	&lt;/condition&gt;
+	&lt;condition property=&quot;do.config.db.user&quot; value=&quot;true&quot;&gt;
+		&lt;istrue value=&quot;${config.db.user}&quot; /&gt;
+	&lt;/condition&gt;
+
 	&lt;!-- Configuration --&gt;
-
-	&lt;target name=&quot;config&quot; depends=&quot;-config-web-root,-config-instance,-config-examples&quot; description=&quot;Configures the application DeepaMehta&quot;&gt;
-		&lt;propertyfile file=&quot;${config.properties}&quot; &gt;
-			&lt;entry key=&quot;main-target&quot; default=&quot;dm&quot;/&gt;
+	&lt;target name=&quot;-config-init&quot;&gt;
+		&lt;property name=&quot;configuration.isactive&quot; value=&quot;true&quot; /&gt;
+	&lt;/target&gt;
+	&lt;target name=&quot;config&quot; depends=&quot;-config-init,-config-web-root,-config-dm-instance,-config-examples&quot; description=&quot;Configures the application DeepaMehta&quot;&gt;
+		&lt;propertyfile file=&quot;${config.properties}&quot;&gt;
+			&lt;entry key=&quot;main-targets&quot; default=&quot;dm&quot; /&gt;
 		&lt;/propertyfile&gt;
 		&lt;echo&gt;
 Your choices are stored in the &quot;${config.properties}&quot; file.
@@ -16,125 +28,171 @@
 this file or call the config target again.
 		&lt;/echo&gt;
 	&lt;/target&gt;
-	&lt;target name=&quot;-config-web&quot;&gt;
+
+	&lt;target name=&quot;-config-web&quot; depends=&quot;-config-init&quot;&gt;
 		&lt;condition property=&quot;old.do.installweb&quot; value=&quot;n&quot;&gt;
-			&lt;isfalse value=&quot;${web.deploy.do}&quot;/&gt;
+			&lt;isfalse value=&quot;${web.deploy.do}&quot; /&gt;
 		&lt;/condition&gt;
 		&lt;condition property=&quot;old.do.installweb&quot; value=&quot;y&quot;&gt;
-			&lt;istrue value=&quot;${web.deploy.do}&quot;/&gt;
+			&lt;istrue value=&quot;${web.deploy.do}&quot; /&gt;
 		&lt;/condition&gt;
-		&lt;input
-			message=&quot;Do you want to install web applications?&quot;
-			validargs=&quot;y,n&quot;
-			addproperty=&quot;new.do.installweb&quot;
-			defaultvalue=&quot;${old.do.installweb}&quot;/&gt;
-		&lt;condition property=&quot;new.web.deploy.do&quot; value=&quot;false&quot;&gt;
-				&lt;equals arg1=&quot;${new.do.installweb}&quot; arg2=&quot;n&quot; /&gt;
-		&lt;/condition&gt;
-		&lt;condition property=&quot;new.web.deploy.do&quot; value=&quot;true&quot;&gt;
-			&lt;not&gt;&lt;equals arg1=&quot;${new.do.installweb}&quot; arg2=&quot;n&quot; /&gt;&lt;/not&gt;
-		&lt;/condition&gt;
-		&lt;condition property=&quot;new.do.web.deploy&quot;&gt;
-			&lt;istrue value=&quot;${new.web.deploy.do}&quot; /&gt;
-		&lt;/condition&gt;
-		&lt;propertyfile file=&quot;${config.properties}&quot; &gt;
-			&lt;entry key=&quot;web.deploy.do&quot; value=&quot;${new.web.deploy.do}&quot;/&gt;
+		&lt;input message=&quot;Do you want to install web applications?&quot; validargs=&quot;y,n&quot; addproperty=&quot;new.do.installweb&quot; defaultvalue=&quot;${old.do.installweb}&quot; /&gt;
+		&lt;if&gt;
+			&lt;equals arg1=&quot;${new.do.installweb}&quot; arg2=&quot;n&quot; /&gt;
+			&lt;then&gt;
+				&lt;var name=&quot;web.deploy.do&quot; value=&quot;false&quot; /&gt;
+				&lt;var name=&quot;do.web.deploy&quot; unset=&quot;true&quot; /&gt;
+			&lt;/then&gt;
+			&lt;else&gt;
+				&lt;var name=&quot;do.web.deploy&quot; value=&quot;true&quot; /&gt;
+				&lt;var name=&quot;web.deploy.do&quot; value=&quot;true&quot; /&gt;
+			&lt;/else&gt;
+		&lt;/if&gt;
+		&lt;propertyfile file=&quot;${config.properties}&quot;&gt;
+			&lt;entry key=&quot;web.deploy.do&quot; value=&quot;${web.deploy.do}&quot; /&gt;
 		&lt;/propertyfile&gt;
-		&lt;var name=&quot;do.web.deploy&quot; unset=&quot;true&quot;/&gt;
-		&lt;condition property=&quot;do.web.deploy&quot; value=&quot;true&quot;&gt;
-			&lt;istrue value=&quot;${web.deploy.do}&quot;/&gt;
-		&lt;/condition&gt;
 	&lt;/target&gt;
+
 	&lt;target name=&quot;-config-web-root&quot; if=&quot;new.do.web.deploy&quot; depends=&quot;-config-web&quot;&gt;
-		&lt;input
-			message=&quot;Please enter the root directory of your application server.&quot;
-			addproperty=&quot;new.tomcat.root&quot;
-			defaultvalue=&quot;${tomcat.root}&quot;/&gt;
-		&lt;propertyfile file=&quot;${config.properties}&quot; &gt;
-			&lt;entry key=&quot;tomcat.root&quot; value=&quot;${new.tomcat.root}&quot;/&gt;
+		&lt;input message=&quot;Please enter the root directory of your application server.&quot; addproperty=&quot;new.tomcat.root&quot; defaultvalue=&quot;${tomcat.root}&quot; /&gt;
+		&lt;propertyfile file=&quot;${config.properties}&quot;&gt;
+			&lt;entry key=&quot;tomcat.root&quot; value=&quot;${new.tomcat.root}&quot; /&gt;
 		&lt;/propertyfile&gt;
 	&lt;/target&gt;
-	&lt;target name=&quot;-config-which-instance&quot;&gt;
-		&lt;echo&gt;Please select one of the following instance configurations:&lt;/echo&gt;
-		&lt;echo/&gt;
-		&lt;for param=&quot;list.instance.config.file&quot;&gt;
-			&lt;path&gt;
-				&lt;fileset dir=&quot;${config}&quot; includes=&quot;dm-*.properties&quot;/&gt;
-			&lt;/path&gt;
-			&lt;sequential&gt;
-				&lt;var name=&quot;list.instance&quot; unset=&quot;true&quot;/&gt;
-				&lt;var name=&quot;list.dm-instance&quot; unset=&quot;true&quot;/&gt;
-				&lt;basename file=&quot;@{list.instance.config.file}&quot; property=&quot;list.dm-instance&quot; suffix=&quot;.properties&quot;/&gt;
-				&lt;propertyregex property=&quot;list.instance&quot;
-	              input=&quot;${list.dm-instance}&quot;
-	              regexp=&quot;dm-(.*)&quot;
-	              select=&quot;\1&quot;/&gt;
-				&lt;echo&gt;${list.instance}&lt;/echo&gt;
-			&lt;/sequential&gt;
-		&lt;/for&gt;
-		&lt;echo/&gt;
-		&lt;input
-			message=&quot;currently set (default)&quot;
-			addproperty=&quot;new.dm.instance&quot;
-			defaultvalue=&quot;${dm.instance}&quot;/&gt;
 
-		&lt;fileset dir=&quot;${config}&quot; includes=&quot;dm-${new.dm.instance}.properties&quot; id=&quot;instance.config.fileset&quot;/&gt;
-		&lt;var name=&quot;correct&quot; unset=&quot;true&quot;/&gt;
-		&lt;condition property=&quot;correct&quot;&gt;
-			&lt;resourcecount refid=&quot;instance.config.fileset&quot; when=&quot;equal&quot; count=&quot;1&quot; /&gt;
-		&lt;/condition&gt;
-		&lt;fail
-			unless=&quot;correct&quot;
-			message=&quot;${new.dm.instance} does not refer to an instance configuration&quot; /&gt;
-		&lt;propertyfile file=&quot;${config.properties}&quot; &gt;
-			&lt;entry key=&quot;dm.instance&quot; value=&quot;${new.dm.instance}&quot;/&gt;
+	&lt;target name=&quot;-config-which-dm-instance&quot; depends=&quot;-config-init&quot;&gt;
+		&lt;var name=&quot;path&quot; value=&quot;${config}&quot; /&gt;
+		&lt;var name=&quot;prefix&quot; value=&quot;dm&quot; /&gt;
+		&lt;var name=&quot;default&quot; value=&quot;${dm.instance}&quot; /&gt;
+		&lt;antcallback target=&quot;-config-which-generic-instance&quot; return=&quot;return.instance&quot; /&gt;
+		&lt;var name=&quot;dm.instance&quot; value=&quot;${return.instance}&quot; /&gt;
+		&lt;propertyfile file=&quot;${config.properties}&quot;&gt;
+			&lt;entry key=&quot;dm.instance&quot; value=&quot;${dm.instance}&quot; /&gt;
 		&lt;/propertyfile&gt;
+		&lt;propertyfile file=&quot;${config}/config.properties&quot;&gt;
+			&lt;entry key=&quot;dm.instance&quot; value=&quot;${dm.instance}&quot; /&gt;
+		&lt;/propertyfile&gt;
 	&lt;/target&gt;
-	&lt;target name=&quot;-config-instance&quot; depends=&quot;-config-which-instance&quot;&gt;
+
+	&lt;target name=&quot;-config-dm-instance&quot; depends=&quot;-config-which-dm-instance&quot;&gt;
 		&lt;echo&gt;configuring now the DeepaMehta instance &quot;${dm.instance}...&lt;/echo&gt;
-		&lt;ant target=&quot;-config-instance2&quot; inheritall=&quot;false&quot;/&gt;
+		&lt;ant target=&quot;-config-dm-instance2&quot; inheritall=&quot;false&quot; /&gt;
 	&lt;/target&gt;
-	&lt;target name=&quot;-config-instance2&quot; depends=&quot;-config-instance-db.host,-config-instance-db.name,-config-instance-db.user&quot;&gt;
+
+	&lt;target name=&quot;-config-dm-instance2&quot; depends=&quot;-config-instance-db.host,-config-instance-db.name,-config-instance-db.user&quot;&gt;
 		&lt;echo&gt;completed configuring instance &quot;${dm.instance}&quot;&lt;/echo&gt;
 		&lt;echo&gt;Instance-related settings are stored in &quot;${dm.instance.config-property-file}.&lt;/echo&gt;
 	&lt;/target&gt;
+
 	&lt;target name=&quot;-config-instance-db.host&quot; if=&quot;do.config.db.host&quot;&gt;
-		&lt;input
-			message=&quot;Please enter the host of your database:&quot;
-			addproperty=&quot;new.db.host&quot;
-			defaultvalue=&quot;${db.host}&quot;/&gt;
-		&lt;propertyfile file=&quot;${dm.instance.config-property-file}&quot; &gt;
-			&lt;entry key=&quot;db.host&quot; value=&quot;${new.db.host}&quot;/&gt;
+		&lt;input message=&quot;Please enter the host of your database:&quot; addproperty=&quot;new.db.host&quot; defaultvalue=&quot;${db.host}&quot; /&gt;
+		&lt;propertyfile file=&quot;${dm.instance.config-property-file}&quot;&gt;
+			&lt;entry key=&quot;db.host&quot; value=&quot;${new.db.host}&quot; /&gt;
 		&lt;/propertyfile&gt;
 	&lt;/target&gt;
+
 	&lt;target name=&quot;-config-instance-db.name&quot; if=&quot;do.config.db.name&quot;&gt;
-		&lt;input
-			message=&quot;Please enter the name of your database:&quot;
-			addproperty=&quot;new.db.name&quot;
-			defaultvalue=&quot;${db.name}&quot;/&gt;
-		&lt;propertyfile file=&quot;${dm.instance.config-property-file}&quot; &gt;
-			&lt;entry key=&quot;db.name&quot; value=&quot;${new.db.name}&quot;/&gt;
+		&lt;ant antfile=&quot;${db-specific}/list-db-${db.type}.xml&quot; target=&quot;-listdb&quot; /&gt;
+		&lt;input message=&quot;Please enter the name of your database:&quot; addproperty=&quot;new.db.name&quot; defaultvalue=&quot;${db.name}&quot; /&gt;
+		&lt;propertyfile file=&quot;${dm.instance.config-property-file}&quot;&gt;
+			&lt;entry key=&quot;db.name&quot; value=&quot;${new.db.name}&quot; /&gt;
 		&lt;/propertyfile&gt;
 	&lt;/target&gt;
+
 	&lt;target name=&quot;-config-instance-db.user&quot; if=&quot;do.config.db.user&quot;&gt;
 		&lt;echo&gt;It is strongly advised to change the database user and password before creation!&lt;/echo&gt;
-		&lt;input
-			message=&quot;Please enter the user to use:&quot;
-			addproperty=&quot;new.db.user&quot;
-			defaultvalue=&quot;${db.user}&quot;/&gt;
-		&lt;input
-			message=&quot;Please enter the password to use:&quot;
-			addproperty=&quot;new.db.password&quot;
-			defaultvalue=&quot;${db.password}&quot;/&gt;
-		&lt;propertyfile file=&quot;${dm.instance.config-property-file}&quot; &gt;
-			&lt;entry key=&quot;db.user&quot; value=&quot;${new.db.user}&quot;/&gt;
-			&lt;entry key=&quot;db.password&quot; value=&quot;${new.db.password}&quot;/&gt;
+		&lt;input message=&quot;Please enter the user to use:&quot; addproperty=&quot;new.db.user&quot; defaultvalue=&quot;${db.user}&quot; /&gt;
+		&lt;input message=&quot;Please enter the password to use:&quot; addproperty=&quot;new.db.password&quot; defaultvalue=&quot;${db.password}&quot; /&gt;
+		&lt;propertyfile file=&quot;${dm.instance.config-property-file}&quot;&gt;
+			&lt;entry key=&quot;db.user&quot; value=&quot;${new.db.user}&quot; /&gt;
+			&lt;entry key=&quot;db.password&quot; value=&quot;${new.db.password}&quot; /&gt;
 		&lt;/propertyfile&gt;
 	&lt;/target&gt;
-	&lt;target name=&quot;-config-examples&quot;&gt;
+
+	&lt;target name=&quot;-config-examples&quot; depends=&quot;-config-init&quot;&gt;
 		&lt;ant target=&quot;-call-examples&quot;&gt;
-			&lt;property name=&quot;target&quot; value=&quot;config&quot;/&gt;
+			&lt;property name=&quot;target&quot; value=&quot;config&quot; /&gt;
 		&lt;/ant&gt;
 	&lt;/target&gt;
 
+	&lt;target name=&quot;-config-ask-example&quot;&gt;
+		&lt;var name=&quot;example.execute&quot; unset=&quot;true&quot; /&gt;
+		&lt;property file=&quot;${examples}/${example}/config.properties&quot; /&gt;
+		&lt;if&gt;
+			&lt;or&gt;
+				&lt;istrue value=&quot;${configuration.isactive}&quot; /&gt;
+				&lt;not&gt;
+					&lt;isset property=&quot;example.execute&quot; /&gt;
+				&lt;/not&gt;
+			&lt;/or&gt;
+			&lt;then&gt;
+				&lt;if&gt;
+					&lt;istrue value=&quot;${example.execute}&quot; /&gt;
+					&lt;then&gt;
+						&lt;var name=&quot;default&quot; value=&quot;y&quot; /&gt;
+					&lt;/then&gt;
+					&lt;else&gt;
+						&lt;var name=&quot;default&quot; value=&quot;n&quot; /&gt;
+					&lt;/else&gt;
+				&lt;/if&gt;
+				&lt;var name=&quot;input&quot; unset=&quot;true&quot; /&gt;
+				&lt;input message=&quot;Shall the example ${example} be processed?&quot; validargs=&quot;y,n&quot; defaultvalue=&quot;${default}&quot; addproperty=&quot;input&quot; /&gt;
+				&lt;var name=&quot;default&quot; unset=&quot;true&quot; /&gt;
+				&lt;if&gt;
+					&lt;equals arg1=&quot;${input}&quot; arg2=&quot;y&quot; /&gt;
+					&lt;then&gt;
+						&lt;var name=&quot;do.example.execute&quot; value=&quot;true&quot; /&gt;
+						&lt;propertyfile file=&quot;${examples}/${example}/config.properties&quot;&gt;
+							&lt;entry key=&quot;example.execute&quot; value=&quot;true&quot; /&gt;
+						&lt;/propertyfile&gt;
+					&lt;/then&gt;
+					&lt;else&gt;
+						&lt;var name=&quot;do.example.execute&quot; unset=&quot;true&quot; /&gt;
+						&lt;propertyfile file=&quot;${examples}/${example}/config.properties&quot;&gt;
+							&lt;entry key=&quot;example.execute&quot; value=&quot;false&quot; /&gt;
+						&lt;/propertyfile&gt;
+					&lt;/else&gt;
+				&lt;/if&gt;
+			&lt;/then&gt;
+			&lt;else&gt;
+				&lt;if&gt;
+					&lt;istrue value=&quot;${example.execute}&quot; /&gt;
+					&lt;then&gt;
+						&lt;var name=&quot;do.example.execute&quot; value=&quot;true&quot; /&gt;
+					&lt;/then&gt;
+					&lt;else&gt;
+						&lt;var name=&quot;do.example.execute&quot; unset=&quot;true&quot; /&gt;
+					&lt;/else&gt;
+				&lt;/if&gt;
+			&lt;/else&gt;
+		&lt;/if&gt;
+	&lt;/target&gt;
+
+	&lt;target name=&quot;-config-which-generic-instance&quot;&gt;
+		&lt;echo&gt;Please select one of the following instance configurations:&lt;/echo&gt;
+		&lt;echo /&gt;
+		&lt;for param=&quot;list.instance.config.file&quot;&gt;
+			&lt;path&gt;
+				&lt;fileset dir=&quot;${path}&quot; includes=&quot;${prefix}-*.properties&quot; /&gt;
+			&lt;/path&gt;
+			&lt;sequential&gt;
+				&lt;var name=&quot;list.instance&quot; unset=&quot;true&quot; /&gt;
+				&lt;var name=&quot;list.dm-instance&quot; unset=&quot;true&quot; /&gt;
+				&lt;basename file=&quot;@{list.instance.config.file}&quot; property=&quot;list.dm-instance&quot; suffix=&quot;.properties&quot; /&gt;
+				&lt;propertyregex property=&quot;list.instance&quot; input=&quot;${list.dm-instance}&quot; regexp=&quot;${prefix}-(.*)&quot; select=&quot;\1&quot; /&gt;
+				&lt;echo&gt;* ${list.instance}&lt;/echo&gt;
+			&lt;/sequential&gt;
+		&lt;/for&gt;
+		&lt;echo /&gt;
+		&lt;var name=&quot;return.instance&quot; unset=&quot;true&quot; /&gt;
+		&lt;input message=&quot;currently set (default)&quot; addproperty=&quot;return.instance&quot; defaultvalue=&quot;${default}&quot; /&gt;
+
+		&lt;fileset dir=&quot;${path}&quot; includes=&quot;${prefix}-${return.instance}.properties&quot; id=&quot;instance.config.fileset&quot; /&gt;
+		&lt;var name=&quot;correct&quot; unset=&quot;true&quot; /&gt;
+		&lt;condition property=&quot;correct&quot;&gt;
+			&lt;resourcecount refid=&quot;instance.config.fileset&quot; when=&quot;equal&quot; count=&quot;1&quot; /&gt;
+		&lt;/condition&gt;
+		&lt;fail unless=&quot;correct&quot; message=&quot;${return.instance} does not refer to an instance configuration&quot; /&gt;
+	&lt;/target&gt;
+
 &lt;/project&gt;


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000064.html">[deepamehta-svn] r219 - in branches/eschnepel: . .settings ant/lib	install/db install/db/db-specific install/db/patches
</A></li>
	<LI>Next message: <A HREF="000066.html">[deepamehta-svn] r221 - in branches/eschnepel: .settings develop/src/de/deepamehta develop/src/de/deepamehta/assocs develop/src/de/deepamehta/client develop/src/de/deepamehta/service develop/src/de/deepamehta/service/db develop/src/de/deepamehta/service/web develop/src/de/deepamehta/topics develop/src/de/deepamehta/topics/helper develop/src/de/deepamehta/topics/personalweb install/examples/artfacts/src/de/deepamehta/artfacts/topics install/examples/dm-browser/src/de/deepamehta/browser install/examples/dm-search/src/de/deepamehta/webfront install/examples/dm-topicmapviewer/src/de/deepamehta/topicmapviewer install/examples/dm-web/src/de/deepamehta/webfrontend install/examples/kompetenzstern/src/de/deepamehta/kompetenzstern install/examples/kompetenzstern/src/de/deepamehta/kompetenzstern/assocs install/examples/kompetenzstern/src/de/deepamehta/kompetenzstern/topics install/examples/ldap/src/de/deepamehta/topics install/examples/messageboard/src/de/deepamehta/messageboard install/exampl! es/messageboard/src/de/deepamehta/messageboard/topics install/examples/movies/src/de/deepamehta/movies/topics
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65">[ date ]</a>
              <a href="thread.html#65">[ thread ]</a>
              <a href="subject.html#65">[ subject ]</a>
              <a href="author.html#65">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/deepamehta-svn">More information about the deepamehta-svn
mailing list</a><br>
</body></html>
