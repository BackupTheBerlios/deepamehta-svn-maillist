<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [deepamehta-svn] r335 - in trunk: develop/src/de/deepamehta	develop/src/de/deepamehta/service	develop/src/de/deepamehta/topics install/db/patches
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/deepamehta-svn/2008-August/index.html" >
   <LINK REL="made" HREF="mailto:deepamehta-svn%40lists.berlios.de?Subject=Re%3A%20%5Bdeepamehta-svn%5D%20r335%20-%20in%20trunk%3A%20develop/src/de/deepamehta%0A%09develop/src/de/deepamehta/service%0A%09develop/src/de/deepamehta/topics%20install/db/patches&In-Reply-To=%3C200808080125.m781P7Zn030255%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="000181.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[deepamehta-svn] r335 - in trunk: develop/src/de/deepamehta	develop/src/de/deepamehta/service	develop/src/de/deepamehta/topics install/db/patches</H1>
    <B>jri at mail.berlios.de</B> 
    <A HREF="mailto:deepamehta-svn%40lists.berlios.de?Subject=Re%3A%20%5Bdeepamehta-svn%5D%20r335%20-%20in%20trunk%3A%20develop/src/de/deepamehta%0A%09develop/src/de/deepamehta/service%0A%09develop/src/de/deepamehta/topics%20install/db/patches&In-Reply-To=%3C200808080125.m781P7Zn030255%40sheep.berlios.de%3E"
       TITLE="[deepamehta-svn] r335 - in trunk: develop/src/de/deepamehta	develop/src/de/deepamehta/service	develop/src/de/deepamehta/topics install/db/patches">jri at mail.berlios.de
       </A><BR>
    <I>Fri Aug  8 03:25:07 CEST 2008</I>
    <P><UL>
        
        <LI>Next message: <A HREF="000181.html">[deepamehta-svn] r336 - trunk/install/config
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#180">[ date ]</a>
              <a href="thread.html#180">[ thread ]</a>
              <a href="subject.html#180">[ subject ]</a>
              <a href="author.html#180">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: jri
Date: 2008-08-08 03:24:59 +0200 (Fri, 08 Aug 2008)
New Revision: 335

Added:
   trunk/install/db/patches/cm-2.18.sql
Modified:
   trunk/develop/src/de/deepamehta/DeepaMehtaConstants.java
   trunk/develop/src/de/deepamehta/PresentableTopic.java
   trunk/develop/src/de/deepamehta/service/ApplicationService.java
   trunk/develop/src/de/deepamehta/service/CorporateDirectives.java
   trunk/develop/src/de/deepamehta/service/RelationalCorporateMemory.java
   trunk/develop/src/de/deepamehta/topics/ContainerTopic.java
   trunk/develop/src/de/deepamehta/topics/ElementContainerTopic.java
   trunk/develop/src/de/deepamehta/topics/TopicContainerTopic.java
   trunk/install/db/patches/cm-2.17.sql
Log:
Feature Request #3055 addressed (Better handling of result sets (was: &quot;Reveal More&quot;))
- the &quot;Show Result&quot; command is obsolete
- instead the result set is listed in the property panel (the search topics, tons, got a new HTML-property: &quot;Result&quot;)
- all items in the result set are rendered as hypertext links
- clicking a link will reveal the topic (as before)
Notes:
- The &quot;Show Result&quot; command is not yet dropped actually from the menu
- There are still minor issues (missing view updates)
- INSTALLATION: when updating apply the patch cm-2.18.sql


Modified: trunk/develop/src/de/deepamehta/DeepaMehtaConstants.java
===================================================================
--- trunk/develop/src/de/deepamehta/DeepaMehtaConstants.java	2008-07-08 10:50:42 UTC (rev 334)
+++ trunk/develop/src/de/deepamehta/DeepaMehtaConstants.java	2008-08-08 01:24:59 UTC (rev 335)
@@ -26,7 +26,7 @@
  * &lt;/ol&gt;
  * &lt;p&gt;
  * &lt;hr&gt;
- * Last change: 4.7.2008 (2.0b8)&lt;br&gt;
+ * Last change: 6.8.2008 (2.0b8)&lt;br&gt;
  * J&ouml;rg Richter&lt;br&gt;
  * <A HREF="https://lists.berlios.de/mailman/listinfo/deepamehta-svn">jri at deepamehta.de</A>
  */
@@ -143,9 +143,12 @@
 	static final String PROPERTY_CW_BASE_URL = &quot;Base URL&quot;;						// &quot;CorporateWeb Settings&quot;
 	static final String PROPERTY_SMTP_SERVER = &quot;SMTP Server&quot;;					// &quot;CorporateWeb Settings&quot;
 	static final String PROPERTY_GOOGLE_KEY = &quot;Google Key&quot;;						// &quot;CorporateWeb Settings&quot;
-	static final String PROPERTY_SEARCH = &quot;Search&quot;;								// &quot;TopicSearch&quot;
+	static final String PROPERTY_SEARCH = &quot;Search&quot;;								// &quot;Search&quot;
+	static final String PROPERTY_QUERY_ELEMENTS = &quot;QueryElements&quot;;				// &quot;Search&quot;
+	static final String PROPERTY_ELEMENT_COUNT = &quot;ElementCount&quot;;				// &quot;Search&quot;
 	static final String PROPERTY_RELATED_TOPIC_ID = &quot;RelatedTopicID&quot;;			// &quot;Search&quot;
 	static final String PROPERTY_RELATED_TOPIC_SEMANTIC = &quot;AssociationTypeID&quot;;	// &quot;Search&quot;
+	static final String PROPERTY_RESULT = &quot;Result&quot;;								// &quot;Search&quot;
 	static final String PROPERTY_ROLE_EDITOR = &quot;Editor&quot;;						// &quot;Membership&quot;
 	static final String PROPERTY_ROLE_PUBLISHER = &quot;Publisher&quot;;					// &quot;Membership&quot;
 	// property values
@@ -208,8 +211,8 @@
 	static final int TEXT_EDITOR_HEIGHT = 200;
 	static final int INPUT_LINE_WIDTH = 220;
 	static final int INPUT_LINE_HEIGHT = 64;
-	static final int MAX_REVEALING = 7;
-	static final int MAX_LISTING = 100;
+	static final int MAX_REVEALING = 7;	// cognitive limit 1
+	static final int MAX_LISTING = 150;	// cognitive limit 2
 	static final int NEW_TOPIC_X = 20;	// ### to be dropped
 	static final int NEW_TOPIC_Y = 20;	// ### to be dropped
 	static final int NEAR_MIN = 40;
@@ -404,10 +407,6 @@
 	static final String CMD_DELETE_ASSOC = &quot;deleteAssociation&quot;;
 	static final String CMD_DELETE_TOPICMAP = &quot;deleteTopicmap&quot;;
 	static final String CMD_SET_PROPERTY = &quot;setProperty&quot;;				// changes model
-	// ### static final String CMD_EDIT_TOPIC_PROPERTY = &quot;editTopicProperty&quot;;	// opens detail
-	// ### static final String CMD_VIEW_TOPIC_PROPERTY = &quot;viewTopicProperty&quot;;	// opens detail
-	// ### static final String CMD_EDIT_ASSOC_PROPERTY = &quot;editAssocProperty&quot;;	// opens detail
-	// ### static final String CMD_VIEW_ASSOC_PROPERTY = &quot;viewAssocProperty&quot;;	// opens detail
 	static final String CMD_ASSIGN_TOPIC = &quot;assignTopic&quot;;
 	static final String CMD_ASSIGN_NEW_TOPIC = &quot;assignNewTopic&quot;;
 	static final String CMD_SHOW_HELP = &quot;showHelp&quot;;						// changes model
@@ -441,11 +440,12 @@
 	static final String CMD_PROCESS_STRING = &quot;processDroppedString&quot;;
 	static final String CMD_CHOOSE_COLOR = &quot;chooseColor&quot;;
 	static final String CMD_FOLLOW_HYPERLINK = &quot;followHyperlink&quot;;
-	// ### static final String CMD_CHOOSE_BACKGROUND_COLOR = &quot;chooseBackgroundColor&quot;;
-	// ### static final String CMD_SET_WORKSPACE = &quot;setWorkspace&quot;;
 
+	// hyperlink actions
+	static final String ACTION_REVEAL_TOPIC = &quot;revealTopic&quot;;
 
 
+
 	// ----------------------
 	// --- HTML Interface ---
 	// ----------------------

Modified: trunk/develop/src/de/deepamehta/PresentableTopic.java
===================================================================
--- trunk/develop/src/de/deepamehta/PresentableTopic.java	2008-07-08 10:50:42 UTC (rev 334)
+++ trunk/develop/src/de/deepamehta/PresentableTopic.java	2008-08-08 01:24:59 UTC (rev 335)
@@ -38,10 +38,9 @@
  * &lt;/UL&gt;
  * &lt;P&gt;
  * &lt;HR&gt;
- * Last functional change: 18.4.2004 (2.0b3-pre2)&lt;BR&gt;
- * Last documentation update: 9.10.2002 (2.0a16-pre5)&lt;BR&gt;
+ * Last change: 7.8.2008 (2.0b8)&lt;BR&gt;
  * J&ouml;rg Richter&lt;BR&gt;
- * <A HREF="https://lists.berlios.de/mailman/listinfo/deepamehta-svn">jri at freenet.de</A>
+ * <A HREF="https://lists.berlios.de/mailman/listinfo/deepamehta-svn">jri at deepamehta.de</A>
  */
 public class PresentableTopic extends BaseTopic implements DeepaMehtaConstants {
 
@@ -118,7 +117,7 @@
 
 	private Hashtable properties;
 	private boolean evoke;
-	private boolean virtual;	// indicates the topic originates from a datasource
+	private String originalID;	// if set: indicates the topic originates from a datasource
 
 
 
@@ -378,14 +377,29 @@
 
 	// ---
 
-	public boolean isVirtual() {
-		return virtual;
+	/**
+	 * References checked: 7.8.2008 (2.0b8)
+	 *
+	 * @see		de.deepamehta.topics.ElementContainerTopic#createTopicFromElement
+	 */
+	public void setOriginalID(String originalID) {
+		this.originalID = originalID;
 	}
 
-	public void setVirtual(boolean virtual) {
-		this.virtual = virtual;
+	public String getOriginalID() {
+		return originalID;
 	}
 
+	/**
+	 * References checked: 7.8.2008 (2.0b8)
+	 *
+	 * @see		de.deepamehta.service.CorporateDirectives#showTopic
+	 * @see		de.deepamehta.service.ApplicationService#buildResultView
+	 */
+	public boolean fromDatasource() {
+		return getOriginalID() != null;
+	}
+
 	// ---
 
 	/**

Modified: trunk/develop/src/de/deepamehta/service/ApplicationService.java
===================================================================
--- trunk/develop/src/de/deepamehta/service/ApplicationService.java	2008-07-08 10:50:42 UTC (rev 334)
+++ trunk/develop/src/de/deepamehta/service/ApplicationService.java	2008-08-08 01:24:59 UTC (rev 335)
@@ -66,7 +66,7 @@
  * &lt;img src=&quot;../../../../../images/3-tier-lcm.gif&quot;&gt;
  * &lt;p&gt;
  * &lt;hr&gt;
- * Last change: 1.7.2008 (2.0b8)&lt;br&gt;
+ * Last change: 7.8.2008 (2.0b8)&lt;br&gt;
  * J&ouml;rg Richter&lt;br&gt;
  * <A HREF="https://lists.berlios.de/mailman/listinfo/deepamehta-svn">jri at deepamehta.de</A>
  */
@@ -905,24 +905,26 @@
 	// --- createNewContainer (2 forms) ---
 
 	/**
-	 * ### Creates a container with standard name.
+	 * Creates a container that results from a &quot;Search&quot; command (### this container has a standard name).
 	 * &lt;p&gt;
+	 * References checked: 6.8.2008 (2.0b8)
+	 * &lt;p&gt;
 	 * &lt;table&gt;
 	 * &lt;tr&gt;&lt;td&gt;&lt;b&gt;Called by&lt;/b&gt;&lt;/td&gt;												&lt;td&gt;&lt;code&gt;evokeContent&lt;/code&gt;&lt;/td&gt;&lt;/tr&gt;
 	 * &lt;tr&gt;&lt;td&gt;{@link #performGoogleSearch}&lt;/td&gt;									&lt;td&gt;&lt;code&gt;false&lt;/code&gt;&lt;/td&gt;&lt;/tr&gt;
-	 * &lt;tr&gt;&lt;td&gt;{@link de.deepamehta.topics.TopicContainerTopic#processQuery}&lt;/td&gt;	&lt;td&gt;&lt;code&gt;false&lt;/code&gt;&lt;/td&gt;&lt;/tr&gt;
-	 * &lt;tr&gt;&lt;td&gt;{@link de.deepamehta.topics.ElementContainerTopic#processQuery}&lt;/td&gt;	&lt;td&gt;&lt;code&gt;true&lt;/code&gt;&lt;/td&gt;&lt;/tr&gt;
+	 * &lt;tr&gt;&lt;td&gt;{@link de.deepamehta.topics.TopicContainerTopic#performQuery}&lt;/td&gt;	&lt;td&gt;&lt;code&gt;false&lt;/code&gt;&lt;/td&gt;&lt;/tr&gt;
+	 * &lt;tr&gt;&lt;td&gt;{@link de.deepamehta.topics.ElementContainerTopic#performQuery}&lt;/td&gt;	&lt;td&gt;&lt;code&gt;true&lt;/code&gt;&lt;/td&gt;&lt;/tr&gt;
 	 * &lt;/table&gt;
 	 */
-	public CorporateDirectives createNewContainer(LiveTopic relatedTopic, String containerType, String nameFilter,
+	public CorporateDirectives createNewContainer(LiveTopic relatedTopic, String containerTypeID, String nameFilter,
 											Hashtable propertyFilter, String relatedTopicID, String relatedTopicSemantic,
 											int topicCount, Vector topics, boolean evokeContent) {
-		return createNewContainer(relatedTopic, containerType, nameFilter, propertyFilter, relatedTopicID,
+		return createNewContainer(relatedTopic, containerTypeID, nameFilter, propertyFilter, relatedTopicID,
 			relatedTopicSemantic, topicCount, topics, evokeContent, null, true);	// name=null, revealContent=true
 	}
 
 	/**
-	 * ### Creates a container with a custom name.
+	 * Creates a container that results from a &quot;What's related?&quot; command (### this container has a custom name).
 	 * &lt;p&gt;
 	 * Creates and returns the client directives to perform the following task: create a new container, associate
 	 * the container with the specified &lt;code&gt;relatedTopic&lt;/code&gt; by means of an association of type
@@ -930,16 +932,20 @@
 	 * &quot;Revealing the contents&quot; means showing the contained topics and associating them with the container by means
 	 * of associations of type {@link #SEMANTIC_CONTAINER_HIERARCHY}.
 	 * &lt;p&gt;
-	 * If the &lt;code&gt;relatedTopic&lt;/code&gt; is itself a container and it has the same content no new container is created,
+	 * If the &lt;code&gt;relatedTopic&lt;/code&gt; is itself a container and it has the same content, no new container is created,
 	 * but the content is revealed as described.
 	 * &lt;p&gt;
+	 * References checked: 6.8.2008 (2.0b8)
+	 * &lt;p&gt;
 	 * &lt;table&gt;
 	 * &lt;tr&gt;&lt;td&gt;&lt;b&gt;Called by&lt;/b&gt;&lt;/td&gt;													&lt;td&gt;&lt;code&gt;evokeContent&lt;/code&gt;&lt;/td&gt;&lt;/tr&gt;
 	 * &lt;tr&gt;&lt;td&gt;{@link de.deepamehta.topics.LiveTopic#navigateByTopictype}&lt;/td&gt;			&lt;td&gt;&lt;code&gt;false&lt;/code&gt;&lt;/td&gt;&lt;/tr&gt;
 	 * &lt;tr&gt;&lt;td&gt;{@link de.deepamehta.topics.LiveTopic#navigateByAssoctype}&lt;/td&gt;			&lt;td&gt;&lt;code&gt;false&lt;/code&gt;&lt;/td&gt;&lt;/tr&gt;
 	 * &lt;/table&gt;
 	 *
-	 * @param	relatedTopic			the topic the container is visually associated.
+	 * @param	relatedTopic			the topic the container is visually associated. This can be&lt;br&gt;
+	 *									1) another container (in case of &quot;Search&quot; command)&lt;br&gt;
+	 *									2) an arbitrary topic (in case of &quot;What's related?&quot; command)&lt;br&gt;
 	 *									Note: don't confuse this paramter with the relation filter
 	 * @param	containerTypeID			type ID of the container to be created
 	 * @param	nameFilter				name filter, if &lt;code&gt;null&lt;/code&gt; no name filter is set
@@ -948,7 +954,7 @@
 	 * @param	relatedTopicSemantic	part of relation filter, if &lt;code&gt;null&lt;/code&gt; the association type doesn't matter
 	 * @param	topicCount				number of topics contained in the container
 	 * @param	topics					topics contained in the container (vector of {@link de.deepamehta.PresentableTopic}s),
-	 *									Note: only used if topicCount &lt;= MAX_REVEALING
+	 *									Note: only used if topicCount &lt;= MAX_LISTING
 	 *
 	 */
 	public CorporateDirectives createNewContainer(LiveTopic relatedTopic, String containerTypeID, String nameFilter,
@@ -957,26 +963,8 @@
 		CorporateDirectives directives = new CorporateDirectives();
 		//
 		String containerLabel = Integer.toString(topicCount);
-		// --- create container properties ---
-		Hashtable containerProps;
-		containerProps = (Hashtable) propertyFilter.clone();
-		// determine query elements
-		String queryElements = queryElements(propertyFilter);
-		if (nameFilter != null &amp;&amp; nameFilter.length() &gt; 0) {
-			if (queryElements.length() &gt; 0) {
-				queryElements += &quot;,&quot;;
-			}
-			queryElements += PROPERTY_SEARCH;
-			containerProps.put(PROPERTY_SEARCH, nameFilter);
-		}
-		containerProps.put(&quot;QueryElements&quot;, queryElements);
-		containerProps.put(&quot;ElementCount&quot;, containerLabel);
-		if (relatedTopicID != null) {
-			containerProps.put(PROPERTY_RELATED_TOPIC_ID, relatedTopicID);
-			if (relatedTopicSemantic != null) {
-				containerProps.put(PROPERTY_RELATED_TOPIC_SEMANTIC, relatedTopicSemantic);
-			}
-		}
+		Hashtable containerProps = buildContainerProperties(nameFilter, propertyFilter, relatedTopicID, relatedTopicSemantic,
+																							topicCount, topics, containerLabel);
 		// only create container if the query has been narrowed against the query of this container
 		String containerID;
 		if (relatedTopic instanceof ContainerTopic &amp;&amp;
@@ -986,7 +974,8 @@
 			containerID = relatedTopic.getID();
 			directives.add(DIRECTIVE_SET_TOPIC_LABEL, containerID, containerLabel, new Integer(1), containerProps);	// ### version=1
 		} else {
-			System.out.println(&quot;&gt; ContainerTopic.createNewContainer(): query narrowed (now &quot; + propertyFilter + &quot;) -- create new container&quot;);
+			System.out.println(&quot;&gt; ContainerTopic.createNewContainer(): query narrowed (now &quot; + propertyFilter +
+				&quot;) -- create new container&quot;);
 			// --- create new container ---
 			containerID = cm.getNewTopicID();
 			String containerName = containerName(name, nameFilter, propertyFilter);
@@ -1009,6 +998,56 @@
 		return directives;
 	}
 
+	private Hashtable buildContainerProperties(String nameFilter, Hashtable propertyFilter, String relatedTopicID,
+											String relatedTopicSemantic, int topicCount, Vector topics, String containerLabel) {
+		Hashtable containerProps = (Hashtable) propertyFilter.clone();
+		// query elements
+		String queryElements = queryElements(propertyFilter);
+		if (nameFilter != null &amp;&amp; nameFilter.length() &gt; 0) {
+			if (queryElements.length() &gt; 0) {
+				queryElements += &quot;,&quot;;
+			}
+			queryElements += PROPERTY_SEARCH;
+			containerProps.put(PROPERTY_SEARCH, nameFilter);
+		}
+		containerProps.put(PROPERTY_QUERY_ELEMENTS, queryElements);
+		containerProps.put(PROPERTY_ELEMENT_COUNT, containerLabel);
+		// relation filter
+		if (relatedTopicID != null) {
+			containerProps.put(PROPERTY_RELATED_TOPIC_ID, relatedTopicID);
+			if (relatedTopicSemantic != null) {
+				containerProps.put(PROPERTY_RELATED_TOPIC_SEMANTIC, relatedTopicSemantic);
+			}
+		}
+		// result
+		containerProps.put(PROPERTY_RESULT, buildResultView(topicCount, topics));
+		//
+		return containerProps;
+	}
+
+	private String buildResultView(int topicCount, Vector topics) {
+		StringBuffer html = new StringBuffer(&quot;&lt;html&gt;&lt;body&gt;&quot;);
+		if (topicCount &lt;= MAX_LISTING) {
+			Enumeration e = topics.elements();
+			while (e.hasMoreElements()) {
+				PresentableTopic topic = (PresentableTopic) e.nextElement();
+				int appMode = topic.getAppearanceMode();
+				if (appMode != APPEARANCE_CUSTOM_ICON) {
+					System.out.println(&quot;*** appMode=&quot; + appMode + &quot; -- &quot; + topic);
+				}
+				String iconfile = topic.getAppearanceParam();
+				String id = topic.fromDatasource() ? topic.getOriginalID() : topic.getID();
+				html.append(&quot;&lt;img src=\&quot;&quot; + FILESERVER_ICONS_PATH + iconfile + &quot;\&quot;&gt; &quot;);
+				html.append(&quot;&lt;a href=\&quot;<A HREF="http://">http://</A>&quot; + ACTION_REVEAL_TOPIC + &quot;/&quot; + id + &quot;\&quot;&gt;&quot; + topic.getName() + &quot;&lt;/a&gt;&lt;br&gt;&quot;);
+			}
+		} else {
+			html.append(&quot;&lt;p&gt;&lt;i&gt;Search result too large to be shown (&quot; + topicCount + &quot; entries).&lt;/i&gt;&lt;/p&gt;&quot;);
+			html.append(&quot;&lt;p&gt;&lt;i&gt;Refine your search and press return inside an input field.&lt;/i&gt;&lt;/p&gt;&quot;);
+		}
+		html.append(&quot;&lt;/body&gt;&lt;/html&gt;&quot;);
+		return html.toString();
+	}
+
 	// --- getTopicProperty (2 forms) ---
 
 	// ### should be named &quot;getProperty&quot;
@@ -4418,18 +4457,22 @@
 	/**
 	 * Creates a vector of {@link de.deepamehta.PresentableTopic}s corresponding to
 	 * the {@link de.deepamehta.BaseTopic}s in the specified vector.
+	 * &lt;p&gt;
+	 * References checked: 7.8.2008 (2.0b8)
 	 *
 	 * @return	Vector of {@link de.deepamehta.PresentableTopic}
 	 *
-	 * @see		de.deepamehta.topics.TopicContainerTopic#processQuery
+	 * @see		de.deepamehta.topics.TopicContainerTopic#performQuery
 	 */
 	public Vector createPresentableTopics(String topicmapID, Vector baseTopics, String nearTopicID) {
 		Vector topics = new Vector();
 		//
 		Enumeration e = baseTopics.elements();
 		while (e.hasMoreElements()) {
-			BaseTopic topic = (BaseTopic) e.nextElement();
-			topics.addElement(createPresentableTopic(topic, nearTopicID, topicmapID));
+			BaseTopic t = (BaseTopic) e.nextElement();
+			PresentableTopic topic = createPresentableTopic(t, nearTopicID, topicmapID);
+			topic.setIcon(getIconfile(t));
+			topics.addElement(topic);
 		}
 		return topics;
 	}
@@ -4466,8 +4509,7 @@
 	 * @see		#createPresentableTopic(BaseTopic topic)	(above)
 	 * @see		de.deepamehta.topics.TopicMapTopic#openSharedTopicmap
 	 */
-	public PresentableTopic createPresentableTopic(BaseTopic topic, String appTopicID)
-															throws DeepaMehtaException {
+	public PresentableTopic createPresentableTopic(BaseTopic topic, String appTopicID) throws DeepaMehtaException {
 		PresentableTopic presentableTopic = new PresentableTopic(topic);
 		// ### version is set to 1
 		String iconfile = getIconfile(appTopicID, 1);	// may throw DME
@@ -4485,8 +4527,7 @@
 		Vector topics = cm.getTopics(typeID, name);
 		int count = topics.size();
 		if (count == 0) {
-			PresentableTopic topic = new PresentableTopic(getNewTopicID(), 1, typeID, 1,
-				name, nearTopicID);
+			PresentableTopic topic = new PresentableTopic(getNewTopicID(), 1, typeID, 1, name, nearTopicID);
 			topic.setEvoke(true);
 			return topic;
 		} else {

Modified: trunk/develop/src/de/deepamehta/service/CorporateDirectives.java
===================================================================
--- trunk/develop/src/de/deepamehta/service/CorporateDirectives.java	2008-07-08 10:50:42 UTC (rev 334)
+++ trunk/develop/src/de/deepamehta/service/CorporateDirectives.java	2008-08-08 01:24:59 UTC (rev 335)
@@ -25,7 +25,7 @@
 /**
  * &lt;p&gt;
  * &lt;hr&gt;
- * Last change: 30.6.2008 (2.0b8)&lt;br&gt;
+ * Last change: 7.8.2008 (2.0b8)&lt;br&gt;
  * J&ouml;rg Richter&lt;br&gt;
  * <A HREF="https://lists.berlios.de/mailman/listinfo/deepamehta-svn">jri at deepamehta.de</A>
  */
@@ -44,8 +44,8 @@
 	 *
 	 * @see		ApplicationService#deleteLiveTopic
 	 * @see		ApplicationService#performTopicAction
-	 * @see		de.deepamehta.topics.TopicContainerTopic#processQuery
-	 * @see		de.deepamehta.topics.ElementContainerTopic#processQuery
+	 * @see		de.deepamehta.topics.TopicContainerTopic#performQuery
+	 * @see		de.deepamehta.topics.ElementContainerTopic#performQuery
 	 * @see		de.deepamehta.topics.ElementContainerTopic#autoSearch
 	 */
 	public CorporateDirectives() {
@@ -710,7 +710,7 @@
 				props = new Hashtable();
 			}
 			// set owner
-			if (!topic.isVirtual() &amp;&amp; !session.isDemo()) {		// Note: a demo user has no user ID (null)
+			if (!topic.fromDatasource() &amp;&amp; !session.isDemo()) {		// Note: a demo user has no user ID (null)
 				props.put(PROPERTY_OWNER_ID, session.getUserID());
 			}
 			//

Modified: trunk/develop/src/de/deepamehta/service/RelationalCorporateMemory.java
===================================================================
--- trunk/develop/src/de/deepamehta/service/RelationalCorporateMemory.java	2008-07-08 10:50:42 UTC (rev 334)
+++ trunk/develop/src/de/deepamehta/service/RelationalCorporateMemory.java	2008-08-08 01:24:59 UTC (rev 335)
@@ -169,7 +169,7 @@
 
 	/**
 	 * @see		de.deepamehta.topics.TopicContainerTopic#getContent
-	 * @see		de.deepamehta.topics.TopicContainerTopic#processQuery
+	 * @see		de.deepamehta.topics.TopicContainerTopic#performQuery
 	 */
 	public Vector getTopics(String typeID, String nameFilter, Hashtable propertyFilter) {
 		return getTopics(typeID, nameFilter, propertyFilter, null);

Modified: trunk/develop/src/de/deepamehta/topics/ContainerTopic.java
===================================================================
--- trunk/develop/src/de/deepamehta/topics/ContainerTopic.java	2008-07-08 10:50:42 UTC (rev 334)
+++ trunk/develop/src/de/deepamehta/topics/ContainerTopic.java	2008-08-08 01:24:59 UTC (rev 335)
@@ -88,10 +88,9 @@
  * &lt;/OL&gt;
  * &lt;P&gt;
  * &lt;HR&gt;
- * Last functional change: 29.1.2008 (2.0b8)&lt;BR&gt;
- * Last documentation update: 13.3.2001 (2.0a10-pre1)&lt;BR&gt;
+ * Last change: 7.8.2008 (2.0b8)&lt;BR&gt;
  * J&ouml;rg Richter&lt;BR&gt;
- * <A HREF="https://lists.berlios.de/mailman/listinfo/deepamehta-svn">jri at freenet.de</A>
+ * <A HREF="https://lists.berlios.de/mailman/listinfo/deepamehta-svn">jri at deepamehta.de</A>
  */
 public abstract class ContainerTopic extends LiveTopic {
 
@@ -104,7 +103,8 @@
 
 
 	/**
-	 * ### The query represented by this container.
+	 * Part of the query represented by this container: the property filter.
+	 * &lt;p&gt;
 	 * The containers query is immutable -- once set it will not change over the lifetime
 	 * of the container.
 	 * &lt;P&gt;
@@ -127,13 +127,15 @@
 	protected Hashtable containerPropertyFilter = new Hashtable();
 
 	/**
-	 * Name filter.
+	 * Part of the query represented by this container: the name filter.
 	 * &lt;P&gt;
 	 * Note: Remains uninitialized if no name filter is set for this container
 	 */
 	protected String containerNameFilter;
 
 	/**
+	 * Part of the query represented by this container: the relation filter.
+	 * &lt;p&gt;
 	 * The topic to which an association must exists to the the topics of this container.
 	 * &lt;P&gt;
 	 * Initialized by {@link #initContainer}.&lt;BR&gt;
@@ -141,6 +143,9 @@
 	 */
 	protected BaseTopic containerRelatedTopic;
 
+	/**
+	 * Part of the query represented by this container: the relation filter
+	 */
 	protected String relatedTopicSemantic;
 
 	// ---
@@ -227,7 +232,7 @@
 														Session session, CorporateDirectives directives) {
 		// Note: super.contextCommands() isn't called here because a container has no standard commands
 		CorporateCommands commands = new CorporateCommands(as);
-		// &quot;Show Result&quot;
+		// &quot;Show Result&quot; ### to be dropped
 		Commands cmdGroup = commands.addCommandGroup(as.string(ITEM_SHOW_CONTENT), FILESERVER_IMAGES_PATH, ICON_SHOW_RESULT);
 		if (getContentSize() &lt;= MAX_LISTING) {
 			Enumeration e = getContent().elements();
@@ -272,28 +277,35 @@
 		if (cmd.equals(CMD_DEFAULT)) {
 			// reveal content
 			CorporateDirectives directives = triggerQuery(topicmapID);
-			// ### let the superclass show the topic detail
-			// directives.add(super.executeCommand(command, session));
 			return directives;
 		} else if (cmd.equals(CMD_SUBMIT_FORM)) {
 			// filtering
 			Hashtable containerProps = getProperties();
 			String nameFilter = (String) containerProps.get(PROPERTY_SEARCH);
-			return processQuery(nameFilter, queryProperties(containerProps), null, null, topicmapID);
-		} else if (cmd.equals(CMD_SHOW_CONTENT)) {
+			return performQuery(nameFilter, queryProperties(containerProps), null, null, topicmapID);
+		} else if (cmd.equals(CMD_FOLLOW_HYPERLINK)) {
+			CorporateDirectives directives = new CorporateDirectives();
+			String url = st.nextToken();
+			String urlPrefix = &quot;<A HREF="http://">http://</A>&quot;;
+			if (!url.startsWith(urlPrefix)) {
+				System.out.println(&quot;*** ContainerTopic.executeCommand(): URL \&quot;&quot; + url + &quot;\&quot; not recognized by &quot; +
+					&quot;CMD_FOLLOW_HYPERLINK&quot;);
+				return directives;
+			}
+			String action = url.substring(urlPrefix.length());
+			if (action.startsWith(ACTION_REVEAL_TOPIC)) {
+				String id = action.substring(ACTION_REVEAL_TOPIC.length() + 1);	// +1 to skip /
+				revealResultTopic(id, topicmapID, directives);
+			} else {
+				System.out.println(&quot;*** ContainerTopic.executeCommand(): URL \&quot;&quot; + url + &quot;\&quot; not recognized by &quot; +
+					&quot;CMD_FOLLOW_HYPERLINK&quot;);
+			}
+			return directives;
+		} else if (cmd.equals(CMD_SHOW_CONTENT)) {	// ### to be dropped
 			// reveal one topic
 			CorporateDirectives directives = new CorporateDirectives();
 			String id = st.nextToken();
-			String topicID = revealTopic(id, topicmapID, directives);
-			// reveal association(s) if relation filter is set
-			if (containerRelatedTopic != null) {
-				Vector assocs = cm.getAssociations(topicID, containerRelatedTopic.getID(), true);	// ignoreDirection=true
-				Enumeration e = assocs.elements();
-				while (e.hasMoreElements()) {
-					BaseAssociation assoc = (BaseAssociation) e.nextElement();
-					directives.add(DIRECTIVE_SHOW_ASSOCIATION, new PresentableAssociation(assoc));
-				}
-			}
+			revealResultTopic(id, topicmapID, directives);
 			return directives;
 		} else if (cmd.equals(CMD_GROUP_BY)) {
 			// grouping
@@ -312,6 +324,12 @@
 
 
 
+	public Hashtable getPropertyBaseURLs() {
+		Hashtable baseURLs = new Hashtable();
+		baseURLs.put(PROPERTY_RESULT, as.getCorporateWebBaseURL());
+		return baseURLs;
+	}
+
 	public Vector disabledProperties(Session session) {
 		return disabledProperties;
 	}
@@ -325,7 +343,7 @@
 
 
 	public String getLabel() {
-		return getProperty(&quot;ElementCount&quot;);
+		return getProperty(PROPERTY_ELEMENT_COUNT);
 	}
 
 
@@ -375,13 +393,15 @@
 
 
 	/**
-	 * References checked: 27.11.2004 (2.0b4)
+	 * Triggers this search.
+	 * &lt;p&gt;
+	 * References checked: 6.8.2008 (2.0b8)
 	 *
 	 * @see		#executeCommand
 	 * @see		TopicMapTopic#searchByTopicType
 	 */
-	public CorporateDirectives triggerQuery(String topicmapID) {
-		return processQuery(containerNameFilter, containerPropertyFilter, containerRelatedTopic, relatedTopicSemantic, topicmapID);
+	CorporateDirectives triggerQuery(String topicmapID) {
+		return performQuery(containerNameFilter, containerPropertyFilter, containerRelatedTopic, relatedTopicSemantic, topicmapID);
 	}
 
 	/**
@@ -420,7 +440,7 @@
 	protected abstract String getContentTypeID();
 
 	/**
-	 * Returns a list of all topics contained in this container.
+	 * Returns a list of all topics contained in this container. ### to be dropped
 	 * 
 	 * @return	all topics of this container as vector of 2-element &lt;CODE&gt;String&lt;/CODE&gt;
 	 *			arrays:&lt;BR&gt;
@@ -435,16 +455,21 @@
 	protected abstract int getContentSize();
 
 	/**
+	 * ### to be dropped
+	 *
 	 * @see		#contextCommands
 	 */
-	protected abstract String getAppearance(String id, String name,
-								Session session, CorporateDirectives directives);
+	protected abstract String getAppearance(String id, String name, Session session, CorporateDirectives directives);
 
 	/**
+	 * Performs the specified search and returns the directives to reveal the result.
+	 * &lt;p&gt;
+	 * References checked: 6.8.2008 (2.0b8)
+	 *
+	 * @see		#executeCommand
 	 * @see		#triggerQuery
-	 * @see		#executeCommand
 	 */
-	protected abstract CorporateDirectives processQuery(String nameFilter, Hashtable propertyFilter,
+	protected abstract CorporateDirectives performQuery(String nameFilter, Hashtable propertyFilter,
 												BaseTopic relatedTopic, String relatedTopicSemantic, String topicmapID);
 
 	protected abstract CorporateDirectives autoSearch(String groupingProperty);
@@ -487,11 +512,12 @@
 		// editor acts as query form).
 		//
 		// --- remove internal used properties ---
-		containerProperties.remove(&quot;QueryElements&quot;);
-		containerProperties.remove(&quot;ElementCount&quot;);
+		containerProperties.remove(PROPERTY_QUERY_ELEMENTS);
+		containerProperties.remove(PROPERTY_ELEMENT_COUNT);
 		containerProperties.remove(PROPERTY_RELATED_TOPIC_ID);
 		containerProperties.remove(PROPERTY_RELATED_TOPIC_SEMANTIC);
 		containerProperties.remove(PROPERTY_SEARCH);
+		containerProperties.remove(PROPERTY_RESULT);
 		containerProperties.remove(PROPERTY_OWNER_ID);
 		// --- remove empty properties ---
 		Enumeration e = containerProperties.keys();
@@ -528,7 +554,8 @@
 	 */
 	private void initContainer(Session session, CorporateDirectives directives) {
 		// --- disabledProperties ---
-		this.disabledProperties = queryFields(getProperty(&quot;QueryElements&quot;));
+		this.disabledProperties = queryFields(getProperty(PROPERTY_QUERY_ELEMENTS));
+		this.disabledProperties.addElement(PROPERTY_RESULT);
 		// --- containerRelatedTopic, relatedTopicSemantic ---
 		// Note: only initialized if a relation filter is used
 		try {
@@ -553,8 +580,10 @@
 		while (propNames.hasMoreElements()) {
 			String propName = (String) propNames.nextElement();
 			String propValue = (String) containerProps.get(propName);
-			if (propName.equals(PROPERTY_SEARCH)) {		// ###
+			if (propName.equals(PROPERTY_SEARCH)) {				// ###
 				this.containerNameFilter = propValue;
+			} else if (propName.equals(PROPERTY_RESULT)) {		// ###
+				// do nothing
 			} else {
 				if (propValue != null) {
 					this.containerPropertyFilter.put(propName, propValue);
@@ -569,6 +598,19 @@
 		}
 	}
 
+	private void revealResultTopic(String id, String topicmapID, CorporateDirectives directives) {
+		String topicID = revealTopic(id, topicmapID, directives);	// call abstract method
+		// --- reveal association(s) if relation filter is set ---
+		if (containerRelatedTopic != null) {
+			Vector assocs = cm.getAssociations(topicID, containerRelatedTopic.getID(), true);	// ignoreDirection=true
+			Enumeration e = assocs.elements();
+			while (e.hasMoreElements()) {
+				BaseAssociation assoc = (BaseAssociation) e.nextElement();
+				directives.add(DIRECTIVE_SHOW_ASSOCIATION, new PresentableAssociation(assoc));
+			}
+		}
+	}
+
 	/**
 	 * @see		#initContainer
 	 */

Modified: trunk/develop/src/de/deepamehta/topics/ElementContainerTopic.java
===================================================================
--- trunk/develop/src/de/deepamehta/topics/ElementContainerTopic.java	2008-07-08 10:50:42 UTC (rev 334)
+++ trunk/develop/src/de/deepamehta/topics/ElementContainerTopic.java	2008-08-08 01:24:59 UTC (rev 335)
@@ -23,10 +23,9 @@
  * elements into topics along with properties.
  * &lt;P&gt;
  * &lt;HR&gt;
- * Last functional change: 27.11.2004 (2.0b4)&lt;BR&gt;
- * Last documentation update: 16.11.2000 (2.0a7-pre3)&lt;BR&gt;
+ * Last change: 7.8.2008 (2.0b8)&lt;BR&gt;
  * J&ouml;rg Richter&lt;BR&gt;
- * <A HREF="https://lists.berlios.de/mailman/listinfo/deepamehta-svn">jri at freenet.de</A>
+ * <A HREF="https://lists.berlios.de/mailman/listinfo/deepamehta-svn">jri at deepamehta.de</A>
  */
 public abstract class ElementContainerTopic extends ContainerTopic {
 
@@ -106,7 +105,7 @@
 	 * &lt;P&gt;
 	 * The default implementation returns the entered data directly.
 	 *
-	 * @see		#processQuery
+	 * @see		#performQuery
 	 */
 	protected Hashtable queryData(Hashtable formData) {
 		return formData;
@@ -175,9 +174,9 @@
 		}
 	}
 
+	// ### to be dropped
 	// Note: id is the element ID, not a topicID
-	protected String getAppearance(String id, String name, Session session,
-													CorporateDirectives directives) {
+	protected String getAppearance(String id, String name, Session session, CorporateDirectives directives) {
 		// ### inidividual appearance of already evoked elements is not considered.
 		// &gt;&gt;&gt; compare to TopicContainerTopic.getAppearance()
 		return as.getIconfile(getContentTypeID(), 1);	// ### was (id, 1) ### version=1
@@ -188,11 +187,12 @@
 	 *
 	 * @throws	DeepaMehtaException	if this container doesn't know its data source
 	 *
+	 * @see		ContainerTopic#executeCommand
 	 * @see		ContainerTopic#triggerQuery
-	 * @see		ContainerTopic#executeCommand
 	 */
-	protected CorporateDirectives processQuery(String nameFilter, Hashtable propertyFilter,
-									BaseTopic relatedTopic, String relatedTopicSemantic, String topicmapID) throws DeepaMehtaException {
+	protected CorporateDirectives performQuery(String nameFilter, Hashtable propertyFilter,
+											BaseTopic relatedTopic, String relatedTopicSemantic, String topicmapID)
+											throws DeepaMehtaException {
 		// error check 1
 		if (dataSource == null) {
 			throw new DeepaMehtaException(&quot;the datasource of &quot; + this + &quot; is not known&quot;);
@@ -204,7 +204,7 @@
 		Hashtable attributes = queryData(propertyFilter);
 		//
 		if (attributes == null) {
-			System.out.println(&quot;&gt;&gt;&gt; ElementContainerTopic.processQuery(): subquery of &quot; + this +
+			System.out.println(&quot;&gt;&gt;&gt; ElementContainerTopic.performQuery(): subquery of &quot; + this +
 				&quot; returns nothing -- performing main query aborted&quot;);
 			directives.add(DIRECTIVE_PLAY_SOUND, NOTIFICATION_SOUNDS[SOUND_NO_RESULT]);
 			return directives;
@@ -219,12 +219,12 @@
 			// --- query the data source ---
 			int elementCount = getElementCount(attributes, relatedTopic);
 			Vector topics = null;
-			if (elementCount &lt;= MAX_REVEALING) {
+			if (elementCount &lt;= MAX_LISTING) {
 				Vector elements = getElements(attributes, relatedTopic);
 				topics = createTopicsFromElements(elements);
 			}
 			//
-			System.out.println(&quot;&gt; ElementContainerTopic.processQuery(): &quot; + attributes +
+			System.out.println(&quot;&gt; ElementContainerTopic.performQuery(): &quot; + attributes +
 				&quot; -- &quot; + elementCount + &quot; elements found&quot;);
 			//
 			String relTopicID = relatedTopic == null ? &quot;&quot; : relatedTopic.getID();
@@ -355,7 +355,7 @@
 
 	/**
 	 * @see		#getContent
-	 * @see		#processQuery
+	 * @see		#performQuery
 	 */
 	private Vector getElements(Hashtable attributes, BaseTopic relatedTopic) throws Exception {
 		if (relatedTopic == null) {
@@ -388,8 +388,8 @@
 		Hashtable topicData;
 		topicData = (Hashtable) formData.clone();
 		topicData.put(groupingField, groupingValue);
-		topicData.put(&quot;QueryElements&quot;, queryElements);
-		topicData.put(&quot;ElementCount&quot;, foundStr);
+		topicData.put(PROPERTY_QUERY_ELEMENTS, queryElements);
+		topicData.put(PROPERTY_ELEMENT_COUNT, foundStr);
 		// create new container topic
 		String containerID = cm.getNewTopicID();
 		// the version of a new container topic is 1
@@ -409,12 +409,12 @@
 	 * Creates {@link de.deepamehta.PresentableTopic}s corresponding to the
 	 * elements in the specified vector.
 	 * &lt;P&gt;
-	 * Presumption 1: there are not more than {@link #MAX_REVEALING} elements.&lt;BR&gt;
+	 * Presumption 1: there are not more than {@link #MAX_LISTING} elements.&lt;BR&gt;
 	 * Presumption 2: the element data contain a field &lt;CODE&gt;ID&lt;/CODE&gt;.
 	 *
 	 * @return	Vector of {@link de.deepamehta.PresentableTopic}
 	 *
-	 * @see		#processQuery
+	 * @see		#performQuery
 	 */
 	private Vector createTopicsFromElements(Vector elements) {
 		Vector topics = new Vector();
@@ -451,9 +451,11 @@
 		PresentableTopic topic = new PresentableTopic(topicID, 1, typeID, 1, name, getID(), &quot;&quot;);
 		// --- trigger makeProperties() hook ---
 		Hashtable props = as.triggerMakeProperties(typeID, elementData);
+		//
+		topic.setOriginalID(elementID);
 		topic.setProperties(props);
-		topic.setVirtual(true);
-		//
+		topic.setIcon(as.getIconfile(getContentTypeID(), 1));		// ### inidividual appearance of already
+																	// ### evoked elements is not considered
 		return topic;
 	}
 

Modified: trunk/develop/src/de/deepamehta/topics/TopicContainerTopic.java
===================================================================
--- trunk/develop/src/de/deepamehta/topics/TopicContainerTopic.java	2008-07-08 10:50:42 UTC (rev 334)
+++ trunk/develop/src/de/deepamehta/topics/TopicContainerTopic.java	2008-08-08 01:24:59 UTC (rev 335)
@@ -18,10 +18,9 @@
  * {@link de.deepamehta.service.CorporateMemory corporate memory}.
  * &lt;P&gt;
  * &lt;HR&gt;
- * Last functional change: 27.11.2004 (2.0b4)&lt;BR&gt;
- * Last documentation update: 25.11.2000 (2.0a7-pre6)&lt;BR&gt;
+ * Last change: 7.8.2008 (2.0b8)&lt;BR&gt;
  * J&ouml;rg Richter&lt;BR&gt;
- * <A HREF="https://lists.berlios.de/mailman/listinfo/deepamehta-svn">jri at freenet.de</A>
+ * <A HREF="https://lists.berlios.de/mailman/listinfo/deepamehta-svn">jri at deepamehta.de</A>
  */
 public class TopicContainerTopic extends ContainerTopic {
 
@@ -99,7 +98,7 @@
 
 	/**
 	 * @see		#getContent
-	 * @see		#processQuery
+	 * @see		#performQuery
 	 */
 	protected  String getContentTypeID() throws DeepaMehtaException {
 		// error check
@@ -150,6 +149,7 @@
 		return getContent().size();		// ### not yet optimized
 	}
 
+	// ### to be dropped
 	protected String getAppearance(String id, String name, Session session, CorporateDirectives directives) {
 		// &gt;&gt;&gt; compare to ElementContainerTopic.getAppearance()
 		return as.getIconfile(id, 1);	// ### version=1
@@ -158,10 +158,10 @@
 	/**
 	 * @throws	DeepaMehtaException	if this container doesn't know its content type
 	 *
+	 * @see		ContainerTopic#executeCommand
 	 * @see		ContainerTopic#triggerQuery
-	 * @see		ContainerTopic#executeCommand
 	 */
-	protected CorporateDirectives processQuery(String nameFilter, Hashtable propertyFilter,
+	protected CorporateDirectives performQuery(String nameFilter, Hashtable propertyFilter,
 											BaseTopic relatedTopic, String relatedTopicSemantic, String topicmapID)
 											throws DeepaMehtaException {
 		// error check
@@ -175,7 +175,7 @@
 		Vector topics = cm.getTopics(getContentTypeID(), nameFilter, propertyFilter, relatedTopicID, relatedTopicSemantic);
 		int topicCount = topics.size();
 		//
-		System.out.println(&quot;&gt; TopicContainerTopic.processQuery(): \&quot;&quot; + propertyFilter +
+		System.out.println(&quot;&gt; TopicContainerTopic.performQuery(): \&quot;&quot; + propertyFilter +
 			&quot;\&quot; -- &quot; + topicCount + &quot; topics found&quot;);
 		//
 		Vector presentableTopics = as.createPresentableTopics(topicmapID, topics, getID());

Modified: trunk/install/db/patches/cm-2.17.sql
===================================================================
--- trunk/install/db/patches/cm-2.17.sql	2008-07-08 10:50:42 UTC (rev 334)
+++ trunk/install/db/patches/cm-2.17.sql	2008-08-08 01:24:59 UTC (rev 335)
@@ -1,6 +1,6 @@
 ---
 --- This patch updates CM 2.16 to 2.17
---- Apply this patch if you want to update DeepaMehta 2.0b7 to 2.0b8 while keeping your content
+--- Apply this patch if you want to update DeepaMehta 2.0b7 to 2.0b8-rc4 while keeping your content
 ---
 
 

Added: trunk/install/db/patches/cm-2.18.sql
===================================================================
--- trunk/install/db/patches/cm-2.18.sql	2008-07-08 10:50:42 UTC (rev 334)
+++ trunk/install/db/patches/cm-2.18.sql	2008-08-08 01:24:59 UTC (rev 335)
@@ -0,0 +1,12 @@
+---
+--- This patch updates CM 2.17 to 2.18
+--- Apply this patch if you want to update DeepaMehta 2.0b8-rc4 to 2.0b8 while keeping your content
+---
+
+-- create property &quot;Result&quot;
+INSERT INTO Topic VALUES ('tt-property', 1, 1, 'pp-result', 'Result');
+INSERT INTO TopicProp VALUES ('pp-result', 1, 'Name', 'Result');
+INSERT INTO TopicProp VALUES ('pp-result', 1, 'Visualization', 'Text Editor');
+-- assign to topic type &quot;Search&quot;
+INSERT INTO Association VALUES ('at-composition', 1, 1, 'a-339', '', 'tt-container', 1, 'pp-result', 1);
+INSERT INTO AssociationProp VALUES ('a-339', 1, 'Ordinal Number', '200');


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="000181.html">[deepamehta-svn] r336 - trunk/install/config
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#180">[ date ]</a>
              <a href="thread.html#180">[ thread ]</a>
              <a href="subject.html#180">[ subject ]</a>
              <a href="author.html#180">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/deepamehta-svn">More information about the deepamehta-svn
mailing list</a><br>
</body></html>
